function Hs(t,e){const s=Object.create(null),n=t.split(",");for(let r=0;r<n.length;r++)s[n[r]]=!0;return e?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const Li="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Di=Hs(Li);function $n(t){return!!t||t===""}function Us(t){if(Y(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=yt(n)?Ki(n):Us(n);if(r)for(const i in r)e[i]=r[i]}return e}else{if(yt(t))return t;if(pt(t))return t}}const Ni=/;(?![^(]*\))/g,Bi=/:(.+)/;function Ki(t){const e={};return t.split(Ni).forEach(s=>{if(s){const n=s.split(Bi);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function qs(t){let e="";if(yt(t))e=t;else if(Y(t))for(let s=0;s<t.length;s++){const n=qs(t[s]);n&&(e+=n+" ")}else if(pt(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const yc=t=>t==null?"":Y(t)||pt(t)&&(t.toString===Wn||!X(t.toString))?JSON.stringify(t,Hn,2):String(t),Hn=(t,e)=>e&&e.__v_isRef?Hn(t,e.value):Ae(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r])=>(s[`${n} =>`]=r,s),{})}:Un(e)?{[`Set(${e.size})`]:[...e.values()]}:pt(e)&&!Y(e)&&!zn(e)?String(e):e,ct={},Ee=[],Kt=()=>{},$i=()=>!1,Hi=/^on[^a-z]/,cs=t=>Hi.test(t),Ws=t=>t.startsWith("onUpdate:"),wt=Object.assign,zs=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Ui=Object.prototype.hasOwnProperty,G=(t,e)=>Ui.call(t,e),Y=Array.isArray,Ae=t=>as(t)==="[object Map]",Un=t=>as(t)==="[object Set]",X=t=>typeof t=="function",yt=t=>typeof t=="string",Ys=t=>typeof t=="symbol",pt=t=>t!==null&&typeof t=="object",qn=t=>pt(t)&&X(t.then)&&X(t.catch),Wn=Object.prototype.toString,as=t=>Wn.call(t),qi=t=>as(t).slice(8,-1),zn=t=>as(t)==="[object Object]",Vs=t=>yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,us=Hs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Wi=/-(\w)/g,Me=fs(t=>t.replace(Wi,(e,s)=>s?s.toUpperCase():"")),zi=/\B([A-Z])/g,Ie=fs(t=>t.replace(zi,"-$1").toLowerCase()),Yn=fs(t=>t.charAt(0).toUpperCase()+t.slice(1)),Js=fs(t=>t?`on${Yn(t)}`:""),qe=(t,e)=>!Object.is(t,e),Xs=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},hs=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},Vn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Jn;const Yi=()=>Jn||(Jn=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let he;const ds=[];class Xn{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&he&&(this.parent=he,this.index=(he.scopes||(he.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(ds.push(this),he=this)}off(){this.active&&(ds.pop(),he=ds[ds.length-1])}stop(e){if(this.active){if(this.effects.forEach(s=>s.stop()),this.cleanups.forEach(s=>s()),this.scopes&&this.scopes.forEach(s=>s.stop(!0)),this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Zn(t){return new Xn(t)}function Vi(t,e){e=e||he,e&&e.active&&e.effects.push(t)}const Zs=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Qn=t=>(t.w&Gt)>0,Gn=t=>(t.n&Gt)>0,Ji=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Gt},Xi=t=>{const{deps:e}=t;if(e.length){let s=0;for(let n=0;n<e.length;n++){const r=e[n];Qn(r)&&!Gn(r)?r.delete(t):e[s++]=r,r.w&=~Gt,r.n&=~Gt}e.length=s}},Qs=new WeakMap;let We=0,Gt=1;const Gs=30,ze=[];let de;const pe=Symbol(""),tn=Symbol("");class en{constructor(e,s=null,n){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],Vi(this,n)}run(){if(!this.active)return this.fn();if(!ze.includes(this))try{return ze.push(de=this),Zi(),Gt=1<<++We,We<=Gs?Ji(this):tr(this),this.fn()}finally{We<=Gs&&Xi(this),Gt=1<<--We,ge(),ze.pop();const e=ze.length;de=e>0?ze[e-1]:void 0}}stop(){this.active&&(tr(this),this.onStop&&this.onStop(),this.active=!1)}}function tr(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}let Oe=!0;const sn=[];function ke(){sn.push(Oe),Oe=!1}function Zi(){sn.push(Oe),Oe=!0}function ge(){const t=sn.pop();Oe=t===void 0?!0:t}function At(t,e,s){if(!er())return;let n=Qs.get(t);n||Qs.set(t,n=new Map);let r=n.get(s);r||n.set(s,r=Zs()),sr(r)}function er(){return Oe&&de!==void 0}function sr(t,e){let s=!1;We<=Gs?Gn(t)||(t.n|=Gt,s=!Qn(t)):s=!t.has(de),s&&(t.add(de),de.deps.push(t))}function zt(t,e,s,n,r,i){const l=Qs.get(t);if(!l)return;let a=[];if(e==="clear")a=[...l.values()];else if(s==="length"&&Y(t))l.forEach((f,p)=>{(p==="length"||p>=n)&&a.push(f)});else switch(s!==void 0&&a.push(l.get(s)),e){case"add":Y(t)?Vs(s)&&a.push(l.get("length")):(a.push(l.get(pe)),Ae(t)&&a.push(l.get(tn)));break;case"delete":Y(t)||(a.push(l.get(pe)),Ae(t)&&a.push(l.get(tn)));break;case"set":Ae(t)&&a.push(l.get(pe));break}if(a.length===1)a[0]&&nn(a[0]);else{const f=[];for(const p of a)p&&f.push(...p);nn(Zs(f))}}function nn(t,e){for(const s of Y(t)?t:[...t])(s!==de||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const Qi=Hs("__proto__,__v_isRef,__isVue"),nr=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Ys)),Gi=rn(),to=rn(!1,!0),eo=rn(!0),rr=so();function so(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const n=tt(this);for(let i=0,l=this.length;i<l;i++)At(n,"get",i+"");const r=n[e](...s);return r===-1||r===!1?n[e](...s.map(tt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){ke();const n=tt(this)[e].apply(this,s);return ge(),n}}),t}function rn(t=!1,e=!1){return function(n,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_raw"&&i===(t?e?bo:dr:e?hr:fr).get(n))return n;const l=Y(n);if(!t&&l&&G(rr,r))return Reflect.get(rr,r,i);const a=Reflect.get(n,r,i);return(Ys(r)?nr.has(r):Qi(r))||(t||At(n,"get",r),e)?a:gt(a)?!l||!Vs(r)?a.value:a:pt(a)?t?pr(a):ws(a):a}}const no=ir(),ro=ir(!0);function ir(t=!1){return function(s,n,r,i){let l=s[n];if(!t&&!an(r)&&(r=tt(r),l=tt(l),!Y(s)&&gt(l)&&!gt(r)))return l.value=r,!0;const a=Y(s)&&Vs(n)?Number(n)<s.length:G(s,n),f=Reflect.set(s,n,r,i);return s===tt(i)&&(a?qe(r,l)&&zt(s,"set",n,r):zt(s,"add",n,r)),f}}function io(t,e){const s=G(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&s&&zt(t,"delete",e,void 0),n}function oo(t,e){const s=Reflect.has(t,e);return(!Ys(e)||!nr.has(e))&&At(t,"has",e),s}function lo(t){return At(t,"iterate",Y(t)?"length":pe),Reflect.ownKeys(t)}const or={get:Gi,set:no,deleteProperty:io,has:oo,ownKeys:lo},co={get:eo,set(t,e){return!0},deleteProperty(t,e){return!0}},ao=wt({},or,{get:to,set:ro}),on=t=>t,ps=t=>Reflect.getPrototypeOf(t);function gs(t,e,s=!1,n=!1){t=t.__v_raw;const r=tt(t),i=tt(e);e!==i&&!s&&At(r,"get",e),!s&&At(r,"get",i);const{has:l}=ps(r),a=n?on:s?un:Ye;if(l.call(r,e))return a(t.get(e));if(l.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function ms(t,e=!1){const s=this.__v_raw,n=tt(s),r=tt(t);return t!==r&&!e&&At(n,"has",t),!e&&At(n,"has",r),t===r?s.has(t):s.has(t)||s.has(r)}function vs(t,e=!1){return t=t.__v_raw,!e&&At(tt(t),"iterate",pe),Reflect.get(t,"size",t)}function lr(t){t=tt(t);const e=tt(this);return ps(e).has.call(e,t)||(e.add(t),zt(e,"add",t,t)),this}function cr(t,e){e=tt(e);const s=tt(this),{has:n,get:r}=ps(s);let i=n.call(s,t);i||(t=tt(t),i=n.call(s,t));const l=r.call(s,t);return s.set(t,e),i?qe(e,l)&&zt(s,"set",t,e):zt(s,"add",t,e),this}function ar(t){const e=tt(this),{has:s,get:n}=ps(e);let r=s.call(e,t);r||(t=tt(t),r=s.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return r&&zt(e,"delete",t,void 0),i}function ur(){const t=tt(this),e=t.size!==0,s=t.clear();return e&&zt(t,"clear",void 0,void 0),s}function ys(t,e){return function(n,r){const i=this,l=i.__v_raw,a=tt(l),f=e?on:t?un:Ye;return!t&&At(a,"iterate",pe),l.forEach((p,m)=>n.call(r,f(p),f(m),i))}}function bs(t,e,s){return function(...n){const r=this.__v_raw,i=tt(r),l=Ae(i),a=t==="entries"||t===Symbol.iterator&&l,f=t==="keys"&&l,p=r[t](...n),m=s?on:e?un:Ye;return!e&&At(i,"iterate",f?tn:pe),{next(){const{value:b,done:C}=p.next();return C?{value:b,done:C}:{value:a?[m(b[0]),m(b[1])]:m(b),done:C}},[Symbol.iterator](){return this}}}}function te(t){return function(...e){return t==="delete"?!1:this}}function uo(){const t={get(i){return gs(this,i)},get size(){return vs(this)},has:ms,add:lr,set:cr,delete:ar,clear:ur,forEach:ys(!1,!1)},e={get(i){return gs(this,i,!1,!0)},get size(){return vs(this)},has:ms,add:lr,set:cr,delete:ar,clear:ur,forEach:ys(!1,!0)},s={get(i){return gs(this,i,!0)},get size(){return vs(this,!0)},has(i){return ms.call(this,i,!0)},add:te("add"),set:te("set"),delete:te("delete"),clear:te("clear"),forEach:ys(!0,!1)},n={get(i){return gs(this,i,!0,!0)},get size(){return vs(this,!0)},has(i){return ms.call(this,i,!0)},add:te("add"),set:te("set"),delete:te("delete"),clear:te("clear"),forEach:ys(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=bs(i,!1,!1),s[i]=bs(i,!0,!1),e[i]=bs(i,!1,!0),n[i]=bs(i,!0,!0)}),[t,s,e,n]}const[fo,ho,po,go]=uo();function ln(t,e){const s=e?t?go:po:t?ho:fo;return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(G(s,r)&&r in n?s:n,r,i)}const mo={get:ln(!1,!1)},vo={get:ln(!1,!0)},yo={get:ln(!0,!1)},fr=new WeakMap,hr=new WeakMap,dr=new WeakMap,bo=new WeakMap;function wo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _o(t){return t.__v_skip||!Object.isExtensible(t)?0:wo(qi(t))}function ws(t){return t&&t.__v_isReadonly?t:cn(t,!1,or,mo,fr)}function xo(t){return cn(t,!1,ao,vo,hr)}function pr(t){return cn(t,!0,co,yo,dr)}function cn(t,e,s,n,r){if(!pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const l=_o(t);if(l===0)return t;const a=new Proxy(t,l===2?n:s);return r.set(t,a),a}function ee(t){return an(t)?ee(t.__v_raw):!!(t&&t.__v_isReactive)}function an(t){return!!(t&&t.__v_isReadonly)}function gr(t){return ee(t)||an(t)}function tt(t){const e=t&&t.__v_raw;return e?tt(e):t}function Fe(t){return hs(t,"__v_skip",!0),t}const Ye=t=>pt(t)?ws(t):t,un=t=>pt(t)?pr(t):t;function mr(t){er()&&(t=tt(t),t.dep||(t.dep=Zs()),sr(t.dep))}function vr(t,e){t=tt(t),t.dep&&nn(t.dep)}function gt(t){return Boolean(t&&t.__v_isRef===!0)}function yr(t){return br(t,!1)}function bc(t){return br(t,!0)}function br(t,e){return gt(t)?t:new Co(t,e)}class Co{constructor(e,s){this._shallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:tt(e),this._value=s?e:Ye(e)}get value(){return mr(this),this._value}set value(e){e=this._shallow?e:tt(e),qe(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Ye(e),vr(this))}}function Po(t){return gt(t)?t.value:t}const So={get:(t,e,s)=>Po(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return gt(r)&&!gt(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function wr(t){return ee(t)?t:new Proxy(t,So)}function To(t){const e=Y(t)?new Array(t.length):{};for(const s in t)e[s]=Ao(t,s);return e}class Eo{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Ao(t,e,s){const n=t[e];return gt(n)?n:new Eo(t,e,s)}class Mo{constructor(e,s,n){this._setter=s,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new en(e,()=>{this._dirty||(this._dirty=!0,vr(this))}),this.__v_isReadonly=n}get value(){const e=tt(this);return mr(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function _r(t,e){let s,n;const r=X(t);return r?(s=t,n=Kt):(s=t.get,n=t.set),new Mo(s,n,r||!n)}Promise.resolve();function Io(t,e,...s){const n=t.vnode.props||ct;let r=s;const i=e.startsWith("update:"),l=i&&e.slice(7);if(l&&l in n){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:b,trim:C}=n[m]||ct;C?r=s.map(k=>k.trim()):b&&(r=s.map(Vn))}let a,f=n[a=Js(e)]||n[a=Js(Me(e))];!f&&i&&(f=n[a=Js(Ie(e))]),f&&Dt(f,t,6,r);const p=n[a+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Dt(p,t,6,r)}}function xr(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let l={},a=!1;if(!X(t)){const f=p=>{const m=xr(p,e,!0);m&&(a=!0,wt(l,m))};!s&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!i&&!a?(n.set(t,null),null):(Y(i)?i.forEach(f=>l[f]=null):wt(l,i),n.set(t,l),l)}function fn(t,e){return!t||!cs(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,Ie(e))||G(t,e))}let Rt=null,_s=null;function xs(t){const e=Rt;return Rt=t,_s=t&&t.type.__scopeId||null,e}function wc(t){_s=t}function _c(){_s=null}function Oo(t,e=Rt,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Yr(-1);const i=xs(e),l=t(...r);return xs(i),n._d&&Yr(1),l};return n._n=!0,n._c=!0,n._d=!0,n}function hn(t){const{type:e,vnode:s,proxy:n,withProxy:r,props:i,propsOptions:[l],slots:a,attrs:f,emit:p,render:m,renderCache:b,data:C,setupState:k,ctx:q,inheritAttrs:V}=t;let y,j;const F=xs(t);try{if(s.shapeFlag&4){const S=r||n;y=Ht(m.call(S,S,b,i,k,C,q)),j=f}else{const S=e;y=Ht(S.length>1?S(i,{attrs:f,slots:a,emit:p}):S(i,null)),j=e.props?f:ko(f)}}catch(S){Je.length=0,Ls(S,t,1),y=Pt($t)}let _=y;if(j&&V!==!1){const S=Object.keys(j),{shapeFlag:E}=_;S.length&&E&(1|6)&&(l&&S.some(Ws)&&(j=Fo(j,l)),_=Re(_,j))}return s.dirs&&(_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&(_.transition=s.transition),y=_,xs(F),y}const ko=t=>{let e;for(const s in t)(s==="class"||s==="style"||cs(s))&&((e||(e={}))[s]=t[s]);return e},Fo=(t,e)=>{const s={};for(const n in t)(!Ws(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Ro(t,e,s){const{props:n,children:r,component:i}=t,{props:l,children:a,patchFlag:f}=e,p=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&f>=0){if(f&1024)return!0;if(f&16)return n?Cr(n,l,p):!!l;if(f&8){const m=e.dynamicProps;for(let b=0;b<m.length;b++){const C=m[b];if(l[C]!==n[C]&&!fn(p,C))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===l?!1:n?l?Cr(n,l,p):!0:!!l;return!1}function Cr(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!fn(s,i))return!0}return!1}function jo({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const Lo=t=>t.__isSuspense;function Do(t,e){e&&e.pendingBranch?Y(t)?e.effects.push(...t):e.effects.push(t):Rl(t)}function No(t,e){if(_t){let s=_t.provides;const n=_t.parent&&_t.parent.provides;n===s&&(s=_t.provides=Object.create(n)),s[t]=e}}function Cs(t,e,s=!1){const n=_t||Rt;if(n){const r=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return s&&X(e)?e.call(n.proxy):e}}function Bo(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mr(()=>{t.isMounted=!0}),Ir(()=>{t.isUnmounting=!0}),t}const jt=[Function,Array],Ko={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},setup(t,{slots:e}){const s=Rs(),n=Bo();let r;return()=>{const i=e.default&&Er(e.default(),!0);if(!i||!i.length)return;const l=tt(t),{mode:a}=l,f=i[0];if(n.isLeaving)return pn(f);const p=Tr(f);if(!p)return pn(f);const m=dn(p,l,n,s);gn(p,m);const b=s.subTree,C=b&&Tr(b);let k=!1;const{getTransitionKey:q}=p.type;if(q){const V=q();r===void 0?r=V:V!==r&&(r=V,k=!0)}if(C&&C.type!==$t&&(!we(p,C)||k)){const V=dn(C,l,n,s);if(gn(C,V),a==="out-in")return n.isLeaving=!0,V.afterLeave=()=>{n.isLeaving=!1,s.update()},pn(f);a==="in-out"&&p.type!==$t&&(V.delayLeave=(y,j,F)=>{const _=Sr(n,C);_[String(C.key)]=C,y._leaveCb=()=>{j(),y._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=F})}return f}}},Pr=Ko;function Sr(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function dn(t,e,s,n){const{appear:r,mode:i,persisted:l=!1,onBeforeEnter:a,onEnter:f,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:b,onLeave:C,onAfterLeave:k,onLeaveCancelled:q,onBeforeAppear:V,onAppear:y,onAfterAppear:j,onAppearCancelled:F}=e,_=String(t.key),S=Sr(s,t),E=(U,W)=>{U&&Dt(U,n,9,W)},B={mode:i,persisted:l,beforeEnter(U){let W=a;if(!s.isMounted)if(r)W=V||a;else return;U._leaveCb&&U._leaveCb(!0);const J=S[_];J&&we(t,J)&&J.el._leaveCb&&J.el._leaveCb(),E(W,[U])},enter(U){let W=f,J=p,nt=m;if(!s.isMounted)if(r)W=y||f,J=j||p,nt=F||m;else return;let et=!1;const D=U._enterCb=ft=>{et||(et=!0,ft?E(nt,[U]):E(J,[U]),B.delayedLeave&&B.delayedLeave(),U._enterCb=void 0)};W?(W(U,D),W.length<=1&&D()):D()},leave(U,W){const J=String(t.key);if(U._enterCb&&U._enterCb(!0),s.isUnmounting)return W();E(b,[U]);let nt=!1;const et=U._leaveCb=D=>{nt||(nt=!0,W(),D?E(q,[U]):E(k,[U]),U._leaveCb=void 0,S[J]===t&&delete S[J])};S[J]=t,C?(C(U,et),C.length<=1&&et()):et()},clone(U){return dn(U,e,s,n)}};return B}function pn(t){if(Ps(t))return t=Re(t),t.children=null,t}function Tr(t){return Ps(t)?t.children?t.children[0]:void 0:t}function gn(t,e){t.shapeFlag&6&&t.component?gn(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Er(t,e=!1){let s=[],n=0;for(let r=0;r<t.length;r++){const i=t[r];i.type===Lt?(i.patchFlag&128&&n++,s=s.concat(Er(i.children,e))):(e||i.type!==$t)&&s.push(i)}if(n>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function xc(t){return X(t)?{setup:t,name:t.name}:t}const mn=t=>!!t.type.__asyncLoader,Ps=t=>t.type.__isKeepAlive;function $o(t,e){Ar(t,"a",e)}function Ho(t,e){Ar(t,"da",e)}function Ar(t,e,s=_t){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ss(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Ps(r.parent.vnode)&&Uo(n,e,s,r),r=r.parent}}function Uo(t,e,s,n){const r=Ss(e,t,n,!0);vn(()=>{zs(n[e],r)},s)}function Ss(t,e,s=_t,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...l)=>{if(s.isUnmounted)return;ke(),je(s);const a=Dt(e,s,t,l);return _e(),ge(),a});return n?r.unshift(i):r.push(i),i}}const Yt=t=>(e,s=_t)=>(!js||t==="sp")&&Ss(t,e,s),qo=Yt("bm"),Mr=Yt("m"),Wo=Yt("bu"),zo=Yt("u"),Ir=Yt("bum"),vn=Yt("um"),Yo=Yt("sp"),Vo=Yt("rtg"),Jo=Yt("rtc");function Xo(t,e=_t){Ss("ec",t,e)}let yn=!0;function Zo(t){const e=Fr(t),s=t.proxy,n=t.ctx;yn=!1,e.beforeCreate&&Or(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:l,watch:a,provide:f,inject:p,created:m,beforeMount:b,mounted:C,beforeUpdate:k,updated:q,activated:V,deactivated:y,beforeDestroy:j,beforeUnmount:F,destroyed:_,unmounted:S,render:E,renderTracked:B,renderTriggered:U,errorCaptured:W,serverPrefetch:J,expose:nt,inheritAttrs:et,components:D,directives:ft,filters:at}=e;if(p&&Qo(p,n,null,t.appContext.config.unwrapInjectedRef),l)for(const rt in l){const it=l[rt];X(it)&&(n[rt]=it.bind(s))}if(r){const rt=r.call(s,s);pt(rt)&&(t.data=ws(rt))}if(yn=!0,i)for(const rt in i){const it=i[rt],It=X(it)?it.bind(s,s):X(it.get)?it.get.bind(s,s):Kt,Ke=!X(it)&&X(it.set)?it.set.bind(s):Kt,le=_r({get:It,set:Ke});Object.defineProperty(n,rt,{enumerable:!0,configurable:!0,get:()=>le.value,set:Xt=>le.value=Xt})}if(a)for(const rt in a)kr(a[rt],n,s,rt);if(f){const rt=X(f)?f.call(s):f;Reflect.ownKeys(rt).forEach(it=>{No(it,rt[it])})}m&&Or(m,t,"c");function ht(rt,it){Y(it)?it.forEach(It=>rt(It.bind(s))):it&&rt(it.bind(s))}if(ht(qo,b),ht(Mr,C),ht(Wo,k),ht(zo,q),ht($o,V),ht(Ho,y),ht(Xo,W),ht(Jo,B),ht(Vo,U),ht(Ir,F),ht(vn,S),ht(Yo,J),Y(nt))if(nt.length){const rt=t.exposed||(t.exposed={});nt.forEach(it=>{Object.defineProperty(rt,it,{get:()=>s[it],set:It=>s[it]=It})})}else t.exposed||(t.exposed={});E&&t.render===Kt&&(t.render=E),et!=null&&(t.inheritAttrs=et),D&&(t.components=D),ft&&(t.directives=ft)}function Qo(t,e,s=Kt,n=!1){Y(t)&&(t=bn(t));for(const r in t){const i=t[r];let l;pt(i)?"default"in i?l=Cs(i.from||r,i.default,!0):l=Cs(i.from||r):l=Cs(i),gt(l)&&n?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):e[r]=l}}function Or(t,e,s){Dt(Y(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function kr(t,e,s,n){const r=n.includes(".")?hi(s,n):()=>s[n];if(yt(t)){const i=e[t];X(i)&&Ns(r,i)}else if(X(t))Ns(r,t.bind(s));else if(pt(t))if(Y(t))t.forEach(i=>kr(i,e,s,n));else{const i=X(t.handler)?t.handler.bind(s):e[t.handler];X(i)&&Ns(r,i,t)}}function Fr(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:l}}=t.appContext,a=i.get(e);let f;return a?f=a:!r.length&&!s&&!n?f=e:(f={},r.length&&r.forEach(p=>Ts(f,p,l,!0)),Ts(f,e,l)),i.set(e,f),f}function Ts(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Ts(t,i,s,!0),r&&r.forEach(l=>Ts(t,l,s,!0));for(const l in e)if(!(n&&l==="expose")){const a=Go[l]||s&&s[l];t[l]=a?a(t[l],e[l]):e[l]}return t}const Go={data:Rr,props:me,emits:me,methods:me,computed:me,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:me,directives:me,watch:el,provide:Rr,inject:tl};function Rr(t,e){return e?t?function(){return wt(X(t)?t.call(this,this):t,X(e)?e.call(this,this):e)}:e:t}function tl(t,e){return me(bn(t),bn(e))}function bn(t){if(Y(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ct(t,e){return t?[...new Set([].concat(t,e))]:e}function me(t,e){return t?wt(wt(Object.create(null),t),e):e}function el(t,e){if(!t)return e;if(!e)return t;const s=wt(Object.create(null),t);for(const n in e)s[n]=Ct(t[n],e[n]);return s}function sl(t,e,s,n=!1){const r={},i={};hs(i,Os,1),t.propsDefaults=Object.create(null),jr(t,e,r,i);for(const l in t.propsOptions[0])l in r||(r[l]=void 0);s?t.props=n?r:xo(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function nl(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:l}}=t,a=tt(r),[f]=t.propsOptions;let p=!1;if((n||l>0)&&!(l&16)){if(l&8){const m=t.vnode.dynamicProps;for(let b=0;b<m.length;b++){let C=m[b];const k=e[C];if(f)if(G(i,C))k!==i[C]&&(i[C]=k,p=!0);else{const q=Me(C);r[q]=wn(f,a,q,k,t,!1)}else k!==i[C]&&(i[C]=k,p=!0)}}}else{jr(t,e,r,i)&&(p=!0);let m;for(const b in a)(!e||!G(e,b)&&((m=Ie(b))===b||!G(e,m)))&&(f?s&&(s[b]!==void 0||s[m]!==void 0)&&(r[b]=wn(f,a,b,void 0,t,!0)):delete r[b]);if(i!==a)for(const b in i)(!e||!G(e,b))&&(delete i[b],p=!0)}p&&zt(t,"set","$attrs")}function jr(t,e,s,n){const[r,i]=t.propsOptions;let l=!1,a;if(e)for(let f in e){if(us(f))continue;const p=e[f];let m;r&&G(r,m=Me(f))?!i||!i.includes(m)?s[m]=p:(a||(a={}))[m]=p:fn(t.emitsOptions,f)||(!(f in n)||p!==n[f])&&(n[f]=p,l=!0)}if(i){const f=tt(s),p=a||ct;for(let m=0;m<i.length;m++){const b=i[m];s[b]=wn(r,f,b,p[b],t,!G(p,b))}}return l}function wn(t,e,s,n,r,i){const l=t[s];if(l!=null){const a=G(l,"default");if(a&&n===void 0){const f=l.default;if(l.type!==Function&&X(f)){const{propsDefaults:p}=r;s in p?n=p[s]:(je(r),n=p[s]=f.call(null,e),_e())}else n=f}l[0]&&(i&&!a?n=!1:l[1]&&(n===""||n===Ie(s))&&(n=!0))}return n}function Lr(t,e,s=!1){const n=e.propsCache,r=n.get(t);if(r)return r;const i=t.props,l={},a=[];let f=!1;if(!X(t)){const m=b=>{f=!0;const[C,k]=Lr(b,e,!0);wt(l,C),k&&a.push(...k)};!s&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!i&&!f)return n.set(t,Ee),Ee;if(Y(i))for(let m=0;m<i.length;m++){const b=Me(i[m]);Dr(b)&&(l[b]=ct)}else if(i)for(const m in i){const b=Me(m);if(Dr(b)){const C=i[m],k=l[b]=Y(C)||X(C)?{type:C}:C;if(k){const q=Kr(Boolean,k.type),V=Kr(String,k.type);k[0]=q>-1,k[1]=V<0||q<V,(q>-1||G(k,"default"))&&a.push(b)}}}const p=[l,a];return n.set(t,p),p}function Dr(t){return t[0]!=="$"}function Nr(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Br(t,e){return Nr(t)===Nr(e)}function Kr(t,e){return Y(e)?e.findIndex(s=>Br(s,t)):X(e)&&Br(e,t)?0:-1}const $r=t=>t[0]==="_"||t==="$stable",_n=t=>Y(t)?t.map(Ht):[Ht(t)],rl=(t,e,s)=>{const n=Oo((...r)=>_n(e(...r)),s);return n._c=!1,n},Hr=(t,e,s)=>{const n=t._ctx;for(const r in t){if($r(r))continue;const i=t[r];if(X(i))e[r]=rl(r,i,n);else if(i!=null){const l=_n(i);e[r]=()=>l}}},Ur=(t,e)=>{const s=_n(e);t.slots.default=()=>s},il=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=tt(e),hs(e,"_",s)):Hr(e,t.slots={})}else t.slots={},e&&Ur(t,e);hs(t.slots,Os,1)},ol=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,l=ct;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:(wt(r,e),!s&&a===1&&delete r._):(i=!e.$stable,Hr(e,r)),l=e}else e&&(Ur(t,e),l={default:1});if(i)for(const a in r)!$r(a)&&!(a in l)&&delete r[a]};function Cc(t,e){const s=Rt;if(s===null)return t;const n=s.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[l,a,f,p=ct]=e[i];X(l)&&(l={mounted:l,updated:l}),l.deep&&xe(a),r.push({dir:l,instance:n,value:a,oldValue:void 0,arg:f,modifiers:p})}return t}function ve(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let l=0;l<r.length;l++){const a=r[l];i&&(a.oldValue=i[l].value);let f=a.dir[n];f&&(ke(),Dt(f,s,8,[t.el,a,t,e]),ge())}}function qr(){return{app:null,config:{isNativeTag:$i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ll=0;function cl(t,e){return function(n,r=null){r!=null&&!pt(r)&&(r=null);const i=qr(),l=new Set;let a=!1;const f=i.app={_uid:ll++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Nl,get config(){return i.config},set config(p){},use(p,...m){return l.has(p)||(p&&X(p.install)?(l.add(p),p.install(f,...m)):X(p)&&(l.add(p),p(f,...m))),f},mixin(p){return i.mixins.includes(p)||i.mixins.push(p),f},component(p,m){return m?(i.components[p]=m,f):i.components[p]},directive(p,m){return m?(i.directives[p]=m,f):i.directives[p]},mount(p,m,b){if(!a){const C=Pt(n,r);return C.appContext=i,m&&e?e(C,p):t(C,p,b),a=!0,f._container=p,p.__vue_app__=f,An(C.component)||C.component.proxy}},unmount(){a&&(t(null,f._container),delete f._container.__vue_app__)},provide(p,m){return i.provides[p]=m,f}};return f}}function xn(t,e,s,n,r=!1){if(Y(t)){t.forEach((C,k)=>xn(C,e&&(Y(e)?e[k]:e),s,n,r));return}if(mn(n)&&!r)return;const i=n.shapeFlag&4?An(n.component)||n.component.proxy:n.el,l=r?null:i,{i:a,r:f}=t,p=e&&e.r,m=a.refs===ct?a.refs={}:a.refs,b=a.setupState;if(p!=null&&p!==f&&(yt(p)?(m[p]=null,G(b,p)&&(b[p]=null)):gt(p)&&(p.value=null)),X(f))ne(f,a,12,[l,m]);else{const C=yt(f),k=gt(f);if(C||k){const q=()=>{if(t.f){const V=C?m[f]:f.value;r?Y(V)&&zs(V,i):Y(V)?V.includes(i)||V.push(i):C?m[f]=[i]:(f.value=[i],t.k&&(m[t.k]=f.value))}else C?(m[f]=l,G(b,f)&&(b[f]=l)):gt(f)&&(f.value=l,t.k&&(m[t.k]=l))};l?(q.id=-1,Tt(q,s)):q()}}}const Tt=Do;function al(t){return ul(t)}function ul(t,e){const s=Yi();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:l,createText:a,createComment:f,setText:p,setElementText:m,parentNode:b,nextSibling:C,setScopeId:k=Kt,cloneNode:q,insertStaticContent:V}=t,y=(u,h,v,x=null,w=null,M=null,O=!1,A=null,I=!!h.dynamicChildren)=>{if(u===h)return;u&&!we(u,h)&&(x=ce(u),Ot(u,w,M,!0),u=null),h.patchFlag===-2&&(I=!1,h.dynamicChildren=null);const{type:P,ref:K,shapeFlag:L}=h;switch(P){case Sn:j(u,h,v,x);break;case $t:F(u,h,v,x);break;case As:u==null&&_(h,v,x,O);break;case Lt:ft(u,h,v,x,w,M,O,A,I);break;default:L&1?B(u,h,v,x,w,M,O,A,I):L&6?at(u,h,v,x,w,M,O,A,I):(L&64||L&128)&&P.process(u,h,v,x,w,M,O,A,I,Zt)}K!=null&&w&&xn(K,u&&u.ref,M,h||u,!h)},j=(u,h,v,x)=>{if(u==null)n(h.el=a(h.children),v,x);else{const w=h.el=u.el;h.children!==u.children&&p(w,h.children)}},F=(u,h,v,x)=>{u==null?n(h.el=f(h.children||""),v,x):h.el=u.el},_=(u,h,v,x)=>{[u.el,u.anchor]=V(u.children,h,v,x)},S=({el:u,anchor:h},v,x)=>{let w;for(;u&&u!==h;)w=C(u),n(u,v,x),u=w;n(h,v,x)},E=({el:u,anchor:h})=>{let v;for(;u&&u!==h;)v=C(u),r(u),u=v;r(h)},B=(u,h,v,x,w,M,O,A,I)=>{O=O||h.type==="svg",u==null?U(h,v,x,w,M,O,A,I):nt(u,h,w,M,O,A,I)},U=(u,h,v,x,w,M,O,A)=>{let I,P;const{type:K,props:L,shapeFlag:$,transition:z,patchFlag:Z,dirs:ut}=u;if(u.el&&q!==void 0&&Z===-1)I=u.el=q(u.el);else{if(I=u.el=l(u.type,M,L&&L.is,L),$&8?m(I,u.children):$&16&&J(u.children,I,null,x,w,M&&K!=="foreignObject",O,A),ut&&ve(u,null,x,"created"),L){for(const ot in L)ot!=="value"&&!us(ot)&&i(I,ot,null,L[ot],M,u.children,x,w,Bt);"value"in L&&i(I,"value",null,L.value),(P=L.onVnodeBeforeMount)&&Ut(P,x,u)}W(I,u,u.scopeId,O,x)}ut&&ve(u,null,x,"beforeMount");const st=(!w||w&&!w.pendingBranch)&&z&&!z.persisted;st&&z.beforeEnter(I),n(I,h,v),((P=L&&L.onVnodeMounted)||st||ut)&&Tt(()=>{P&&Ut(P,x,u),st&&z.enter(I),ut&&ve(u,null,x,"mounted")},w)},W=(u,h,v,x,w)=>{if(v&&k(u,v),x)for(let M=0;M<x.length;M++)k(u,x[M]);if(w){let M=w.subTree;if(h===M){const O=w.vnode;W(u,O,O.scopeId,O.slotScopeIds,w.parent)}}},J=(u,h,v,x,w,M,O,A,I=0)=>{for(let P=I;P<u.length;P++){const K=u[P]=A?se(u[P]):Ht(u[P]);y(null,K,h,v,x,w,M,O,A)}},nt=(u,h,v,x,w,M,O)=>{const A=h.el=u.el;let{patchFlag:I,dynamicChildren:P,dirs:K}=h;I|=u.patchFlag&16;const L=u.props||ct,$=h.props||ct;let z;v&&ye(v,!1),(z=$.onVnodeBeforeUpdate)&&Ut(z,v,h,u),K&&ve(h,u,v,"beforeUpdate"),v&&ye(v,!0);const Z=w&&h.type!=="foreignObject";if(P?et(u.dynamicChildren,P,A,v,x,Z,M):O||It(u,h,A,null,v,x,Z,M,!1),I>0){if(I&16)D(A,h,L,$,v,x,w);else if(I&2&&L.class!==$.class&&i(A,"class",null,$.class,w),I&4&&i(A,"style",L.style,$.style,w),I&8){const ut=h.dynamicProps;for(let st=0;st<ut.length;st++){const ot=ut[st],lt=L[ot],qt=$[ot];(qt!==lt||ot==="value")&&i(A,ot,lt,qt,w,u.children,v,x,Bt)}}I&1&&u.children!==h.children&&m(A,h.children)}else!O&&P==null&&D(A,h,L,$,v,x,w);((z=$.onVnodeUpdated)||K)&&Tt(()=>{z&&Ut(z,v,h,u),K&&ve(h,u,v,"updated")},x)},et=(u,h,v,x,w,M,O)=>{for(let A=0;A<h.length;A++){const I=u[A],P=h[A],K=I.el&&(I.type===Lt||!we(I,P)||I.shapeFlag&(6|64))?b(I.el):v;y(I,P,K,null,x,w,M,O,!0)}},D=(u,h,v,x,w,M,O)=>{if(v!==x){for(const A in x){if(us(A))continue;const I=x[A],P=v[A];I!==P&&A!=="value"&&i(u,A,P,I,O,h.children,w,M,Bt)}if(v!==ct)for(const A in v)!us(A)&&!(A in x)&&i(u,A,v[A],null,O,h.children,w,M,Bt);"value"in x&&i(u,"value",v.value,x.value)}},ft=(u,h,v,x,w,M,O,A,I)=>{const P=h.el=u?u.el:a(""),K=h.anchor=u?u.anchor:a("");let{patchFlag:L,dynamicChildren:$,slotScopeIds:z}=h;z&&(A=A?A.concat(z):z),u==null?(n(P,v,x),n(K,v,x),J(h.children,v,K,w,M,O,A,I)):L>0&&L&64&&$&&u.dynamicChildren?(et(u.dynamicChildren,$,v,w,M,O,A),(h.key!=null||w&&h===w.subTree)&&Cn(u,h,!0)):It(u,h,v,K,w,M,O,A,I)},at=(u,h,v,x,w,M,O,A,I)=>{h.slotScopeIds=A,u==null?h.shapeFlag&512?w.ctx.activate(h,v,x,O,I):Nt(h,v,x,w,M,O,I):ht(u,h,I)},Nt=(u,h,v,x,w,M,O)=>{const A=u.component=Pl(u,x,w);if(Ps(u)&&(A.ctx.renderer=Zt),Sl(A),A.asyncDep){if(w&&w.registerDep(A,rt),!u.el){const I=A.subTree=Pt($t);F(null,I,h,v)}return}rt(A,u,h,v,w,M,O)},ht=(u,h,v)=>{const x=h.component=u.component;if(Ro(u,h,v))if(x.asyncDep&&!x.asyncResolved){it(x,h,v);return}else x.next=h,kl(x.update),x.update();else h.component=u.component,h.el=u.el,x.vnode=h},rt=(u,h,v,x,w,M,O)=>{const A=()=>{if(u.isMounted){let{next:K,bu:L,u:$,parent:z,vnode:Z}=u,ut=K,st;ye(u,!1),K?(K.el=Z.el,it(u,K,O)):K=Z,L&&Xs(L),(st=K.props&&K.props.onVnodeBeforeUpdate)&&Ut(st,z,K,Z),ye(u,!0);const ot=hn(u),lt=u.subTree;u.subTree=ot,y(lt,ot,b(lt.el),ce(lt),u,w,M),K.el=ot.el,ut===null&&jo(u,ot.el),$&&Tt($,w),(st=K.props&&K.props.onVnodeUpdated)&&Tt(()=>Ut(st,z,K,Z),w)}else{let K;const{el:L,props:$}=h,{bm:z,m:Z,parent:ut}=u,st=mn(h);if(ye(u,!1),z&&Xs(z),!st&&(K=$&&$.onVnodeBeforeMount)&&Ut(K,ut,h),ye(u,!0),L&&Se){const ot=()=>{u.subTree=hn(u),Se(L,u.subTree,u,w,null)};st?h.type.__asyncLoader().then(()=>!u.isUnmounted&&ot()):ot()}else{const ot=u.subTree=hn(u);y(null,ot,v,x,u,w,M),h.el=ot.el}if(Z&&Tt(Z,w),!st&&(K=$&&$.onVnodeMounted)){const ot=h;Tt(()=>Ut(K,ut,ot),w)}h.shapeFlag&256&&u.a&&Tt(u.a,w),u.isMounted=!0,h=v=x=null}},I=u.effect=new en(A,()=>ii(u.update),u.scope),P=u.update=I.run.bind(I);P.id=u.uid,ye(u,!0),P()},it=(u,h,v)=>{h.component=u;const x=u.vnode.props;u.vnode=h,u.next=null,nl(u,h.props,x,v),ol(u,h.children,v),ke(),kn(void 0,u.update),ge()},It=(u,h,v,x,w,M,O,A,I=!1)=>{const P=u&&u.children,K=u?u.shapeFlag:0,L=h.children,{patchFlag:$,shapeFlag:z}=h;if($>0){if($&128){le(P,L,v,x,w,M,O,A,I);return}else if($&256){Ke(P,L,v,x,w,M,O,A,I);return}}z&8?(K&16&&Bt(P,w,M),L!==P&&m(v,L)):K&16?z&16?le(P,L,v,x,w,M,O,A,I):Bt(P,w,M,!0):(K&8&&m(v,""),z&16&&J(L,v,x,w,M,O,A,I))},Ke=(u,h,v,x,w,M,O,A,I)=>{u=u||Ee,h=h||Ee;const P=u.length,K=h.length,L=Math.min(P,K);let $;for($=0;$<L;$++){const z=h[$]=I?se(h[$]):Ht(h[$]);y(u[$],z,v,null,w,M,O,A,I)}P>K?Bt(u,w,M,!0,!1,L):J(h,v,x,w,M,O,A,I,L)},le=(u,h,v,x,w,M,O,A,I)=>{let P=0;const K=h.length;let L=u.length-1,$=K-1;for(;P<=L&&P<=$;){const z=u[P],Z=h[P]=I?se(h[P]):Ht(h[P]);if(we(z,Z))y(z,Z,v,null,w,M,O,A,I);else break;P++}for(;P<=L&&P<=$;){const z=u[L],Z=h[$]=I?se(h[$]):Ht(h[$]);if(we(z,Z))y(z,Z,v,null,w,M,O,A,I);else break;L--,$--}if(P>L){if(P<=$){const z=$+1,Z=z<K?h[z].el:x;for(;P<=$;)y(null,h[P]=I?se(h[P]):Ht(h[P]),v,Z,w,M,O,A,I),P++}}else if(P>$)for(;P<=L;)Ot(u[P],w,M,!0),P++;else{const z=P,Z=P,ut=new Map;for(P=Z;P<=$;P++){const xt=h[P]=I?se(h[P]):Ht(h[P]);xt.key!=null&&ut.set(xt.key,P)}let st,ot=0;const lt=$-Z+1;let qt=!1,is=0;const ae=new Array(lt);for(P=0;P<lt;P++)ae[P]=0;for(P=z;P<=L;P++){const xt=u[P];if(ot>=lt){Ot(xt,w,M,!0);continue}let kt;if(xt.key!=null)kt=ut.get(xt.key);else for(st=Z;st<=$;st++)if(ae[st-Z]===0&&we(xt,h[st])){kt=st;break}kt===void 0?Ot(xt,w,M,!0):(ae[kt-Z]=P+1,kt>=is?is=kt:qt=!0,y(xt,h[kt],v,null,w,M,O,A,I),ot++)}const os=qt?fl(ae):Ee;for(st=os.length-1,P=lt-1;P>=0;P--){const xt=Z+P,kt=h[xt],ls=xt+1<K?h[xt+1].el:x;ae[P]===0?y(null,kt,v,ls,w,M,O,A,I):qt&&(st<0||P!==os[st]?Xt(kt,v,ls,2):st--)}}},Xt=(u,h,v,x,w=null)=>{const{el:M,type:O,transition:A,children:I,shapeFlag:P}=u;if(P&6){Xt(u.component.subTree,h,v,x);return}if(P&128){u.suspense.move(h,v,x);return}if(P&64){O.move(u,h,v,Zt);return}if(O===Lt){n(M,h,v);for(let L=0;L<I.length;L++)Xt(I[L],h,v,x);n(u.anchor,h,v);return}if(O===As){S(u,h,v);return}if(x!==2&&P&1&&A)if(x===0)A.beforeEnter(M),n(M,h,v),Tt(()=>A.enter(M),w);else{const{leave:L,delayLeave:$,afterLeave:z}=A,Z=()=>n(M,h,v),ut=()=>{L(M,()=>{Z(),z&&z()})};$?$(M,Z,ut):ut()}else n(M,h,v)},Ot=(u,h,v,x=!1,w=!1)=>{const{type:M,props:O,ref:A,children:I,dynamicChildren:P,shapeFlag:K,patchFlag:L,dirs:$}=u;if(A!=null&&xn(A,null,v,u,!0),K&256){h.ctx.deactivate(u);return}const z=K&1&&$,Z=!mn(u);let ut;if(Z&&(ut=O&&O.onVnodeBeforeUnmount)&&Ut(ut,h,u),K&6)$s(u.component,v,x);else{if(K&128){u.suspense.unmount(v,x);return}z&&ve(u,null,h,"beforeUnmount"),K&64?u.type.remove(u,h,v,w,Zt,x):P&&(M!==Lt||L>0&&L&64)?Bt(P,h,v,!1,!0):(M===Lt&&L&(128|256)||!w&&K&16)&&Bt(I,h,v),x&&ns(u)}(Z&&(ut=O&&O.onVnodeUnmounted)||z)&&Tt(()=>{ut&&Ut(ut,h,u),z&&ve(u,null,h,"unmounted")},v)},ns=u=>{const{type:h,el:v,anchor:x,transition:w}=u;if(h===Lt){Pe(v,x);return}if(h===As){E(u);return}const M=()=>{r(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(u.shapeFlag&1&&w&&!w.persisted){const{leave:O,delayLeave:A}=w,I=()=>O(v,M);A?A(u.el,M,I):I()}else M()},Pe=(u,h)=>{let v;for(;u!==h;)v=C(u),r(u),u=v;r(h)},$s=(u,h,v)=>{const{bum:x,scope:w,update:M,subTree:O,um:A}=u;x&&Xs(x),w.stop(),M&&(M.active=!1,Ot(O,u,h,v)),A&&Tt(A,h),Tt(()=>{u.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Bt=(u,h,v,x=!1,w=!1,M=0)=>{for(let O=M;O<u.length;O++)Ot(u[O],h,v,x,w)},ce=u=>u.shapeFlag&6?ce(u.component.subTree):u.shapeFlag&128?u.suspense.next():C(u.anchor||u.el),rs=(u,h,v)=>{u==null?h._vnode&&Ot(h._vnode,null,null,!0):y(h._vnode||null,u,h,null,null,null,v),ci(),h._vnode=u},Zt={p:y,um:Ot,m:Xt,r:ns,mt:Nt,mc:J,pc:It,pbc:et,n:ce,o:t};let $e,Se;return e&&([$e,Se]=e(Zt)),{render:rs,hydrate:$e,createApp:cl(rs,$e)}}function ye({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function Cn(t,e,s=!1){const n=t.children,r=e.children;if(Y(n)&&Y(r))for(let i=0;i<n.length;i++){const l=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=se(r[i]),a.el=l.el),s||Cn(l,a))}}function fl(t){const e=t.slice(),s=[0];let n,r,i,l,a;const f=t.length;for(n=0;n<f;n++){const p=t[n];if(p!==0){if(r=s[s.length-1],t[r]<p){e[n]=r,s.push(n);continue}for(i=0,l=s.length-1;i<l;)a=i+l>>1,t[s[a]]<p?i=a+1:l=a;p<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,l=s[i-1];i-- >0;)s[i]=l,l=e[l];return s}const hl=t=>t.__isTeleport,Ve=t=>t&&(t.disabled||t.disabled===""),Wr=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,Pn=(t,e)=>{const s=t&&t.to;return yt(s)?e?e(s):null:s},dl={__isTeleport:!0,process(t,e,s,n,r,i,l,a,f,p){const{mc:m,pc:b,pbc:C,o:{insert:k,querySelector:q,createText:V,createComment:y}}=p,j=Ve(e.props);let{shapeFlag:F,children:_,dynamicChildren:S}=e;if(t==null){const E=e.el=V(""),B=e.anchor=V("");k(E,s,n),k(B,s,n);const U=e.target=Pn(e.props,q),W=e.targetAnchor=V("");U&&(k(W,U),l=l||Wr(U));const J=(nt,et)=>{F&16&&m(_,nt,et,r,i,l,a,f)};j?J(s,B):U&&J(U,W)}else{e.el=t.el;const E=e.anchor=t.anchor,B=e.target=t.target,U=e.targetAnchor=t.targetAnchor,W=Ve(t.props),J=W?s:B,nt=W?E:U;if(l=l||Wr(B),S?(C(t.dynamicChildren,S,J,r,i,l,a),Cn(t,e,!0)):f||b(t,e,J,nt,r,i,l,a,!1),j)W||Es(e,s,E,p,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const et=e.target=Pn(e.props,q);et&&Es(e,et,null,p,0)}else W&&Es(e,B,U,p,1)}},remove(t,e,s,n,{um:r,o:{remove:i}},l){const{shapeFlag:a,children:f,anchor:p,targetAnchor:m,target:b,props:C}=t;if(b&&i(m),(l||!Ve(C))&&(i(p),a&16))for(let k=0;k<f.length;k++){const q=f[k];r(q,e,s,!0,!!q.dynamicChildren)}},move:Es,hydrate:pl};function Es(t,e,s,{o:{insert:n},m:r},i=2){i===0&&n(t.targetAnchor,e,s);const{el:l,anchor:a,shapeFlag:f,children:p,props:m}=t,b=i===2;if(b&&n(l,e,s),(!b||Ve(m))&&f&16)for(let C=0;C<p.length;C++)r(p[C],e,s,2);b&&n(a,e,s)}function pl(t,e,s,n,r,i,{o:{nextSibling:l,parentNode:a,querySelector:f}},p){const m=e.target=Pn(e.props,f);if(m){const b=m._lpa||m.firstChild;e.shapeFlag&16&&(Ve(e.props)?(e.anchor=p(l(t),e,a(t),s,n,r,i),e.targetAnchor=b):(e.anchor=l(t),e.targetAnchor=p(b,e,m,s,n,r,i)),m._lpa=e.targetAnchor&&l(e.targetAnchor))}return e.anchor&&l(e.anchor)}const Pc=dl,gl=Symbol(),Lt=Symbol(void 0),Sn=Symbol(void 0),$t=Symbol(void 0),As=Symbol(void 0),Je=[];let be=null;function zr(t=!1){Je.push(be=t?null:[])}function ml(){Je.pop(),be=Je[Je.length-1]||null}let Ms=1;function Yr(t){Ms+=t}function Vr(t){return t.dynamicChildren=Ms>0?be||Ee:null,ml(),Ms>0&&be&&be.push(t),t}function Sc(t,e,s,n,r,i){return Vr(Zr(t,e,s,n,r,i,!0))}function Jr(t,e,s,n,r){return Vr(Pt(t,e,s,n,r,!0))}function Is(t){return t?t.__v_isVNode===!0:!1}function we(t,e){return t.type===e.type&&t.key===e.key}const Os="__vInternal",Xr=({key:t})=>t!=null?t:null,ks=({ref:t,ref_key:e,ref_for:s})=>t!=null?yt(t)||gt(t)||X(t)?{i:Rt,r:t,k:e,f:!!s}:t:null;function Zr(t,e=null,s=null,n=0,r=null,i=t===Lt?0:1,l=!1,a=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Xr(e),ref:e&&ks(e),scopeId:_s,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(Tn(f,s),i&128&&t.normalize(f)):s&&(f.shapeFlag|=yt(s)?8:16),Ms>0&&!l&&be&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&be.push(f),f}const Pt=vl;function vl(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===gl)&&(t=$t),Is(t)){const a=Re(t,e,!0);return s&&Tn(a,s),a}if(Al(t)&&(t=t.__vccOpts),e){e=yl(e);let{class:a,style:f}=e;a&&!yt(a)&&(e.class=qs(a)),pt(f)&&(gr(f)&&!Y(f)&&(f=wt({},f)),e.style=Us(f))}const l=yt(t)?1:Lo(t)?128:hl(t)?64:pt(t)?4:X(t)?2:0;return Zr(t,e,s,n,r,l,i,!0)}function yl(t){return t?gr(t)||Os in t?wt({},t):t:null}function Re(t,e,s=!1){const{props:n,ref:r,patchFlag:i,children:l}=t,a=e?wl(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Xr(a),ref:e&&e.ref?s&&r?Y(r)?r.concat(ks(e)):[r,ks(e)]:ks(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Lt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Re(t.ssContent),ssFallback:t.ssFallback&&Re(t.ssFallback),el:t.el,anchor:t.anchor}}function bl(t=" ",e=0){return Pt(Sn,null,t,e)}function Tc(t,e){const s=Pt(As,null,t);return s.staticCount=e,s}function Ec(t="",e=!1){return e?(zr(),Jr($t,null,t)):Pt($t,null,t)}function Ht(t){return t==null||typeof t=="boolean"?Pt($t):Y(t)?Pt(Lt,null,t.slice()):typeof t=="object"?se(t):Pt(Sn,null,String(t))}function se(t){return t.el===null||t.memo?t:Re(t)}function Tn(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Y(e))s=16;else if(typeof e=="object")if(n&(1|64)){const r=e.default;r&&(r._c&&(r._d=!1),Tn(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!(Os in e)?e._ctx=Rt:r===3&&Rt&&(Rt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else X(e)?(e={default:e,_ctx:Rt},s=32):(e=String(e),n&64?(s=16,e=[bl(e)]):s=8);t.children=e,t.shapeFlag|=s}function wl(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=qs([e.class,n.class]));else if(r==="style")e.style=Us([e.style,n.style]);else if(cs(r)){const i=e[r],l=n[r];i!==l&&!(Y(i)&&i.includes(l))&&(e[r]=i?[].concat(i,l):l)}else r!==""&&(e[r]=n[r])}return e}function Ut(t,e,s,n=null){Dt(t,e,7,[s,n])}function Ac(t,e,s,n){let r;const i=s&&s[n];if(Y(t)||yt(t)){r=new Array(t.length);for(let l=0,a=t.length;l<a;l++)r[l]=e(t[l],l,void 0,i&&i[l])}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i&&i[l])}else if(pt(t))if(t[Symbol.iterator])r=Array.from(t,(l,a)=>e(l,a,void 0,i&&i[a]));else{const l=Object.keys(t);r=new Array(l.length);for(let a=0,f=l.length;a<f;a++){const p=l[a];r[a]=e(t[p],p,a,i&&i[a])}}else r=[];return s&&(s[n]=r),r}function Mc(t,e,s={},n,r){if(Rt.isCE)return Pt("slot",e==="default"?null:{name:e},n&&n());let i=t[e];i&&i._c&&(i._d=!1),zr();const l=i&&Qr(i(s)),a=Jr(Lt,{key:s.key||`_${e}`},l||(n?n():[]),l&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Qr(t){return t.some(e=>Is(e)?!(e.type===$t||e.type===Lt&&!Qr(e.children)):!0)?t:null}const En=t=>t?Gr(t)?An(t)||t.proxy:En(t.parent):null,Fs=wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>En(t.parent),$root:t=>En(t.root),$emit:t=>t.emit,$options:t=>Fr(t),$forceUpdate:t=>()=>ii(t.update),$nextTick:t=>Il.bind(t.proxy),$watch:t=>jl.bind(t)}),_l={get({_:t},e){const{ctx:s,setupState:n,data:r,props:i,accessCache:l,type:a,appContext:f}=t;let p;if(e[0]!=="$"){const k=l[e];if(k!==void 0)switch(k){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(n!==ct&&G(n,e))return l[e]=1,n[e];if(r!==ct&&G(r,e))return l[e]=2,r[e];if((p=t.propsOptions[0])&&G(p,e))return l[e]=3,i[e];if(s!==ct&&G(s,e))return l[e]=4,s[e];yn&&(l[e]=0)}}const m=Fs[e];let b,C;if(m)return e==="$attrs"&&At(t,"get",e),m(t);if((b=a.__cssModules)&&(b=b[e]))return b;if(s!==ct&&G(s,e))return l[e]=4,s[e];if(C=f.config.globalProperties,G(C,e))return C[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;if(r!==ct&&G(r,e))r[e]=s;else if(n!==ct&&G(n,e))n[e]=s;else if(G(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},l){let a;return!!s[l]||t!==ct&&G(t,l)||e!==ct&&G(e,l)||(a=i[0])&&G(a,l)||G(n,l)||G(Fs,l)||G(r.config.globalProperties,l)}},xl=qr();let Cl=0;function Pl(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||xl,i={uid:Cl++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xn(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lr(n,r),emitsOptions:xr(n,r),emit:null,emitted:null,propsDefaults:ct,inheritAttrs:n.inheritAttrs,ctx:ct,data:ct,props:ct,attrs:ct,slots:ct,refs:ct,setupState:ct,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Io.bind(null,i),t.ce&&t.ce(i),i}let _t=null;const Rs=()=>_t||Rt,je=t=>{_t=t,t.scope.on()},_e=()=>{_t&&_t.scope.off(),_t=null};function Gr(t){return t.vnode.shapeFlag&4}let js=!1;function Sl(t,e=!1){js=e;const{props:s,children:n}=t.vnode,r=Gr(t);sl(t,s,r,e),il(t,n);const i=r?Tl(t,e):void 0;return js=!1,i}function Tl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=Fe(new Proxy(t.ctx,_l));const{setup:n}=s;if(n){const r=t.setupContext=n.length>1?ni(t):null;je(t),ke();const i=ne(n,t,0,[t.props,r]);if(ge(),_e(),qn(i)){if(i.then(_e,_e),e)return i.then(l=>{ti(t,l,e)}).catch(l=>{Ls(l,t,0)});t.asyncDep=i}else ti(t,i,e)}else si(t,e)}function ti(t,e,s){X(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pt(e)&&(t.setupState=wr(e)),si(t,s)}let ei;function si(t,e,s){const n=t.type;if(!t.render){if(!e&&ei&&!n.render){const r=n.template;if(r){const{isCustomElement:i,compilerOptions:l}=t.appContext.config,{delimiters:a,compilerOptions:f}=n,p=wt(wt({isCustomElement:i,delimiters:a},l),f);n.render=ei(r,p)}}t.render=n.render||Kt}je(t),ke(),Zo(t),ge(),_e()}function El(t){return new Proxy(t.attrs,{get(e,s){return At(t,"get","$attrs"),e[s]}})}function ni(t){const e=n=>{t.exposed=n||{}};let s;return{get attrs(){return s||(s=El(t))},slots:t.slots,emit:t.emit,expose:e}}function An(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wr(Fe(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Fs)return Fs[s](t)}}))}function Al(t){return X(t)&&"__vccOpts"in t}function ne(t,e,s,n){let r;try{r=n?t(...n):t()}catch(i){Ls(i,e,s)}return r}function Dt(t,e,s,n){if(X(t)){const i=ne(t,e,s,n);return i&&qn(i)&&i.catch(l=>{Ls(l,e,s)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Dt(t[i],e,s,n));return r}function Ls(t,e,s,n=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const l=e.proxy,a=s;for(;i;){const p=i.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](t,l,a)===!1)return}i=i.parent}const f=e.appContext.config.errorHandler;if(f){ne(f,null,10,[t,l,a]);return}}Ml(t,s,r,n)}function Ml(t,e,s,n=!0){console.error(t)}let Ds=!1,Mn=!1;const Mt=[];let Vt=0;const Xe=[];let Ze=null,Le=0;const Qe=[];let re=null,De=0;const ri=Promise.resolve();let In=null,On=null;function Il(t){const e=In||ri;return t?e.then(this?t.bind(this):t):e}function Ol(t){let e=Vt+1,s=Mt.length;for(;e<s;){const n=e+s>>>1;Ge(Mt[n])<t?e=n+1:s=n}return e}function ii(t){(!Mt.length||!Mt.includes(t,Ds&&t.allowRecurse?Vt+1:Vt))&&t!==On&&(t.id==null?Mt.push(t):Mt.splice(Ol(t.id),0,t),oi())}function oi(){!Ds&&!Mn&&(Mn=!0,In=ri.then(ai))}function kl(t){const e=Mt.indexOf(t);e>Vt&&Mt.splice(e,1)}function li(t,e,s,n){Y(t)?s.push(...t):(!e||!e.includes(t,t.allowRecurse?n+1:n))&&s.push(t),oi()}function Fl(t){li(t,Ze,Xe,Le)}function Rl(t){li(t,re,Qe,De)}function kn(t,e=null){if(Xe.length){for(On=e,Ze=[...new Set(Xe)],Xe.length=0,Le=0;Le<Ze.length;Le++)Ze[Le]();Ze=null,Le=0,On=null,kn(t,e)}}function ci(t){if(Qe.length){const e=[...new Set(Qe)];if(Qe.length=0,re){re.push(...e);return}for(re=e,re.sort((s,n)=>Ge(s)-Ge(n)),De=0;De<re.length;De++)re[De]();re=null,De=0}}const Ge=t=>t.id==null?1/0:t.id;function ai(t){Mn=!1,Ds=!0,kn(t),Mt.sort((s,n)=>Ge(s)-Ge(n));const e=Kt;try{for(Vt=0;Vt<Mt.length;Vt++){const s=Mt[Vt];s&&s.active!==!1&&ne(s,null,14)}}finally{Vt=0,Mt.length=0,ci(),Ds=!1,In=null,(Mt.length||Xe.length||Qe.length)&&ai(t)}}const ui={};function Ns(t,e,s){return fi(t,e,s)}function fi(t,e,{immediate:s,deep:n,flush:r,onTrack:i,onTrigger:l}=ct){const a=_t;let f,p=!1,m=!1;if(gt(t)?(f=()=>t.value,p=!!t._shallow):ee(t)?(f=()=>t,n=!0):Y(t)?(m=!0,p=t.some(ee),f=()=>t.map(j=>{if(gt(j))return j.value;if(ee(j))return xe(j);if(X(j))return ne(j,a,2)})):X(t)?e?f=()=>ne(t,a,2):f=()=>{if(!(a&&a.isUnmounted))return b&&b(),Dt(t,a,3,[C])}:f=Kt,e&&n){const j=f;f=()=>xe(j())}let b,C=j=>{b=y.onStop=()=>{ne(j,a,4)}};if(js)return C=Kt,e?s&&Dt(e,a,3,[f(),m?[]:void 0,C]):f(),Kt;let k=m?[]:ui;const q=()=>{if(!!y.active)if(e){const j=y.run();(n||p||(m?j.some((F,_)=>qe(F,k[_])):qe(j,k)))&&(b&&b(),Dt(e,a,3,[j,k===ui?void 0:k,C]),k=j)}else y.run()};q.allowRecurse=!!e;let V;r==="sync"?V=q:r==="post"?V=()=>Tt(q,a&&a.suspense):V=()=>{!a||a.isMounted?Fl(q):q()};const y=new en(f,V);return e?s?q():k=y.run():r==="post"?Tt(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&zs(a.scope.effects,y)}}function jl(t,e,s){const n=this.proxy,r=yt(t)?t.includes(".")?hi(n,t):()=>n[t]:t.bind(n,n);let i;X(e)?i=e:(i=e.handler,s=e);const l=_t;je(this);const a=fi(r,i.bind(n),s);return l?je(l):_e(),a}function hi(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}function xe(t,e){if(!pt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),gt(t))xe(t.value,e);else if(Y(t))for(let s=0;s<t.length;s++)xe(t[s],e);else if(Un(t)||Ae(t))t.forEach(s=>{xe(s,e)});else if(zn(t))for(const s in t)xe(t[s],e);return t}function Ic(){return Ll().slots}function Ll(){const t=Rs();return t.setupContext||(t.setupContext=ni(t))}function Dl(t,e,s){const n=arguments.length;return n===2?pt(e)&&!Y(e)?Is(e)?Pt(t,null,[e]):Pt(t,e):Pt(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Is(s)&&(s=[s]),Pt(t,e,s))}const Nl="3.2.26",Bl="http://www.w3.org/2000/svg",Ne=typeof document!="undefined"?document:null,di=new Map,Kl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e?Ne.createElementNS(Bl,t):Ne.createElement(t,s?{is:s}:void 0);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>Ne.createTextNode(t),createComment:t=>Ne.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ne.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,s,n){const r=s?s.previousSibling:e.lastChild;let i=di.get(t);if(!i){const l=Ne.createElement("template");if(l.innerHTML=n?`<svg>${t}</svg>`:t,i=l.content,n){const a=i.firstChild;for(;a.firstChild;)i.appendChild(a.firstChild);i.removeChild(a)}di.set(t,i)}return e.insertBefore(i.cloneNode(!0),s),[r?r.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function $l(t,e,s){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function Hl(t,e,s){const n=t.style,r=yt(s);if(s&&!r){for(const i in s)Fn(n,i,s[i]);if(e&&!yt(e))for(const i in e)s[i]==null&&Fn(n,i,"")}else{const i=n.display;r?e!==s&&(n.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=i)}}const pi=/\s*!important$/;function Fn(t,e,s){if(Y(s))s.forEach(n=>Fn(t,e,n));else if(e.startsWith("--"))t.setProperty(e,s);else{const n=Ul(t,e);pi.test(s)?t.setProperty(Ie(n),s.replace(pi,""),"important"):t[n]=s}}const gi=["Webkit","Moz","ms"],Rn={};function Ul(t,e){const s=Rn[e];if(s)return s;let n=Me(e);if(n!=="filter"&&n in t)return Rn[e]=n;n=Yn(n);for(let r=0;r<gi.length;r++){const i=gi[r]+n;if(i in t)return Rn[e]=i}return e}const mi="http://www.w3.org/1999/xlink";function ql(t,e,s,n,r){if(n&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(mi,e.slice(6,e.length)):t.setAttributeNS(mi,e,s);else{const i=Di(e);s==null||i&&!$n(s)?t.removeAttribute(e):t.setAttribute(e,i?"":s)}}function Wl(t,e,s,n,r,i,l){if(e==="innerHTML"||e==="textContent"){n&&l(n,r,i),t[e]=s==null?"":s;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const a=s==null?"":s;(t.value!==a||t.tagName==="OPTION")&&(t.value=a),s==null&&t.removeAttribute(e);return}if(s===""||s==null){const a=typeof t[e];if(a==="boolean"){t[e]=$n(s);return}else if(s==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=s}catch{}}let Bs=Date.now,vi=!1;if(typeof window!="undefined"){Bs()>document.createEvent("Event").timeStamp&&(Bs=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);vi=!!(t&&Number(t[1])<=53)}let jn=0;const zl=Promise.resolve(),Yl=()=>{jn=0},Vl=()=>jn||(zl.then(Yl),jn=Bs());function Jl(t,e,s,n){t.addEventListener(e,s,n)}function Xl(t,e,s,n){t.removeEventListener(e,s,n)}function Zl(t,e,s,n,r=null){const i=t._vei||(t._vei={}),l=i[e];if(n&&l)l.value=n;else{const[a,f]=Ql(e);if(n){const p=i[e]=Gl(n,r);Jl(t,a,p,f)}else l&&(Xl(t,a,l,f),i[e]=void 0)}}const yi=/(?:Once|Passive|Capture)$/;function Ql(t){let e;if(yi.test(t)){e={};let s;for(;s=t.match(yi);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[Ie(t.slice(2)),e]}function Gl(t,e){const s=n=>{const r=n.timeStamp||Bs();(vi||r>=s.attached-1)&&Dt(tc(n,s.value),e,5,[n])};return s.value=t,s.attached=Vl(),s}function tc(t,e){if(Y(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n(r))}else return e}const bi=/^on[a-z]/,ec=(t,e,s,n,r=!1,i,l,a,f)=>{e==="class"?$l(t,n,r):e==="style"?Hl(t,s,n):cs(e)?Ws(e)||Zl(t,e,s,n,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sc(t,e,n,r))?Wl(t,e,n,i,l,a,f):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ql(t,e,n,r))};function sc(t,e,s,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&bi.test(e)&&X(s)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||bi.test(e)&&yt(s)?!1:e in t}const ie="transition",ts="animation",wi=(t,{slots:e})=>Dl(Pr,nc(t),e);wi.displayName="Transition";const _i={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};wi.props=wt({},Pr.props,_i);const Ce=(t,e=[])=>{Y(t)?t.forEach(s=>s(...e)):t&&t(...e)},xi=t=>t?Y(t)?t.some(e=>e.length>1):t.length>1:!1;function nc(t){const e={};for(const D in t)D in _i||(e[D]=t[D]);if(t.css===!1)return e;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:f=i,appearActiveClass:p=l,appearToClass:m=a,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:C=`${s}-leave-active`,leaveToClass:k=`${s}-leave-to`}=t,q=rc(r),V=q&&q[0],y=q&&q[1],{onBeforeEnter:j,onEnter:F,onEnterCancelled:_,onLeave:S,onLeaveCancelled:E,onBeforeAppear:B=j,onAppear:U=F,onAppearCancelled:W=_}=e,J=(D,ft,at)=>{Be(D,ft?m:a),Be(D,ft?p:l),at&&at()},nt=(D,ft)=>{Be(D,k),Be(D,C),ft&&ft()},et=D=>(ft,at)=>{const Nt=D?U:F,ht=()=>J(ft,D,at);Ce(Nt,[ft,ht]),Ci(()=>{Be(ft,D?f:i),oe(ft,D?m:a),xi(Nt)||Pi(ft,n,V,ht)})};return wt(e,{onBeforeEnter(D){Ce(j,[D]),oe(D,i),oe(D,l)},onBeforeAppear(D){Ce(B,[D]),oe(D,f),oe(D,p)},onEnter:et(!1),onAppear:et(!0),onLeave(D,ft){const at=()=>nt(D,ft);oe(D,b),lc(),oe(D,C),Ci(()=>{Be(D,b),oe(D,k),xi(S)||Pi(D,n,y,at)}),Ce(S,[D,at])},onEnterCancelled(D){J(D,!1),Ce(_,[D])},onAppearCancelled(D){J(D,!0),Ce(W,[D])},onLeaveCancelled(D){nt(D),Ce(E,[D])}})}function rc(t){if(t==null)return null;if(pt(t))return[Ln(t.enter),Ln(t.leave)];{const e=Ln(t);return[e,e]}}function Ln(t){return Vn(t)}function oe(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(e)}function Be(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:s}=t;s&&(s.delete(e),s.size||(t._vtc=void 0))}function Ci(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ic=0;function Pi(t,e,s,n){const r=t._endId=++ic,i=()=>{r===t._endId&&n()};if(s)return setTimeout(i,s);const{type:l,timeout:a,propCount:f}=oc(t,e);if(!l)return n();const p=l+"end";let m=0;const b=()=>{t.removeEventListener(p,C),i()},C=k=>{k.target===t&&++m>=f&&b()};setTimeout(()=>{m<f&&b()},a+1),t.addEventListener(p,C)}function oc(t,e){const s=window.getComputedStyle(t),n=q=>(s[q]||"").split(", "),r=n(ie+"Delay"),i=n(ie+"Duration"),l=Si(r,i),a=n(ts+"Delay"),f=n(ts+"Duration"),p=Si(a,f);let m=null,b=0,C=0;e===ie?l>0&&(m=ie,b=l,C=i.length):e===ts?p>0&&(m=ts,b=p,C=f.length):(b=Math.max(l,p),m=b>0?l>p?ie:ts:null,C=m?m===ie?i.length:f.length:0);const k=m===ie&&/\b(transform|all)(,|$)/.test(s[ie+"Property"]);return{type:m,timeout:b,propCount:C,hasTransform:k}}function Si(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>Ti(s)+Ti(t[n])))}function Ti(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function lc(){return document.body.offsetHeight}const cc=["ctrl","shift","alt","meta"],ac={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cc.some(s=>t[`${s}Key`]&&!e.includes(s))},Oc=(t,e)=>(s,...n)=>{for(let r=0;r<e.length;r++){const i=ac[e[r]];if(i&&i(s,e))return}return t(s,...n)},kc={beforeMount(t,{value:e},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):es(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),es(t,!0),n.enter(t)):n.leave(t,()=>{es(t,!1)}):es(t,e))},beforeUnmount(t,{value:e}){es(t,e)}};function es(t,e){t.style.display=e?t._vod:"none"}const uc=wt({patchProp:ec},Kl);let Ei;function fc(){return Ei||(Ei=al(uc))}const Fc=(...t)=>{const e=fc().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=hc(n);if(!r)return;const i=e._component;!X(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const l=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},e};function hc(t){return yt(t)?document.querySelector(t):t}var Ai={exports:{}},Mi={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(window,function(){return function(s){var n={};function r(i){if(n[i])return n[i].exports;var l=n[i]={i,l:!1,exports:{}};return s[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=s,r.c=n,r.d=function(i,l,a){r.o(i,l)||Object.defineProperty(i,l,{enumerable:!0,get:a})},r.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,l){if(1&l&&(i=r(i)),8&l||4&l&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&l&&typeof i!="string")for(var f in i)r.d(a,f,function(p){return i[p]}.bind(null,f));return a},r.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(l,"a",l),l},r.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},r.p="",r(r.s=0)}([function(s,n,r){s.exports=r(1)},function(s,n,r){r.r(n);var i={};r.r(i),r.d(i,"translatePoint",function(){return a}),r.d(i,"refineFloat",function(){return f});var l={};function a(F,_){var S=F.getScreenCTM();if(!S)throw new Error("Should has screen CTM.");var E=F.createSVGPoint();return E.x=_.x,E.y=_.y,E.matrixTransform(S.inverse())}function f(F){return F+8-8}function p(){for(var F=0,_=1;_<arguments.length;_+=1){var S=_-1<0||arguments.length<=_-1?void 0:arguments[_-1],E=_<0||arguments.length<=_?void 0:arguments[_];F+=Math.sqrt(Math.pow(S.x-E.x,2)+Math.pow(S.y-E.y,2))}return F}function m(F,_){var S=F.w/2;if(!_)return{left:{x:F.x,y:F.y+S},right:{x:F.x,y:F.y-S}};var E=Math.atan((F.y-_.y)/(F.x-_.x)),B=f(Math.sin(E)*S),U=f(Math.cos(E)*S);return{left:{x:F.x-B,y:F.y+U},right:{x:F.x+B,y:F.y-U}}}function b(){for(var F=["M"],_=[],S=0;S<arguments.length;S+=1){var E=m(S<0||arguments.length<=S?void 0:arguments[S],(S-1<0||arguments.length<=S-1?void 0:arguments[S-1])||(S+1<0||arguments.length<=S+1?void 0:arguments[S+1])),B=E.left,U=E.right,W=_.slice(S)[0];W&&p(W,B)>p(W,U)?_.splice(S,0,B,U):_.splice(S,0,U,B)}for(var J=0,nt=_;J<nt.length;J++){var et=nt[J];F.push("".concat(et.x,",").concat(et.y))}return{d:F.join(" ")}}function C(F){return function(_){if(Array.isArray(_)){for(var S=0,E=new Array(_.length);S<_.length;S++)E[S]=_[S];return E}}(F)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(F,_){var S=Object.keys(F);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(F);_&&(E=E.filter(function(B){return Object.getOwnPropertyDescriptor(F,B).enumerable})),S.push.apply(S,E)}return S}function q(F){for(var _=1;_<arguments.length;_++){var S=arguments[_]!=null?arguments[_]:{};_%2?k(S,!0).forEach(function(E){V(F,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(S)):k(S).forEach(function(E){Object.defineProperty(F,E,Object.getOwnPropertyDescriptor(S,E))})}return F}function V(F,_,S){return _ in F?Object.defineProperty(F,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):F[_]=S,F}function y(){var F,_=[];if(arguments.length===0)return[];_.push(q({},arguments.length<=0?void 0:arguments[0]));for(var S=0;S<arguments.length-1;S++){var E=S<0||arguments.length<=S?void 0:arguments[S],B=S+1<0||arguments.length<=S+1?void 0:arguments[S+1];_.push({x:.75*E.x+.25*B.x,y:.75*E.y+.25*B.y,w:.75*E.w+.25*B.w},{x:.25*E.x+.75*B.x,y:.25*E.y+.75*B.y,w:.25*E.w+.75*B.w})}return arguments.length>2&&_.push(q({},(F=arguments.length-1)<0||arguments.length<=F?void 0:arguments[F])),_}function j(F){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,S=F,E=0;E<_;E+=1)S=y.apply(void 0,C(S));return S}r.r(l),r.d(l,"length",function(){return p}),r.d(n,"computeSidePoints",function(){return m}),r.d(n,"compute",function(){return b}),r.d(n,"util",function(){return i}),r.d(n,"vector2",function(){return l}),r.d(n,"smoothOnce",function(){return y}),r.d(n,"smooth",function(){return j})}])})})(Mi);(function(t,e){var s=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(o,c,d)=>c in o?n(o,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[c]=d,b=(o,c)=>{for(var d in c||(c={}))f.call(c,d)&&m(o,d,c[d]);if(l)for(var d of l(c))p.call(c,d)&&m(o,d,c[d]);return o},C=o=>n(o,"__esModule",{value:!0}),k=(o,c)=>{C(o);for(var d in c)n(o,d,{get:c[d],enumerable:!0})},q=(o,c,d)=>{if(c&&typeof c=="object"||typeof c=="function")for(let g of i(c))!f.call(o,g)&&g!=="default"&&n(o,g,{get:()=>c[g],enumerable:!(d=r(c,g))||d.enumerable});return o},V=o=>q(C(n(o!=null?s(a(o)):{},"default",o&&o.__esModule&&"default"in o?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o),y=(o,c,d)=>(m(o,typeof c!="symbol"?c+"":c,d),d);k(e,{Coordinate:()=>_,PaintCanvas:()=>ae,Point:()=>j,utils:()=>ls});var j=class{constructor(o=0,c=0){y(this,"x"),y(this,"y"),this.x=o,this.y=c}equals(o){return this.x===o.x&&this.y===o.y}move(o){return new j(this.x+o.x,this.y+o.y)}sub(o){return new j(this.x-o.x,this.y-o.y)}get angle(){return Math.atan2(this.y,this.x)/Math.PI*180}get length(){return Math.sqrt(this.x**2+this.y**2)}rotate(o){let c=o/180*Math.PI,d=Math.cos(c),g=Math.sin(c),T=this.x*d-this.y*g,N=this.x*g+this.y*d;return new j(T,N)}scale(o){return new j(this.x*o,this.y*o)}get invert(){return this.scale(-1)}},F=o=>new j(o.x,o.y),_=class{constructor(o){y(this,"scroll"),y(this,"scale"),y(this,"angle"),y(this,"flipY"),y(this,"_matrix");var c,d,g,T;this.scroll=(c=o==null?void 0:o.scroll)!=null?c:new j,this.scale=(d=o==null?void 0:o.scale)!=null?d:1,this.angle=(g=o==null?void 0:o.angle)!=null?g:0,this.flipY=(T=o==null?void 0:o.flipY)!=null?T:!1,this._matrix=new DOMMatrix().translateSelf(this.scroll.x,this.scroll.y).scaleSelf(this.scale,this.scale*(this.flipY?-1:1)).rotateSelf(this.angle)}toData(){return{scroll:this.scroll,scale:this.scale,angle:this.angle,flipY:this.flipY}}clone(o){let c=this.toData();return new _(b(b({},c),o))}get invert(){return new _({scroll:this.scroll.scale(-1),scale:1/this.scale,angle:-this.angle})}get matrix(){return this._matrix.translate(0)}get matrixScrollAfter(){return new DOMMatrix().scaleSelf(this.scale,this.scale*(this.flipY?-1:1)).rotateSelf(this.angle).translateSelf(this.scroll.x,this.scroll.y)}},S=class{constructor(o,c){y(this,"el"),y(this,"ctx"),y(this,"width"),y(this,"height"),y(this,"_coord");let d=document.createElement("canvas"),g=d.getContext("2d");if(!g)throw new Error("Failed to get 2d context for canvas");this.width=o,this.height=c,d.width=o,d.height=c,g.lineCap="round",this.el=d,this.ctx=g,this._coord=new _}get centor(){return new j(this.width/2,this.height/2)}set coord(o){let c=this.centor;this._coord=o,this.ctx.resetTransform(),this.ctx.translate(c.x,c.y),this.ctx.translate(o.scroll.x,o.scroll.y),this.ctx.rotate(-o.angle/180*Math.PI),this.ctx.scale(1/o.scale,1/o.scale)}get coord(){return this._coord}output(o,c){let d=this.centor;o.save();let g=this.coord;o.resetTransform(),o.translate(d.x,d.y),o.scale(g.scale,g.scale),o.rotate(g.angle/180*Math.PI),o.translate(-g.scroll.x,-g.scroll.y),o.translate(-d.x,-d.y),this.transferImageTo(o,c),o.restore()}copy(o,c){o.save(),o.resetTransform(),this.transferImageTo(o,c),o.restore()}transferImageTo(o,c){var d,g;o.globalAlpha=(d=c==null?void 0:c.alpha)!=null?d:1,o.globalCompositeOperation=(g=c==null?void 0:c.composition)!=null?g:"source-over",(c==null?void 0:c.background)&&(o.fillStyle=c.background,o.fillRect(0,0,this.width,this.height)),o.drawImage(this.el,0,0)}},E=class{constructor(){y(this,"listeners",[])}fire(o){this.listeners.forEach(c=>c(o))}listen(o){this.listeners.includes(o)||this.listeners.push(o)}clear(){this.listeners.length=0}},B=o=>{let c=o>=0?o%360:360+o%360;return c<=180?c:-360+c},U=o=>o/180*Math.PI,W=o=>{o.ctx.save(),o.ctx.resetTransform(),o.ctx.clearRect(0,0,o.width,o.height),o.ctx.restore()},J=(o,c)=>{o.ctx.save(),o.ctx.resetTransform(),o.ctx.fillStyle=c,o.ctx.fillRect(0,0,o.width,o.height),o.ctx.restore()},nt=(o,c,d,g,T="#91bccc")=>{let N=T,R=`${T}88`,H=new j(o.width/2,o.height/2).move(g.scroll),Q=Math.sqrt(o.width**2+o.height**2);o.ctx.save(),o.ctx.resetTransform(),o.ctx.translate(H.x,H.y),o.ctx.rotate(U(g.angle)),o.ctx.lineWidth=1,o.ctx.rotate(U(-90+360/c/2));for(let dt=0;dt<c;dt++){let bt=d&&dt%2!=0;o.ctx.strokeStyle=bt?R:N,o.ctx.setLineDash(bt?[4,4]:[]),o.ctx.beginPath(),o.ctx.moveTo(0,0),o.ctx.lineTo(0,Q),o.ctx.stroke(),o.ctx.closePath(),o.ctx.rotate(360/c/180*Math.PI)}o.ctx.restore()},et=class{constructor(o=10){y(this,"maxItems"),y(this,"items",[]),y(this,"onOverflow",new E),this.maxItems=o}get length(){return this.items.length}clear(){this.items.length=0}push(o){if(this.items.push(o),this.items.length<=this.maxItems)return;let c=this.items.shift();c&&this.onOverflow.fire(c)}pop(){return this.items.pop()}peek(o=0){return this.items[this.items.length-1+o]}getItems(){return[...this.items]}listenOverflow(...o){this.onOverflow.listen(...o)}},D=V(Mi.exports),ft=o=>{let[c,...d]=o,g=`M${c.x}, ${c.y} L`+d.map(T=>isNaN(T.x+T.y)?"":`${T.x}, ${T.y}`).join(" ")+"";return new Path2D(g)},at=o=>{if(o.length<=2)return[o];for(let c=2;c<o.length;c++){let d=o[c-2],g=o[c-1],T=o[c-0],N=g.point.sub(d.point).angle,R=T.point.sub(g.point).angle,H=Math.abs(N-R);if(Math.abs(H-180)<10)return[o.slice(0,c),...at(o.slice(c-1))]}return[o]},Nt=(o,c)=>{let d=o.map(N=>({x:N.point.x,y:N.point.y,w:Math.max(1,N.pressure*c)})),g=(0,D.smooth)(d,3),T=[];for(let N=0;N<g.length;N+=1){let{left:R,right:H}=(0,D.computeSidePoints)(g[N],g[N-1]||g[N+1]),Q=T.slice(N)[0],dt=!1;if(Q){let bt=D.vector2.length(Q,R),Et=D.vector2.length(Q,H);dt=bt-Et>0}Q&&dt?T.splice(N,0,R,H):T.splice(N,0,H,R)}return ft(T)},ht=(o,c,d)=>{let g=c.flatMap(at).map(T=>Nt(T,o.lineWidth));d.forEach(T=>{g.forEach(N=>{let R=new Path2D;R.addPath(N,T),o.fill(R)})})},rt=class{constructor(){y(this,"_coord",new _),y(this,"children",[])}get coord(){return this._coord}set coord(o){this._coord=this._coord.clone(o)}get childCount(){return this.children.length}get state(){return{coord:this.coord,children:this.children.map(o=>o.state)}}set state(o){for(this.coord=o.coord,this.children.length>o.children.length&&(this.children.length=o.children.length);this.children.length<o.children.length;)this.addChildPen();o.children.forEach((c,d)=>{this.children[d].state=c})}get leafs(){return this.childCount?this.children.flatMap(o=>o.leafs):[this]}childAt(o){return this.children[o]}matrices(o){let c=o.multiply(this.coord.matrix);return this.childCount?this.children.flatMap(d=>d.matrices(c)):[c]}matricesBasedFirstPen(o){let c=this.matrices(o),d=c[0].inverse();return c.map(g=>g.multiply(d))}addChildPen(o){let c=new rt;return o&&(c.coord=o),this.children.push(c),c}clearChildren(){this.children.length=0}drawStrokes(o,c){let d=this.matricesBasedFirstPen(new DOMMatrix);ht(o.ctx,c,d)}drawLines(o,c,d=.5){if(c.length<2)return;let g=o.ctx,T=c.map(R=>({point:R,pressure:d})),N=this.matricesBasedFirstPen(new DOMMatrix);ht(g,[T],N)}dryRun(o){let c=this.matrices(new DOMMatrix),d=c[0].inverse();return c.map(g=>o.map(T=>{let N=d.transformPoint(T.point);return{point:F(g.transformPoint(N)),pressure:T.pressure}}))}},it=o=>{let c=o.findIndex((R,H)=>H>0&&R.pressure===0);if(c===-1)return[o];let d=o.slice(0,c),g=o.slice(c),T=!(d.length===1&&d[0].pressure===0),N=!(g.length===1&&g[0].pressure===0);return[...T?[d]:[],...N?it(g):[]]},It=(o,c)=>{o.ctx.strokeStyle=c.style.color,o.ctx.lineWidth=c.style.penSize;let d=new rt;d.state=c.penState,d.drawStrokes(o,it(c.inputs))},Ke=o=>{W(o)},le=(o,c,d)=>{d.forEach(g=>{g.tool==="pen"&&(W(c),It(c,g),c.copy(o.ctx,{alpha:g.style.alpha,composition:g.style.composition})),g.tool==="clearAll"&&Ke(o)}),W(c)},Xt=o=>o.flatMap(c=>{if(!c.length)return c;let d=c[0],g=c[c.length-1];return[{point:d.point,pressure:0},...c,{point:g.point,pressure:0}]}),Ot=class{constructor(o,c,d,g="pen"){y(this,"inputs",[]),y(this,"penState"),y(this,"style"),y(this,"canvasCoord"),y(this,"tool"),this.canvasCoord=o,this.penState=c,this.style=d,this.tool=g}addPoint(o,c){this.inputs.push({point:o,pressure:c})}clearPoints(o=!1,c=!1){let d=o?this.inputs.shift():void 0,g=c?this.inputs.pop():void 0;this.inputs.length=0,d&&this.inputs.push(d),g&&this.inputs.push(g)}get flatten(){let o=new rt;o.state=this.penState;let c=o.dryRun(this.inputs),d=F(this.canvasCoord.matrixScrollAfter.transformPoint(o.coord.scroll)).invert,g=Xt(c).map(N=>({point:N.point.move(d),pressure:N.pressure}));o.clearChildren(),o.coord=new _;let T=new Ot(this.canvasCoord,o.state,this.style,this.tool);return T.inputs.push(...g),T}},ns=110,Pe=10,$s=class{constructor(o,c){y(this,"canvasWidth"),y(this,"canvasHeight"),y(this,"history",new et(1/0)),y(this,"snapshots",new et(ns/Pe)),y(this,"currentStroke"),y(this,"lastSnapshotIndex",0),y(this,"oldestSnapshotIndex",0),this.canvasWidth=o,this.canvasHeight=c,this.snapshots.listenOverflow(()=>{this.oldestSnapshotIndex+=Pe,console.log(`oldestSnapshotIndex: ${this.oldestSnapshotIndex}`)})}get strokes(){return this.history.peek()}get snapshot(){return this.snapshots.peek()}get prevSnapshot(){return this.snapshots.peek(-1)}get lastHistories(){return this.history.getItems().slice(this.lastSnapshotIndex)}addSnapshot(){let o=new S(this.canvasWidth,this.canvasHeight);this.snapshots.push(o);let c=this.prevSnapshot;c&&o.ctx.drawImage(c.el,0,0);let d=document.querySelector("#debug .history .snaps");if(d){let g=120/Math.max(o.el.width,o.el.height);o.el.style.width=`${o.el.width*g}px`,o.el.style.height=`${o.el.height*g}px`,d.appendChild(o.el),o.el.scrollIntoView()}this.lastSnapshotIndex=this.history.length-1}start(o,c,d,g){let T=new Ot(o,c,d,g);return this.currentStroke=T,T}commit(o){if(!!this.currentStroke){if(this.history.push(this.currentStroke),this.history.length-this.lastSnapshotIndex-1===Pe){if(this.addSnapshot(),!this.snapshot){console.error("failed to add snapshot");return}o.copy(this.snapshot.ctx,{alpha:this.currentStroke.style.alpha}),console.log("new snapshot",this.snapshots.length)}this.currentStroke=void 0}}rollback(){!this.currentStroke||(console.log("stroke rollbacked"),this.currentStroke=void 0)}get current(){return this.currentStroke}get undoable(){return this.history.length>this.oldestSnapshotIndex}undo(o,c){var d;if(!this.undoable)return console.log("no more history"),!1;o.ctx.save();let g=this.snapshot;if(g?(o.ctx.resetTransform(),o.ctx.drawImage(g.el,0,0)):console.log("no prev"),this.history.pop(),le(o,c,this.lastHistories),!this.lastHistories.length&&this.snapshots.length>=1){let T=this.snapshots.pop();T&&((d=T.el.parentNode)==null||d.removeChild(T.el)),this.lastSnapshotIndex-=Pe,console.log("back prev snap",this.snapshots.length,this.snapshots)}return o.ctx.restore(),!0}},Bt=o=>{if(!o.length)return 0;let c=Math.floor(o.length*.9);return o[c].pressure},ce=class{constructor(o){y(this,"color"),y(this,"penSize"),y(this,"alpha"),y(this,"composition");var c,d,g,T;this.color=(c=o==null?void 0:o.color)!=null?c:"#000000",this.penSize=(d=o==null?void 0:o.penSize)!=null?d:10,this.alpha=(g=o==null?void 0:o.alpha)!=null?g:1,this.composition=(T=o==null?void 0:o.composition)!=null?T:""}toData(){return{color:this.color,penSize:this.penSize,alpha:this.alpha,composition:this.composition}}clone(o){return new ce(b(b({},this.toData()),o))}},rs=o=>{var c;return(c={draw:"crosshair",scroll:"move","scroll:anchor":"move",zoomup:"zoom-in",zoomdown:"zoom-out",rotate:"grab","rotate:anchor":"grab","draw:line":"crosshair","draw:stamp":"crosshair"}[o])!=null?c:"default"},Zt=(o,c)=>{let d=o.getBoundingClientRect();return new j(d.left,d.top).move(c!=null?c:new j(d.width/2,d.height/2))},$e=(o,c,d)=>{let g=c.sub(o).angle;return d.sub(o).angle-g},Se=(o,c,d)=>({distance:d.sub(c),angle:$e(o,c,d)}),u=(o,c,d,g,T,N=1,R=60)=>{let H={startPoint:new j,lastRawPoint:new j,isWatchMove:!1,lastMs:Date.now()},Q=()=>Zt(o,T==null?void 0:T()),dt=mt=>{!mt.isPrimary||(H.startPoint=H.lastRawPoint=new j(mt.clientX,mt.clientY),H.isWatchMove=c(mt))},bt=mt=>{if(!mt.isPrimary||!H.isWatchMove)return;let Wt=new j(mt.clientX,mt.clientY),Te=Wt.sub(H.lastRawPoint).length,ue=Date.now(),fe=1e3/(ue-H.lastMs);Te<N||fe>R||Te/N*(R/fe)<3||(d(mt,Se(Q(),H.startPoint,Wt)),H.lastRawPoint=Wt,H.lastMs=ue)},Et=mt=>{if(!mt.isPrimary||!H.isWatchMove)return;let Wt=new j(mt.clientX,mt.clientY);g(mt,Se(Q(),H.startPoint,Wt)),H.isWatchMove=!1};return o.addEventListener("pointerdown",dt),o.addEventListener("pointermove",bt),o.addEventListener("pointerup",Et),()=>{o.removeEventListener("pointerdown",dt),o.removeEventListener("pointermove",bt),o.removeEventListener("pointerup",Et)}},h=200,v=300,x=10,w=o=>{let[c,d]=o,g=new j((c.x+d.x)/2,(c.y+d.y)/2),T=c.sub(g).angle,N=d.sub(c).length;return{center:g,angle:T,dist:N}},M=o=>{let[c,d]=o;return{scroll:d.center.sub(c.center),angle:B(d.angle-c.angle),scale:d.dist/c.dist,center:d.center}},O=o=>{let c=[];for(let d=0;d<o.length;d++)c.push(o[d]);return c},A=(o,c,d=1)=>{let g=[],T,N=0,R=!1,H=0,Q=0,dt=()=>{N=Date.now(),R=!1,H=0,Q=0},bt=()=>Date.now()-N<=h,Et=()=>{if(!(g.length<2))return[g[0].pagePoint,g[1].pagePoint]},mt=Ft=>{let St=O(Ft).map(vt=>vt.identifier);g=g.filter(vt=>!St.includes(vt.identifier))},Wt=Ft=>{mt(Ft);let St=O(Ft).map(vt=>({identifier:vt.identifier,pagePoint:new j(vt.clientX,vt.clientY)}));g=[...g,...St]},Te=Ft=>{let St=O(Ft),vt=!1;return St.forEach(Qt=>{let He=g.find(ji=>ji.identifier===Qt.identifier);if(!He)return;let Ue=new j(Qt.clientX,Qt.clientY);He.pagePoint.sub(Ue).length<=d||(He.pagePoint=Ue,vt=!0)}),vt},ue=Ft=>{var St;let vt=g.length;Wt(Ft.changedTouches),vt===0&&dt(),vt<=1&&g.length>=2&&bt()&&(R=!0,T=Et(),(St=c.onStart)==null||St.call(c)),H=Math.max(H,g.length)},fe=Ft=>{var St,vt,Qt;mt(Ft.changedTouches),g.length<=1&&R&&(R=!1,T=void 0,(St=c.onEnd)==null||St.call(c),Date.now()-N<v&&Q<=x&&(H===2&&((vt=c.onTwoFingerTap)==null||vt.call(c)),H===3&&((Qt=c.onThreeFingerTap)==null||Qt.call(c))))},Kn=Ft=>{var St;if(!R||!Te(Ft.changedTouches))return;let vt=Et();if(T&&vt){let[Qt,He]=[w(T),w(vt)],Ue=M([Qt,He]);Q=Math.max(Q,Ue.scroll.length),(St=c.onTransform)==null||St.call(c,Ue,H)}};return o.addEventListener("touchstart",ue),o.addEventListener("touchend",fe),o.addEventListener("touchcancel",fe),o.addEventListener("touchmove",Kn),()=>{o.removeEventListener("touchstart",ue),o.removeEventListener("touchend",fe),o.removeEventListener("touchcancel",fe),o.removeEventListener("touchmove",Kn)}},I=.2,P=4,K=[0,I,.33,.5,.67,.75,1,1.5,2,2.5,3,3.5,P,1/0],L=(o,c)=>{var d;let g=c?K:[...K].reverse(),T=g.findIndex(R=>c?R>o:R<o),N=(d=g[T])!=null?d:0;return Math.max(I,Math.min(P,N))},$=.4,z=3,Z=o=>1-Math.pow(1-o,2),ut=o=>o<.05?0:Math.max(0,Z(o)),st=class{constructor(){y(this,"inps",new et(5))}clear(){this.inps.clear()}add(o){if(!this.inps.peek()||this.inps.length<z)return this.inps.push(o),o;let c=ut(this.avrPressure()*$+o.pressure*(1-$)),d={point:o.point,pressure:c};return this.inps.push(d),d}avrPressure(){let o=this.inps.getItems();return o.map(c=>c.pressure).reduce((c,d)=>c+d)/o.length}},ot=(o,c)=>{if(o.length!==c.length)return!1;for(let d=0;d<o.length;d++)if(o[d]!==c[d])return!1;return!0},lt=2,qt=3.5,is={normal:"",eraser:"destination-out"},ae=class{constructor(o,c,d){y(this,"width"),y(this,"height"),y(this,"canvas"),y(this,"strokeCanvas"),y(this,"view"),y(this,"eventStatus",{isUseStrokeCanvas:!1,activeEvent:void 0,startCoord:new _,startAnchor:[new _,new _],startPoint:new j,lastPoint:new j,isCapturing:!1,isInMultiTouch:!1}),y(this,"history"),y(this,"requestChangeZoom",new E),y(this,"requestScrollTo",new E),y(this,"requestRotateTo",new E),y(this,"requestUndo",new E),y(this,"requestAnchorTransform",new E),y(this,"requestAnchorReset",new E),y(this,"pen",new rt),y(this,"style",new ce),y(this,"stamp"),y(this,"_tool","draw"),y(this,"_backgroundColor","#ffffff"),y(this,"_anchor",new _),y(this,"_anchorChild",new _),y(this,"_penCount",[1,0]),y(this,"_isKaleido",[!1,!1]),y(this,"smoother",new st),y(this,"view2canvasPos",(R,H)=>{let Q=H==="start"?this.eventStatus.startCoord:this.coord;return R.scale(1/Q.scale).rotate(-Q.angle).move(Q.scroll)}),y(this,"canvas2viewPos",(R,H)=>{let Q=H==="start"?this.eventStatus.startCoord:this.coord;return R.move(Q.scroll.invert).rotate(Q.angle).scale(Q.scale)}),y(this,"canvas2displayPos",(R,H)=>this.canvas2viewPos(R,H).move(new j(this.width,this.height)).scale(1/lt));var g,T;this.width=c,this.height=d,this.canvas=new S(this.width*lt,this.height*lt),this.strokeCanvas=new S(this.width*lt,this.height*lt),this.view=new S(this.width*lt,this.height*lt),this.history=new $s(this.width*lt,this.height*lt),this.view.el.style.width=`${c}px`,this.view.el.style.height=`${d}px`,o.appendChild(this.view.el);let N=document.getElementById("debug");if(N){let R=200/Math.max(c,d);this.canvas.el.style.width=`${c*R}px`,this.canvas.el.style.height=`${d*R}px`,this.strokeCanvas.el.style.width=`${c*R}px`,this.strokeCanvas.el.style.height=`${d*R}px`,(g=N.querySelector(".canvas"))==null||g.appendChild(this.canvas.el),(T=N.querySelector(".stroke"))==null||T.appendChild(this.strokeCanvas.el)}A(this.view.el,{onStart:()=>{this.endStroke(!1),this.eventStatus.isInMultiTouch=!0},onTransform:(R,H)=>H>=3?this.onTouchTramsformAnchor(R):this.onTouchTramsformCanvas(R),onEnd:()=>{this.eventStatus.isInMultiTouch=!1},onTwoFingerTap:()=>this.requestUndo.fire(),onThreeFingerTap:()=>this.requestAnchorReset.fire()},qt),u(this.view.el,R=>!this.eventStatus.isInMultiTouch&&this.onDown(R),(R,H)=>!this.eventStatus.isInMultiTouch&&this.onDrag(R,H),(R,H)=>!this.eventStatus.isInMultiTouch&&this.onUp(R,H),()=>this.tool==="scroll:anchor"||this.tool==="rotate:anchor"?this.canvas2displayPos(this.activeAnchor.scroll,"start"):void 0,qt),this.childAnchor=new _({scroll:new j(300,0),angle:0}),this.tool="draw",this.clear(!1)}get coord(){return this.canvas.coord}set coord(o){this.canvas.coord=o.clone({}),this.rePaint()}get tool(){return this._tool}set tool(o){this._tool=o,this.view.el.style.cursor=rs(o)}get isKaleido(){return[...this._isKaleido]}set isKaleido(o){ot(this.isKaleido,o)||(this._isKaleido=[...o],this.rebuildPen(),this.rePaint())}get penCount(){return this._penCount}set penCount(o){ot(this.penCount,o)||(this._penCount=[...o],this.rebuildPen(),this.rePaint())}get hasSubPen(){return this.penCount[1]>=1}set penWidth(o){this.style=this.style.clone({penSize:o})}set penColor(o){this.style=this.style.clone({color:o})}set penAlpha(o){this.style=this.style.clone({alpha:o})}get penKind(){return this.style.composition===""?"normal":"eraser"}set penKind(o){this.style=this.style.clone({composition:is[o]})}get hasStamp(){return!!this.stamp}get backgroundColor(){return this._backgroundColor}set backgroundColor(o){this._backgroundColor!==o&&(this._backgroundColor=o,this.rePaint())}get anchor(){return this._anchor}set anchor(o){this._anchor=o,this.rebuildPen(),this.rePaint()}get childAnchor(){return this._anchorChild}set childAnchor(o){this._anchorChild=o,this.rebuildPen(),this.rePaint()}get activeAnchor(){return this.hasSubPen?this.childAnchor:this.anchor}set activeAnchor(o){this[this.hasSubPen?"childAnchor":"anchor"]=o}get relativeChildAnchor(){return new _({scroll:this.childAnchor.scroll.sub(this.anchor.scroll).rotate(-this.anchor.angle),angle:this.childAnchor.angle})}rebuildPen(){let o=this.pen,[c,d]=this.isKaleido,[g,T]=[this.penCount[0]*(c?2:1),this.penCount[1]*(d?2:1)],N=this.relativeChildAnchor;o.clearChildren(),o.coord=this._anchor;for(let R=0;R<g;R++){let H=this._isKaleido[0]&&R%2!=0,Q=o.addChildPen(new _({angle:R/g*360,flipY:H}));for(let dt=0;dt<T;dt++){let bt=this._isKaleido[1]&&dt%2!=0;Q.addChildPen(new _({scroll:N.scroll,angle:N.angle})).addChildPen(new _({angle:dt/T*360,flipY:bt}))}}}listenRequestZoom(...o){this.requestChangeZoom.listen(...o)}listenRequestScrollTo(...o){this.requestScrollTo.listen(...o)}listenRequestRotateTo(...o){this.requestRotateTo.listen(...o)}listenRequestUndo(...o){this.requestUndo.listen(...o)}listenRequestAnchorTransform(...o){this.requestAnchorTransform.listen(...o)}listenRequestAnchorReset(...o){this.requestAnchorReset.listen(...o)}clear(o=!0){o&&(this.history.start(this.coord,this.pen.state,this.style,"clearAll"),this.history.commit(this.canvas)),W(this.canvas),this.rePaint()}undo(){!this.history.undoable||(this.clear(!1),this.history.undo(this.canvas,this.strokeCanvas),this.rePaint())}async toImgBlob(){return new Promise((o,c)=>{this.canvas.el.toBlob(d=>d?o(d):c())})}event2viewPoint(o){return new j((o.offsetX-this.width/2)*lt,(o.offsetY-this.height/2)*lt)}onDown(o){let c=this.tool;if(this.eventStatus.activeEvent=c,this.eventStatus.startCoord=this.coord,this.eventStatus.startAnchor=[this.anchor,this.childAnchor],this.eventStatus.lastPoint=this.eventStatus.startPoint=this.event2viewPoint(o),this.eventStatus.isCapturing=o.metaKey,this.smoother.clear(),c==="zoomup"||c==="zoomdown"){let d=this.coord.scale;return c==="zoomup"&&this.requestChangeZoom.fire(L(d,!0)),c==="zoomdown"&&this.requestChangeZoom.fire(L(d,!1)),!1}return(c==="draw"||c==="draw:line"||c==="draw:stamp")&&this.startStroke(this.eventStatus.startPoint),!0}onDrag(o,c){let d=this.eventStatus.activeEvent,g=this.event2viewPoint(o),T=this.smoother.add({point:g,pressure:o.pressure});if((d==="draw"||d==="draw:line")&&(this.continueStroke(T.point,T.pressure||.5),this.eventStatus.lastPoint=T.point),d==="draw:stamp"&&this.stamp){let N=T.point.sub(this.eventStatus.startPoint),R=N.length/100;this.putStroke(this.stamp,this.eventStatus.startPoint,R,N.angle,!0)}d==="scroll"&&this.onScroll(c,"canvas"),d==="scroll:anchor"&&this.onScroll(c,"anchor"),d==="rotate"&&this.onRotate(c,"canvas"),d==="rotate:anchor"&&this.onRotate(c,"anchor"),o.preventDefault()}onUp(o,c){var d;let g=this.eventStatus.activeEvent,T=this.event2viewPoint(o),N=g==="draw"||g==="draw:line"||g==="draw:stamp";if(g==="draw"&&this.continueStroke(T,o.pressure||0),g==="draw:line"){W(this.strokeCanvas);let R=this.history.current,H=this.history.current?Bt(this.history.current.inputs):.5;if(this.continueStroke(T,H),R){R.inputs.length=1,R.inputs[0].pressure=H;let Q={point:T,pressure:H};R.inputs.push(Q,Q)}}if(g==="draw:stamp"&&this.stamp){W(this.strokeCanvas);let R=T.sub(this.eventStatus.startPoint),H=R.length/100;this.putStroke(this.stamp,this.eventStatus.startPoint,H,R.angle,!1)}if((g==="draw"||g==="draw:line")&&this.eventStatus.isCapturing){this.stamp=(d=this.history.current)==null?void 0:d.flatten,this.endStroke(!1),this.rePaint();return}g==="scroll"&&this.onScroll(c,"canvas"),g==="scroll:anchor"&&this.onScroll(c,"anchor"),g==="rotate"&&this.onRotate(c,"canvas"),g==="rotate:anchor"&&this.onRotate(c,"anchor"),this.endStroke(N)}startStroke(o){var c;let d=this.view2canvasPos(o,"start");this.eventStatus.isUseStrokeCanvas=!0,this.strokeCanvas.coord=new _,this.strokeCanvas.ctx.lineWidth=this.style.penSize;let g=()=>this.eventStatus.isCapturing?"#0044aa":this.penKind==="eraser"?this.backgroundColor:this.style.color;this.strokeCanvas.ctx.fillStyle=g(),this.history.start(this.coord,this.pen.state,this.style),(c=this.history.current)==null||c.addPoint(d,0)}continueStroke(o,c=.5){let d=this.eventStatus.activeEvent,g=this.view2canvasPos(o,"start"),T=this.history.current;if(T){if(T.addPoint(g,c),W(this.strokeCanvas),d==="draw:line"){let N={point:T.inputs[0].point,pressure:c},R=T.inputs[T.inputs.length-1],H=[N,R,R];this.pen.drawStrokes(this.strokeCanvas,[H])}else this.pen.drawStrokes(this.strokeCanvas,[T.inputs]);this.rePaint()}}endStroke(o){o?(this.history.commit(this.canvas),this.strokeCanvas.copy(this.canvas.ctx,{alpha:this.style.alpha,composition:this.style.composition}),W(this.strokeCanvas)):(this.history.rollback(),W(this.strokeCanvas)),this.eventStatus.isUseStrokeCanvas=!1,this.eventStatus.activeEvent=void 0,this.rePaint()}onScroll(o,c){let d=this.hasSubPen?1:0,g={canvas:this.eventStatus.startCoord,anchor:this.eventStatus.startAnchor[d]}[c].scroll.move(o.distance.scale(-1/this.coord.scale*lt).rotate(-this.coord.angle).scale(c==="anchor"?-1:1));this.requestScrollTo.fire({point:g,target:c})}onRotate(o,c){let d=this.hasSubPen?1:0,g={canvas:this.eventStatus.startCoord,anchor:this.eventStatus.startAnchor[d]}[c].angle+o.angle;this.requestRotateTo.fire({angle:B(g),target:c})}onTouchTramsformCanvas(o){let c=this.eventStatus.startCoord,{center:d,scroll:g,scale:T,angle:N}=o,R=ue=>ue.rotate(-c.angle).scale(1/c.scale),H=new j((d.x-this.width/2)*lt,(d.y-this.height/2)*lt),Q=this.view2canvasPos(H,"start"),dt=new j(0,0),bt=this.view2canvasPos(dt,"start"),Et=Q.sub(bt),mt=Et.rotate(-N).scale(1/T).sub(Et),Wt=g.scale(lt),Te=R(Wt);this.requestRotateTo.fire({angle:c.angle+N,target:"canvas"}),this.requestChangeZoom.fire(c.scale*T),this.requestScrollTo.fire({point:c.scroll.sub(mt).sub(Te),target:"canvas"})}onTouchTramsformAnchor(o){let c=this.eventStatus.startAnchor[this.hasSubPen?1:0],d=o.angle+c.angle,g=o.scroll.scale(1/this.eventStatus.startCoord.scale*lt).rotate(-this.eventStatus.startCoord.angle).move(c.scroll);this.requestAnchorTransform.fire(c.clone({scroll:g,angle:d}))}putStroke(o,c,d,g,T){let N=new rt;N.state=this.pen.state;let R=this.style.clone({color:this.penKind==="eraser"?this.backgroundColor:this.style.color}),H=c,Q=new Ot(this.coord,N.state,T?R:this.style,o.tool),dt=o.inputs.map(Et=>({point:Et.point.scale(d).rotate(g).move(H),pressure:Et.pressure}));Q.inputs.push(...dt),It(this.strokeCanvas,Q),this.rePaint();let bt=this.history.current;!T&&bt&&(bt.clearPoints(),bt.inputs.push(...Q.inputs))}rePaint(){J(this.view,"#cccccc"),this.canvas.output(this.view.ctx,{background:this.backgroundColor}),this.eventStatus.isUseStrokeCanvas&&(this.strokeCanvas.ctx.save(),this.strokeCanvas.coord=this.canvas.coord,this.strokeCanvas.output(this.view.ctx,{alpha:this.style.alpha}),this.strokeCanvas.ctx.restore());let[o,c]=this.penCount,[d,g]=[o>=2,c>=2];d&&nt(this.view,o*(this.isKaleido[0]?2:1),this.isKaleido[0],new _({scroll:this.coord.scroll.invert.move(this.anchor.scroll).scale(this.canvas.coord.scale).rotate(this.coord.angle),angle:this.coord.angle+this.anchor.angle}),g?"#cccccc":void 0),g&&nt(this.view,c*(this.isKaleido[1]?2:1),this.isKaleido[1],new _({scroll:this.coord.scroll.invert.move(this.childAnchor.scroll).scale(this.canvas.coord.scale).rotate(this.coord.angle),angle:this.coord.angle+this.anchor.angle+this.childAnchor.angle}),"#eeaabb")}},os=class{constructor(o){y(this,"target"),y(this,"_keys",{}),y(this,"_removeEvents"),y(this,"onChange",new E),this.target=o!=null?o:document.body;let c=g=>{let T=g.key;this._keys[T]=!0,this.onChange.fire({key:T,isDown:!0})},d=g=>{let T=g.key;delete this._keys[T],this.onChange.fire({key:T,isDown:!1})};this.target.addEventListener("keydown",c),this.target.addEventListener("keyup",d),this._removeEvents=()=>{this.target.removeEventListener("keydown",c),this.target.removeEventListener("keyup",d)}}listen(...o){this.onChange.listen(...o)}destroy(){this._removeEvents(),this.onChange.clear()}key(o){return!!this._keys[o]}get keys(){return Object.keys(this._keys)}},xt=o=>{let c=o.includes(" "),d=o.includes("Alt"),g=o.includes("Meta"),T=o.includes("Shift");return c&&g&&d?"zoomdown":c&&g?"zoomup":c&&d&&T?"rotate:anchor":c&&d?"rotate":c&&T?"scroll:anchor":c?"scroll":T?"draw:line":d?"draw:stamp":"draw"},kt=class{constructor(){y(this,"keyWatcher"),y(this,"tool"),y(this,"onChange",new E),this.keyWatcher=new os,this.keyWatcher.listen(()=>{let o=xt(this.keyWatcher.keys);this.tool!==o&&(this.tool=o,this.onChange.fire(o))})}listenChange(...o){this.onChange.listen(...o)}},ls={ToolKeyWatcher:kt}})(Ai,Ai.exports);var dc=!1;/*!
  * pinia v2.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */let Ii;const Ks=t=>Ii=t,Oi=Symbol();function Dn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ss;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ss||(ss={}));function Rc(){const t=Zn(!0),e=t.run(()=>yr({}));let s=[],n=[];const r=Fe({install(i){Ks(r),r._a=i,i.provide(Oi,r),i.config.globalProperties.$pinia=r,n.forEach(l=>s.push(l)),n=[]},use(i){return!this._a&&!dc?n.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}function ki(t,e,s){t.push(e);const n=()=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)};return!s&&Rs()&&vn(n),n}function Fi(t,...e){t.forEach(s=>{s(...e)})}function Nn(t,e){for(const s in e){const n=e[s],r=t[s];Dn(r)&&Dn(n)&&!gt(n)&&!ee(n)?t[s]=Nn(r,n):t[s]=n}return t}const pc=Symbol();function gc(t){return!Dn(t)||!t.hasOwnProperty(pc)}const{assign:Jt}=Object;function mc(t){return!!(gt(t)&&t.effect)}function vc(t,e,s,n){const{state:r,actions:i,getters:l}=e,a=s.state.value[t];let f;function p(){a||(s.state.value[t]=r?r():{});const m=To(s.state.value[t]);return Jt(m,i,Object.keys(l||{}).reduce((b,C)=>(b[C]=Fe(_r(()=>{Ks(s);const k=s._s.get(t);return l[C].call(k,k)})),b),{}))}return f=Ri(t,p,e,s),f.$reset=function(){const b=r?r():{};this.$patch(C=>{Jt(C,b)})},f}const Bn=()=>{};function Ri(t,e,s={},n,r){let i;const l=s.state,a=Jt({actions:{}},s),f={deep:!0};let p,m=Fe([]),b=Fe([]),C;const k=n.state.value[t];!l&&!k&&(n.state.value[t]={}),yr({});function q(E){let B;p=!1,typeof E=="function"?(E(n.state.value[t]),B={type:ss.patchFunction,storeId:t,events:C}):(Nn(n.state.value[t],E),B={type:ss.patchObject,payload:E,storeId:t,events:C}),p=!0,Fi(m,B,n.state.value[t])}const V=Bn;function y(){i.stop(),m=[],b=[],n._s.delete(t)}function j(E,B){return function(){Ks(n);const U=Array.from(arguments);let W=Bn,J=Bn;function nt(at){W=at}function et(at){J=at}Fi(b,{args:U,name:E,store:_,after:nt,onError:et});let D;try{D=B.apply(this&&this.$id===t?this:_,U)}catch(at){if(J(at)!==!1)throw at}if(D instanceof Promise)return D.then(at=>{const Nt=W(at);return Nt===void 0?at:Nt}).catch(at=>{if(J(at)!==!1)return Promise.reject(at)});const ft=W(D);return ft===void 0?D:ft}}const F={_p:n,$id:t,$onAction:ki.bind(null,b),$patch:q,$reset:V,$subscribe(E,B={}){const U=ki(m,E,B.detached),W=i.run(()=>Ns(()=>n.state.value[t],nt=>{p&&E({storeId:t,type:ss.direct,events:C},nt)},Jt({},f,B)));return()=>{W(),U()}},$dispose:y},_=ws(Jt({},F));n._s.set(t,_);const S=n._e.run(()=>(i=Zn(),i.run(()=>e())));for(const E in S){const B=S[E];if(gt(B)&&!mc(B)||ee(B))l||(k&&gc(B)&&(gt(B)?B.value=k[E]:Nn(B,k[E])),n.state.value[t][E]=B);else if(typeof B=="function"){const U=j(E,B);S[E]=U,a.actions[E]=B}}return Jt(_,S),Jt(tt(_),S),Object.defineProperty(_,"$state",{get:()=>n.state.value[t],set:E=>{q(B=>{Jt(B,E)})}}),n._p.forEach(E=>{Jt(_,i.run(()=>E({store:_,app:n._a,pinia:n,options:a})))}),k&&l&&s.hydrate&&s.hydrate(_.$state,k),p=!0,_}function jc(t,e,s){let n,r;const i=typeof e=="function";typeof t=="string"?(n=t,r=i?s:e):(r=t,n=t.id);function l(a,f){const p=Rs();return a=a||p&&Cs(Oi),a&&Ks(a),a=Ii,a._s.has(n)||(i?Ri(n,e,r,a):vc(n,r,a)),a._s.get(n)}return l.$id=n,l}export{wc as A,_c as B,bl as C,Ic as D,Pc as E,Lt as F,bc as G,vn as H,Fc as I,Rc as J,wi as T,Ai as a,xc as b,zr as c,jc as d,Sc as e,Ec as f,Zr as g,Tc as h,_r as i,Pt as j,Mc as k,Us as l,Oo as m,qs as n,Mr as o,gt as p,ws as q,yr as r,Oc as s,yc as t,Po as u,Ac as v,Ns as w,Cc as x,kc as y,Jr as z};
