function Ns(t,e){const s=Object.create(null),n=t.split(",");for(let r=0;r<n.length;r++)s[n[r]]=!0;return e?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const ki="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fi=Ns(ki);function Dn(t){return!!t||t===""}function Bs(t){if(V(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=vt(n)?Li(n):Bs(n);if(r)for(const i in r)e[i]=r[i]}return e}else{if(vt(t))return t;if(ht(t))return t}}const Ri=/;(?![^(]*\))/g,ji=/:(.+)/;function Li(t){const e={};return t.split(Ri).forEach(s=>{if(s){const n=s.split(ji);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ks(t){let e="";if(vt(t))e=t;else if(V(t))for(let s=0;s<t.length;s++){const n=Ks(t[s]);n&&(e+=n+" ")}else if(ht(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const pc=t=>t==null?"":V(t)||ht(t)&&(t.toString===$n||!Z(t.toString))?JSON.stringify(t,Nn,2):String(t),Nn=(t,e)=>e&&e.__v_isRef?Nn(t,e.value):Ee(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r])=>(s[`${n} =>`]=r,s),{})}:Bn(e)?{[`Set(${e.size})`]:[...e.values()]}:ht(e)&&!V(e)&&!Hn(e)?String(e):e,lt={},Te=[],Dt=()=>{},Di=()=>!1,Ni=/^on[^a-z]/,rs=t=>Ni.test(t),$s=t=>t.startsWith("onUpdate:"),bt=Object.assign,Hs=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Bi=Object.prototype.hasOwnProperty,G=(t,e)=>Bi.call(t,e),V=Array.isArray,Ee=t=>is(t)==="[object Map]",Bn=t=>is(t)==="[object Set]",Z=t=>typeof t=="function",vt=t=>typeof t=="string",qs=t=>typeof t=="symbol",ht=t=>t!==null&&typeof t=="object",Kn=t=>ht(t)&&Z(t.then)&&Z(t.catch),$n=Object.prototype.toString,is=t=>$n.call(t),Ki=t=>is(t).slice(8,-1),Hn=t=>is(t)==="[object Object]",Us=t=>vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,os=Ns(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ls=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},$i=/-(\w)/g,Ae=ls(t=>t.replace($i,(e,s)=>s?s.toUpperCase():"")),Hi=/\B([A-Z])/g,Me=ls(t=>t.replace(Hi,"-$1").toLowerCase()),qn=ls(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ws=ls(t=>t?`on${qn(t)}`:""),Ue=(t,e)=>!Object.is(t,e),zs=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},cs=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},Un=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Wn;const qi=()=>Wn||(Wn=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ae;const as=[];class zn{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&ae&&(this.parent=ae,this.index=(ae.scopes||(ae.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(as.push(this),ae=this)}off(){this.active&&(as.pop(),ae=as[as.length-1])}stop(e){if(this.active){if(this.effects.forEach(s=>s.stop()),this.cleanups.forEach(s=>s()),this.scopes&&this.scopes.forEach(s=>s.stop(!0)),this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Yn(t){return new zn(t)}function Ui(t,e){e=e||ae,e&&e.active&&e.effects.push(t)}const Ys=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Vn=t=>(t.w&Zt)>0,Jn=t=>(t.n&Zt)>0,Wi=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Zt},zi=t=>{const{deps:e}=t;if(e.length){let s=0;for(let n=0;n<e.length;n++){const r=e[n];Vn(r)&&!Jn(r)?r.delete(t):e[s++]=r,r.w&=~Zt,r.n&=~Zt}e.length=s}},Vs=new WeakMap;let We=0,Zt=1;const Js=30,ze=[];let ue;const fe=Symbol(""),Xs=Symbol("");class Zs{constructor(e,s=null,n){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],Ui(this,n)}run(){if(!this.active)return this.fn();if(!ze.includes(this))try{return ze.push(ue=this),Yi(),Zt=1<<++We,We<=Js?Wi(this):Xn(this),this.fn()}finally{We<=Js&&zi(this),Zt=1<<--We,he(),ze.pop();const e=ze.length;ue=e>0?ze[e-1]:void 0}}stop(){this.active&&(Xn(this),this.onStop&&this.onStop(),this.active=!1)}}function Xn(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}let Ie=!0;const Qs=[];function Oe(){Qs.push(Ie),Ie=!1}function Yi(){Qs.push(Ie),Ie=!0}function he(){const t=Qs.pop();Ie=t===void 0?!0:t}function Et(t,e,s){if(!Zn())return;let n=Vs.get(t);n||Vs.set(t,n=new Map);let r=n.get(s);r||n.set(s,r=Ys()),Qn(r)}function Zn(){return Ie&&ue!==void 0}function Qn(t,e){let s=!1;We<=Js?Jn(t)||(t.n|=Zt,s=!Vn(t)):s=!t.has(ue),s&&(t.add(ue),ue.deps.push(t))}function qt(t,e,s,n,r,i){const l=Vs.get(t);if(!l)return;let a=[];if(e==="clear")a=[...l.values()];else if(s==="length"&&V(t))l.forEach((f,p)=>{(p==="length"||p>=n)&&a.push(f)});else switch(s!==void 0&&a.push(l.get(s)),e){case"add":V(t)?Us(s)&&a.push(l.get("length")):(a.push(l.get(fe)),Ee(t)&&a.push(l.get(Xs)));break;case"delete":V(t)||(a.push(l.get(fe)),Ee(t)&&a.push(l.get(Xs)));break;case"set":Ee(t)&&a.push(l.get(fe));break}if(a.length===1)a[0]&&Gs(a[0]);else{const f=[];for(const p of a)p&&f.push(...p);Gs(Ys(f))}}function Gs(t,e){for(const s of V(t)?t:[...t])(s!==ue||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const Vi=Ns("__proto__,__v_isRef,__isVue"),Gn=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(qs)),Ji=tn(),Xi=tn(!1,!0),Zi=tn(!0),tr=Qi();function Qi(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const n=tt(this);for(let i=0,l=this.length;i<l;i++)Et(n,"get",i+"");const r=n[e](...s);return r===-1||r===!1?n[e](...s.map(tt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){Oe();const n=tt(this)[e].apply(this,s);return he(),n}}),t}function tn(t=!1,e=!1){return function(n,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_raw"&&i===(t?e?go:ar:e?cr:lr).get(n))return n;const l=V(n);if(!t&&l&&G(tr,r))return Reflect.get(tr,r,i);const a=Reflect.get(n,r,i);return(qs(r)?Gn.has(r):Vi(r))||(t||Et(n,"get",r),e)?a:dt(a)?!l||!Us(r)?a.value:a:ht(a)?t?ur(a):ms(a):a}}const Gi=er(),to=er(!0);function er(t=!1){return function(s,n,r,i){let l=s[n];if(!t&&!rn(r)&&(r=tt(r),l=tt(l),!V(s)&&dt(l)&&!dt(r)))return l.value=r,!0;const a=V(s)&&Us(n)?Number(n)<s.length:G(s,n),f=Reflect.set(s,n,r,i);return s===tt(i)&&(a?Ue(r,l)&&qt(s,"set",n,r):qt(s,"add",n,r)),f}}function eo(t,e){const s=G(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&s&&qt(t,"delete",e,void 0),n}function so(t,e){const s=Reflect.has(t,e);return(!qs(e)||!Gn.has(e))&&Et(t,"has",e),s}function no(t){return Et(t,"iterate",V(t)?"length":fe),Reflect.ownKeys(t)}const sr={get:Ji,set:Gi,deleteProperty:eo,has:so,ownKeys:no},ro={get:Zi,set(t,e){return!0},deleteProperty(t,e){return!0}},io=bt({},sr,{get:Xi,set:to}),en=t=>t,us=t=>Reflect.getPrototypeOf(t);function fs(t,e,s=!1,n=!1){t=t.__v_raw;const r=tt(t),i=tt(e);e!==i&&!s&&Et(r,"get",e),!s&&Et(r,"get",i);const{has:l}=us(r),a=n?en:s?on:Ye;if(l.call(r,e))return a(t.get(e));if(l.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function hs(t,e=!1){const s=this.__v_raw,n=tt(s),r=tt(t);return t!==r&&!e&&Et(n,"has",t),!e&&Et(n,"has",r),t===r?s.has(t):s.has(t)||s.has(r)}function ds(t,e=!1){return t=t.__v_raw,!e&&Et(tt(t),"iterate",fe),Reflect.get(t,"size",t)}function nr(t){t=tt(t);const e=tt(this);return us(e).has.call(e,t)||(e.add(t),qt(e,"add",t,t)),this}function rr(t,e){e=tt(e);const s=tt(this),{has:n,get:r}=us(s);let i=n.call(s,t);i||(t=tt(t),i=n.call(s,t));const l=r.call(s,t);return s.set(t,e),i?Ue(e,l)&&qt(s,"set",t,e):qt(s,"add",t,e),this}function ir(t){const e=tt(this),{has:s,get:n}=us(e);let r=s.call(e,t);r||(t=tt(t),r=s.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return r&&qt(e,"delete",t,void 0),i}function or(){const t=tt(this),e=t.size!==0,s=t.clear();return e&&qt(t,"clear",void 0,void 0),s}function ps(t,e){return function(n,r){const i=this,l=i.__v_raw,a=tt(l),f=e?en:t?on:Ye;return!t&&Et(a,"iterate",fe),l.forEach((p,m)=>n.call(r,f(p),f(m),i))}}function gs(t,e,s){return function(...n){const r=this.__v_raw,i=tt(r),l=Ee(i),a=t==="entries"||t===Symbol.iterator&&l,f=t==="keys"&&l,p=r[t](...n),m=s?en:e?on:Ye;return!e&&Et(i,"iterate",f?Xs:fe),{next(){const{value:b,done:C}=p.next();return C?{value:b,done:C}:{value:a?[m(b[0]),m(b[1])]:m(b),done:C}},[Symbol.iterator](){return this}}}}function Qt(t){return function(...e){return t==="delete"?!1:this}}function oo(){const t={get(i){return fs(this,i)},get size(){return ds(this)},has:hs,add:nr,set:rr,delete:ir,clear:or,forEach:ps(!1,!1)},e={get(i){return fs(this,i,!1,!0)},get size(){return ds(this)},has:hs,add:nr,set:rr,delete:ir,clear:or,forEach:ps(!1,!0)},s={get(i){return fs(this,i,!0)},get size(){return ds(this,!0)},has(i){return hs.call(this,i,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:ps(!0,!1)},n={get(i){return fs(this,i,!0,!0)},get size(){return ds(this,!0)},has(i){return hs.call(this,i,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:ps(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=gs(i,!1,!1),s[i]=gs(i,!0,!1),e[i]=gs(i,!1,!0),n[i]=gs(i,!0,!0)}),[t,s,e,n]}const[lo,co,ao,uo]=oo();function sn(t,e){const s=e?t?uo:ao:t?co:lo;return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(G(s,r)&&r in n?s:n,r,i)}const fo={get:sn(!1,!1)},ho={get:sn(!1,!0)},po={get:sn(!0,!1)},lr=new WeakMap,cr=new WeakMap,ar=new WeakMap,go=new WeakMap;function mo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vo(t){return t.__v_skip||!Object.isExtensible(t)?0:mo(Ki(t))}function ms(t){return t&&t.__v_isReadonly?t:nn(t,!1,sr,fo,lr)}function yo(t){return nn(t,!1,io,ho,cr)}function ur(t){return nn(t,!0,ro,po,ar)}function nn(t,e,s,n,r){if(!ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const l=vo(t);if(l===0)return t;const a=new Proxy(t,l===2?n:s);return r.set(t,a),a}function Gt(t){return rn(t)?Gt(t.__v_raw):!!(t&&t.__v_isReactive)}function rn(t){return!!(t&&t.__v_isReadonly)}function fr(t){return Gt(t)||rn(t)}function tt(t){const e=t&&t.__v_raw;return e?tt(e):t}function ke(t){return cs(t,"__v_skip",!0),t}const Ye=t=>ht(t)?ms(t):t,on=t=>ht(t)?ur(t):t;function hr(t){Zn()&&(t=tt(t),t.dep||(t.dep=Ys()),Qn(t.dep))}function dr(t,e){t=tt(t),t.dep&&Gs(t.dep)}function dt(t){return Boolean(t&&t.__v_isRef===!0)}function pr(t){return gr(t,!1)}function gc(t){return gr(t,!0)}function gr(t,e){return dt(t)?t:new bo(t,e)}class bo{constructor(e,s){this._shallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:tt(e),this._value=s?e:Ye(e)}get value(){return hr(this),this._value}set value(e){e=this._shallow?e:tt(e),Ue(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Ye(e),dr(this))}}function wo(t){return dt(t)?t.value:t}const _o={get:(t,e,s)=>wo(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return dt(r)&&!dt(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function mr(t){return Gt(t)?t:new Proxy(t,_o)}function xo(t){const e=V(t)?new Array(t.length):{};for(const s in t)e[s]=Po(t,s);return e}class Co{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Po(t,e,s){const n=t[e];return dt(n)?n:new Co(t,e,s)}class So{constructor(e,s,n){this._setter=s,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Zs(e,()=>{this._dirty||(this._dirty=!0,dr(this))}),this.__v_isReadonly=n}get value(){const e=tt(this);return hr(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function vr(t,e){let s,n;const r=Z(t);return r?(s=t,n=Dt):(s=t.get,n=t.set),new So(s,n,r||!n)}Promise.resolve();function To(t,e,...s){const n=t.vnode.props||lt;let r=s;const i=e.startsWith("update:"),l=i&&e.slice(7);if(l&&l in n){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:b,trim:C}=n[m]||lt;C?r=s.map(O=>O.trim()):b&&(r=s.map(Un))}let a,f=n[a=Ws(e)]||n[a=Ws(Ae(e))];!f&&i&&(f=n[a=Ws(Me(e))]),f&&jt(f,t,6,r);const p=n[a+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,jt(p,t,6,r)}}function yr(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let l={},a=!1;if(!Z(t)){const f=p=>{const m=yr(p,e,!0);m&&(a=!0,bt(l,m))};!s&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!i&&!a?(n.set(t,null),null):(V(i)?i.forEach(f=>l[f]=null):bt(l,i),n.set(t,l),l)}function ln(t,e){return!t||!rs(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,Me(e))||G(t,e))}let kt=null,vs=null;function ys(t){const e=kt;return kt=t,vs=t&&t.type.__scopeId||null,e}function mc(t){vs=t}function vc(){vs=null}function Eo(t,e=kt,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&qr(-1);const i=ys(e),l=t(...r);return ys(i),n._d&&qr(1),l};return n._n=!0,n._c=!0,n._d=!0,n}function cn(t){const{type:e,vnode:s,proxy:n,withProxy:r,props:i,propsOptions:[l],slots:a,attrs:f,emit:p,render:m,renderCache:b,data:C,setupState:O,ctx:U,inheritAttrs:J}=t;let y,R;const F=ys(t);try{if(s.shapeFlag&4){const S=r||n;y=Kt(m.call(S,S,b,i,O,C,U)),R=f}else{const S=e;y=Kt(S.length>1?S(i,{attrs:f,slots:a,emit:p}):S(i,null)),R=e.props?f:Ao(f)}}catch(S){Je.length=0,ks(S,t,1),y=xt(Nt)}let _=y;if(R&&J!==!1){const S=Object.keys(R),{shapeFlag:E}=_;S.length&&E&(1|6)&&(l&&S.some($s)&&(R=Mo(R,l)),_=Fe(_,R))}return s.dirs&&(_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&(_.transition=s.transition),y=_,ys(F),y}const Ao=t=>{let e;for(const s in t)(s==="class"||s==="style"||rs(s))&&((e||(e={}))[s]=t[s]);return e},Mo=(t,e)=>{const s={};for(const n in t)(!$s(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Io(t,e,s){const{props:n,children:r,component:i}=t,{props:l,children:a,patchFlag:f}=e,p=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&f>=0){if(f&1024)return!0;if(f&16)return n?br(n,l,p):!!l;if(f&8){const m=e.dynamicProps;for(let b=0;b<m.length;b++){const C=m[b];if(l[C]!==n[C]&&!ln(p,C))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===l?!1:n?l?br(n,l,p):!0:!!l;return!1}function br(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!ln(s,i))return!0}return!1}function Oo({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const ko=t=>t.__isSuspense;function Fo(t,e){e&&e.pendingBranch?V(t)?e.effects.push(...t):e.effects.push(t):Il(t)}function Ro(t,e){if(wt){let s=wt.provides;const n=wt.parent&&wt.parent.provides;n===s&&(s=wt.provides=Object.create(n)),s[t]=e}}function bs(t,e,s=!1){const n=wt||kt;if(n){const r=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return s&&Z(e)?e.call(n.proxy):e}}function jo(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sr(()=>{t.isMounted=!0}),Tr(()=>{t.isUnmounting=!0}),t}const Ft=[Function,Array],Lo={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ft,onEnter:Ft,onAfterEnter:Ft,onEnterCancelled:Ft,onBeforeLeave:Ft,onLeave:Ft,onAfterLeave:Ft,onLeaveCancelled:Ft,onBeforeAppear:Ft,onAppear:Ft,onAfterAppear:Ft,onAppearCancelled:Ft},setup(t,{slots:e}){const s=Is(),n=jo();let r;return()=>{const i=e.default&&Cr(e.default(),!0);if(!i||!i.length)return;const l=tt(t),{mode:a}=l,f=i[0];if(n.isLeaving)return un(f);const p=xr(f);if(!p)return un(f);const m=an(p,l,n,s);fn(p,m);const b=s.subTree,C=b&&xr(b);let O=!1;const{getTransitionKey:U}=p.type;if(U){const J=U();r===void 0?r=J:J!==r&&(r=J,O=!0)}if(C&&C.type!==Nt&&(!ve(p,C)||O)){const J=an(C,l,n,s);if(fn(C,J),a==="out-in")return n.isLeaving=!0,J.afterLeave=()=>{n.isLeaving=!1,s.update()},un(f);a==="in-out"&&p.type!==Nt&&(J.delayLeave=(y,R,F)=>{const _=_r(n,C);_[String(C.key)]=C,y._leaveCb=()=>{R(),y._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=F})}return f}}},wr=Lo;function _r(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function an(t,e,s,n){const{appear:r,mode:i,persisted:l=!1,onBeforeEnter:a,onEnter:f,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:b,onLeave:C,onAfterLeave:O,onLeaveCancelled:U,onBeforeAppear:J,onAppear:y,onAfterAppear:R,onAppearCancelled:F}=e,_=String(t.key),S=_r(s,t),E=(q,z)=>{q&&jt(q,n,9,z)},B={mode:i,persisted:l,beforeEnter(q){let z=a;if(!s.isMounted)if(r)z=J||a;else return;q._leaveCb&&q._leaveCb(!0);const X=S[_];X&&ve(t,X)&&X.el._leaveCb&&X.el._leaveCb(),E(z,[q])},enter(q){let z=f,X=p,rt=m;if(!s.isMounted)if(r)z=y||f,X=R||p,rt=F||m;else return;let st=!1;const D=q._enterCb=ct=>{st||(st=!0,ct?E(rt,[q]):E(X,[q]),B.delayedLeave&&B.delayedLeave(),q._enterCb=void 0)};z?(z(q,D),z.length<=1&&D()):D()},leave(q,z){const X=String(t.key);if(q._enterCb&&q._enterCb(!0),s.isUnmounting)return z();E(b,[q]);let rt=!1;const st=q._leaveCb=D=>{rt||(rt=!0,z(),D?E(U,[q]):E(O,[q]),q._leaveCb=void 0,S[X]===t&&delete S[X])};S[X]=t,C?(C(q,st),C.length<=1&&st()):st()},clone(q){return an(q,e,s,n)}};return B}function un(t){if(ws(t))return t=Fe(t),t.children=null,t}function xr(t){return ws(t)?t.children?t.children[0]:void 0:t}function fn(t,e){t.shapeFlag&6&&t.component?fn(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Cr(t,e=!1){let s=[],n=0;for(let r=0;r<t.length;r++){const i=t[r];i.type===Rt?(i.patchFlag&128&&n++,s=s.concat(Cr(i.children,e))):(e||i.type!==Nt)&&s.push(i)}if(n>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function yc(t){return Z(t)?{setup:t,name:t.name}:t}const hn=t=>!!t.type.__asyncLoader,ws=t=>t.type.__isKeepAlive;function Do(t,e){Pr(t,"a",e)}function No(t,e){Pr(t,"da",e)}function Pr(t,e,s=wt){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(_s(e,n,s),s){let r=s.parent;for(;r&&r.parent;)ws(r.parent.vnode)&&Bo(n,e,s,r),r=r.parent}}function Bo(t,e,s,n){const r=_s(e,t,n,!0);dn(()=>{Hs(n[e],r)},s)}function _s(t,e,s=wt,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...l)=>{if(s.isUnmounted)return;Oe(),Re(s);const a=jt(e,s,t,l);return ye(),he(),a});return n?r.unshift(i):r.push(i),i}}const Ut=t=>(e,s=wt)=>(!Os||t==="sp")&&_s(t,e,s),Ko=Ut("bm"),Sr=Ut("m"),$o=Ut("bu"),Ho=Ut("u"),Tr=Ut("bum"),dn=Ut("um"),qo=Ut("sp"),Uo=Ut("rtg"),Wo=Ut("rtc");function zo(t,e=wt){_s("ec",t,e)}let pn=!0;function Yo(t){const e=Mr(t),s=t.proxy,n=t.ctx;pn=!1,e.beforeCreate&&Er(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:l,watch:a,provide:f,inject:p,created:m,beforeMount:b,mounted:C,beforeUpdate:O,updated:U,activated:J,deactivated:y,beforeDestroy:R,beforeUnmount:F,destroyed:_,unmounted:S,render:E,renderTracked:B,renderTriggered:q,errorCaptured:z,serverPrefetch:X,expose:rt,inheritAttrs:st,components:D,directives:ct,filters:at}=e;if(p&&Vo(p,n,null,t.appContext.config.unwrapInjectedRef),l)for(const ut in l){const et=l[ut];Z(et)&&(n[ut]=et.bind(s))}if(r){const ut=r.call(s,s);ht(ut)&&(t.data=ms(ut))}if(pn=!0,i)for(const ut in i){const et=i[ut],It=Z(et)?et.bind(s,s):Z(et.get)?et.get.bind(s,s):Dt,_e=!Z(et)&&Z(et.set)?et.set.bind(s):Dt,ie=vr({get:It,set:_e});Object.defineProperty(n,ut,{enumerable:!0,configurable:!0,get:()=>ie.value,set:Yt=>ie.value=Yt})}if(a)for(const ut in a)Ar(a[ut],n,s,ut);if(f){const ut=Z(f)?f.call(s):f;Reflect.ownKeys(ut).forEach(et=>{Ro(et,ut[et])})}m&&Er(m,t,"c");function pt(ut,et){V(et)?et.forEach(It=>ut(It.bind(s))):et&&ut(et.bind(s))}if(pt(Ko,b),pt(Sr,C),pt($o,O),pt(Ho,U),pt(Do,J),pt(No,y),pt(zo,z),pt(Wo,B),pt(Uo,q),pt(Tr,F),pt(dn,S),pt(qo,X),V(rt))if(rt.length){const ut=t.exposed||(t.exposed={});rt.forEach(et=>{Object.defineProperty(ut,et,{get:()=>s[et],set:It=>s[et]=It})})}else t.exposed||(t.exposed={});E&&t.render===Dt&&(t.render=E),st!=null&&(t.inheritAttrs=st),D&&(t.components=D),ct&&(t.directives=ct)}function Vo(t,e,s=Dt,n=!1){V(t)&&(t=gn(t));for(const r in t){const i=t[r];let l;ht(i)?"default"in i?l=bs(i.from||r,i.default,!0):l=bs(i.from||r):l=bs(i),dt(l)&&n?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):e[r]=l}}function Er(t,e,s){jt(V(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ar(t,e,s,n){const r=n.includes(".")?ci(s,n):()=>s[n];if(vt(t)){const i=e[t];Z(i)&&Rs(r,i)}else if(Z(t))Rs(r,t.bind(s));else if(ht(t))if(V(t))t.forEach(i=>Ar(i,e,s,n));else{const i=Z(t.handler)?t.handler.bind(s):e[t.handler];Z(i)&&Rs(r,i,t)}}function Mr(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:l}}=t.appContext,a=i.get(e);let f;return a?f=a:!r.length&&!s&&!n?f=e:(f={},r.length&&r.forEach(p=>xs(f,p,l,!0)),xs(f,e,l)),i.set(e,f),f}function xs(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&xs(t,i,s,!0),r&&r.forEach(l=>xs(t,l,s,!0));for(const l in e)if(!(n&&l==="expose")){const a=Jo[l]||s&&s[l];t[l]=a?a(t[l],e[l]):e[l]}return t}const Jo={data:Ir,props:de,emits:de,methods:de,computed:de,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:de,directives:de,watch:Zo,provide:Ir,inject:Xo};function Ir(t,e){return e?t?function(){return bt(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function Xo(t,e){return de(gn(t),gn(e))}function gn(t){if(V(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function _t(t,e){return t?[...new Set([].concat(t,e))]:e}function de(t,e){return t?bt(bt(Object.create(null),t),e):e}function Zo(t,e){if(!t)return e;if(!e)return t;const s=bt(Object.create(null),t);for(const n in e)s[n]=_t(t[n],e[n]);return s}function Qo(t,e,s,n=!1){const r={},i={};cs(i,Es,1),t.propsDefaults=Object.create(null),Or(t,e,r,i);for(const l in t.propsOptions[0])l in r||(r[l]=void 0);s?t.props=n?r:yo(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Go(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:l}}=t,a=tt(r),[f]=t.propsOptions;let p=!1;if((n||l>0)&&!(l&16)){if(l&8){const m=t.vnode.dynamicProps;for(let b=0;b<m.length;b++){let C=m[b];const O=e[C];if(f)if(G(i,C))O!==i[C]&&(i[C]=O,p=!0);else{const U=Ae(C);r[U]=mn(f,a,U,O,t,!1)}else O!==i[C]&&(i[C]=O,p=!0)}}}else{Or(t,e,r,i)&&(p=!0);let m;for(const b in a)(!e||!G(e,b)&&((m=Me(b))===b||!G(e,m)))&&(f?s&&(s[b]!==void 0||s[m]!==void 0)&&(r[b]=mn(f,a,b,void 0,t,!0)):delete r[b]);if(i!==a)for(const b in i)(!e||!G(e,b))&&(delete i[b],p=!0)}p&&qt(t,"set","$attrs")}function Or(t,e,s,n){const[r,i]=t.propsOptions;let l=!1,a;if(e)for(let f in e){if(os(f))continue;const p=e[f];let m;r&&G(r,m=Ae(f))?!i||!i.includes(m)?s[m]=p:(a||(a={}))[m]=p:ln(t.emitsOptions,f)||(!(f in n)||p!==n[f])&&(n[f]=p,l=!0)}if(i){const f=tt(s),p=a||lt;for(let m=0;m<i.length;m++){const b=i[m];s[b]=mn(r,f,b,p[b],t,!G(p,b))}}return l}function mn(t,e,s,n,r,i){const l=t[s];if(l!=null){const a=G(l,"default");if(a&&n===void 0){const f=l.default;if(l.type!==Function&&Z(f)){const{propsDefaults:p}=r;s in p?n=p[s]:(Re(r),n=p[s]=f.call(null,e),ye())}else n=f}l[0]&&(i&&!a?n=!1:l[1]&&(n===""||n===Me(s))&&(n=!0))}return n}function kr(t,e,s=!1){const n=e.propsCache,r=n.get(t);if(r)return r;const i=t.props,l={},a=[];let f=!1;if(!Z(t)){const m=b=>{f=!0;const[C,O]=kr(b,e,!0);bt(l,C),O&&a.push(...O)};!s&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!i&&!f)return n.set(t,Te),Te;if(V(i))for(let m=0;m<i.length;m++){const b=Ae(i[m]);Fr(b)&&(l[b]=lt)}else if(i)for(const m in i){const b=Ae(m);if(Fr(b)){const C=i[m],O=l[b]=V(C)||Z(C)?{type:C}:C;if(O){const U=Lr(Boolean,O.type),J=Lr(String,O.type);O[0]=U>-1,O[1]=J<0||U<J,(U>-1||G(O,"default"))&&a.push(b)}}}const p=[l,a];return n.set(t,p),p}function Fr(t){return t[0]!=="$"}function Rr(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function jr(t,e){return Rr(t)===Rr(e)}function Lr(t,e){return V(e)?e.findIndex(s=>jr(s,t)):Z(e)&&jr(e,t)?0:-1}const Dr=t=>t[0]==="_"||t==="$stable",vn=t=>V(t)?t.map(Kt):[Kt(t)],tl=(t,e,s)=>{const n=Eo((...r)=>vn(e(...r)),s);return n._c=!1,n},Nr=(t,e,s)=>{const n=t._ctx;for(const r in t){if(Dr(r))continue;const i=t[r];if(Z(i))e[r]=tl(r,i,n);else if(i!=null){const l=vn(i);e[r]=()=>l}}},Br=(t,e)=>{const s=vn(e);t.slots.default=()=>s},el=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=tt(e),cs(e,"_",s)):Nr(e,t.slots={})}else t.slots={},e&&Br(t,e);cs(t.slots,Es,1)},sl=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,l=lt;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:(bt(r,e),!s&&a===1&&delete r._):(i=!e.$stable,Nr(e,r)),l=e}else e&&(Br(t,e),l={default:1});if(i)for(const a in r)!Dr(a)&&!(a in l)&&delete r[a]};function bc(t,e){const s=kt;if(s===null)return t;const n=s.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[l,a,f,p=lt]=e[i];Z(l)&&(l={mounted:l,updated:l}),l.deep&&be(a),r.push({dir:l,instance:n,value:a,oldValue:void 0,arg:f,modifiers:p})}return t}function pe(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let l=0;l<r.length;l++){const a=r[l];i&&(a.oldValue=i[l].value);let f=a.dir[n];f&&(Oe(),jt(f,s,8,[t.el,a,t,e]),he())}}function Kr(){return{app:null,config:{isNativeTag:Di,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nl=0;function rl(t,e){return function(n,r=null){r!=null&&!ht(r)&&(r=null);const i=Kr(),l=new Set;let a=!1;const f=i.app={_uid:nl++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Rl,get config(){return i.config},set config(p){},use(p,...m){return l.has(p)||(p&&Z(p.install)?(l.add(p),p.install(f,...m)):Z(p)&&(l.add(p),p(f,...m))),f},mixin(p){return i.mixins.includes(p)||i.mixins.push(p),f},component(p,m){return m?(i.components[p]=m,f):i.components[p]},directive(p,m){return m?(i.directives[p]=m,f):i.directives[p]},mount(p,m,b){if(!a){const C=xt(n,r);return C.appContext=i,m&&e?e(C,p):t(C,p,b),a=!0,f._container=p,p.__vue_app__=f,Pn(C.component)||C.component.proxy}},unmount(){a&&(t(null,f._container),delete f._container.__vue_app__)},provide(p,m){return i.provides[p]=m,f}};return f}}function yn(t,e,s,n,r=!1){if(V(t)){t.forEach((C,O)=>yn(C,e&&(V(e)?e[O]:e),s,n,r));return}if(hn(n)&&!r)return;const i=n.shapeFlag&4?Pn(n.component)||n.component.proxy:n.el,l=r?null:i,{i:a,r:f}=t,p=e&&e.r,m=a.refs===lt?a.refs={}:a.refs,b=a.setupState;if(p!=null&&p!==f&&(vt(p)?(m[p]=null,G(b,p)&&(b[p]=null)):dt(p)&&(p.value=null)),Z(f))ee(f,a,12,[l,m]);else{const C=vt(f),O=dt(f);if(C||O){const U=()=>{if(t.f){const J=C?m[f]:f.value;r?V(J)&&Hs(J,i):V(J)?J.includes(i)||J.push(i):C?m[f]=[i]:(f.value=[i],t.k&&(m[t.k]=f.value))}else C?(m[f]=l,G(b,f)&&(b[f]=l)):dt(f)&&(f.value=l,t.k&&(m[t.k]=l))};l?(U.id=-1,Pt(U,s)):U()}}}const Pt=Fo;function il(t){return ol(t)}function ol(t,e){const s=qi();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:l,createText:a,createComment:f,setText:p,setElementText:m,parentNode:b,nextSibling:C,setScopeId:O=Dt,cloneNode:U,insertStaticContent:J}=t,y=(u,d,v,x=null,w=null,M=null,k=!1,A=null,I=!!d.dynamicChildren)=>{if(u===d)return;u&&!ve(u,d)&&(x=Pe(u),Bt(u,w,M,!0),u=null),d.patchFlag===-2&&(I=!1,d.dynamicChildren=null);const{type:P,ref:K,shapeFlag:L}=d;switch(P){case _n:R(u,d,v,x);break;case Nt:F(u,d,v,x);break;case Ps:u==null&&_(d,v,x,k);break;case Rt:ct(u,d,v,x,w,M,k,A,I);break;default:L&1?B(u,d,v,x,w,M,k,A,I):L&6?at(u,d,v,x,w,M,k,A,I):(L&64||L&128)&&P.process(u,d,v,x,w,M,k,A,I,Vt)}K!=null&&w&&yn(K,u&&u.ref,M,d||u,!d)},R=(u,d,v,x)=>{if(u==null)n(d.el=a(d.children),v,x);else{const w=d.el=u.el;d.children!==u.children&&p(w,d.children)}},F=(u,d,v,x)=>{u==null?n(d.el=f(d.children||""),v,x):d.el=u.el},_=(u,d,v,x)=>{[u.el,u.anchor]=J(u.children,d,v,x)},S=({el:u,anchor:d},v,x)=>{let w;for(;u&&u!==d;)w=C(u),n(u,v,x),u=w;n(d,v,x)},E=({el:u,anchor:d})=>{let v;for(;u&&u!==d;)v=C(u),r(u),u=v;r(d)},B=(u,d,v,x,w,M,k,A,I)=>{k=k||d.type==="svg",u==null?q(d,v,x,w,M,k,A,I):rt(u,d,w,M,k,A,I)},q=(u,d,v,x,w,M,k,A)=>{let I,P;const{type:K,props:L,shapeFlag:$,transition:Y,patchFlag:W,dirs:it}=u;if(u.el&&U!==void 0&&W===-1)I=u.el=U(u.el);else{if(I=u.el=l(u.type,M,L&&L.is,L),$&8?m(I,u.children):$&16&&X(u.children,I,null,x,w,M&&K!=="foreignObject",k,A),it&&pe(u,null,x,"created"),L){for(const ot in L)ot!=="value"&&!os(ot)&&i(I,ot,null,L[ot],M,u.children,x,w,Lt);"value"in L&&i(I,"value",null,L.value),(P=L.onVnodeBeforeMount)&&$t(P,x,u)}z(I,u,u.scopeId,k,x)}it&&pe(u,null,x,"beforeMount");const nt=(!w||w&&!w.pendingBranch)&&Y&&!Y.persisted;nt&&Y.beforeEnter(I),n(I,d,v),((P=L&&L.onVnodeMounted)||nt||it)&&Pt(()=>{P&&$t(P,x,u),nt&&Y.enter(I),it&&pe(u,null,x,"mounted")},w)},z=(u,d,v,x,w)=>{if(v&&O(u,v),x)for(let M=0;M<x.length;M++)O(u,x[M]);if(w){let M=w.subTree;if(d===M){const k=w.vnode;z(u,k,k.scopeId,k.slotScopeIds,w.parent)}}},X=(u,d,v,x,w,M,k,A,I=0)=>{for(let P=I;P<u.length;P++){const K=u[P]=A?te(u[P]):Kt(u[P]);y(null,K,d,v,x,w,M,k,A)}},rt=(u,d,v,x,w,M,k)=>{const A=d.el=u.el;let{patchFlag:I,dynamicChildren:P,dirs:K}=d;I|=u.patchFlag&16;const L=u.props||lt,$=d.props||lt;let Y;v&&ge(v,!1),(Y=$.onVnodeBeforeUpdate)&&$t(Y,v,d,u),K&&pe(d,u,v,"beforeUpdate"),v&&ge(v,!0);const W=w&&d.type!=="foreignObject";if(P?st(u.dynamicChildren,P,A,v,x,W,M):k||It(u,d,A,null,v,x,W,M,!1),I>0){if(I&16)D(A,d,L,$,v,x,w);else if(I&2&&L.class!==$.class&&i(A,"class",null,$.class,w),I&4&&i(A,"style",L.style,$.style,w),I&8){const it=d.dynamicProps;for(let nt=0;nt<it.length;nt++){const ot=it[nt],St=L[ot],Jt=$[ot];(Jt!==St||ot==="value")&&i(A,ot,St,Jt,w,u.children,v,x,Lt)}}I&1&&u.children!==d.children&&m(A,d.children)}else!k&&P==null&&D(A,d,L,$,v,x,w);((Y=$.onVnodeUpdated)||K)&&Pt(()=>{Y&&$t(Y,v,d,u),K&&pe(d,u,v,"updated")},x)},st=(u,d,v,x,w,M,k)=>{for(let A=0;A<d.length;A++){const I=u[A],P=d[A],K=I.el&&(I.type===Rt||!ve(I,P)||I.shapeFlag&(6|64))?b(I.el):v;y(I,P,K,null,x,w,M,k,!0)}},D=(u,d,v,x,w,M,k)=>{if(v!==x){for(const A in x){if(os(A))continue;const I=x[A],P=v[A];I!==P&&A!=="value"&&i(u,A,P,I,k,d.children,w,M,Lt)}if(v!==lt)for(const A in v)!os(A)&&!(A in x)&&i(u,A,v[A],null,k,d.children,w,M,Lt);"value"in x&&i(u,"value",v.value,x.value)}},ct=(u,d,v,x,w,M,k,A,I)=>{const P=d.el=u?u.el:a(""),K=d.anchor=u?u.anchor:a("");let{patchFlag:L,dynamicChildren:$,slotScopeIds:Y}=d;Y&&(A=A?A.concat(Y):Y),u==null?(n(P,v,x),n(K,v,x),X(d.children,v,K,w,M,k,A,I)):L>0&&L&64&&$&&u.dynamicChildren?(st(u.dynamicChildren,$,v,w,M,k,A),(d.key!=null||w&&d===w.subTree)&&bn(u,d,!0)):It(u,d,v,K,w,M,k,A,I)},at=(u,d,v,x,w,M,k,A,I)=>{d.slotScopeIds=A,u==null?d.shapeFlag&512?w.ctx.activate(d,v,x,k,I):Mt(d,v,x,w,M,k,I):pt(u,d,I)},Mt=(u,d,v,x,w,M,k)=>{const A=u.component=wl(u,x,w);if(ws(u)&&(A.ctx.renderer=Vt),_l(A),A.asyncDep){if(w&&w.registerDep(A,ut),!u.el){const I=A.subTree=xt(Nt);F(null,I,d,v)}return}ut(A,u,d,v,w,M,k)},pt=(u,d,v)=>{const x=d.component=u.component;if(Io(u,d,v))if(x.asyncDep&&!x.asyncResolved){et(x,d,v);return}else x.next=d,Al(x.update),x.update();else d.component=u.component,d.el=u.el,x.vnode=d},ut=(u,d,v,x,w,M,k)=>{const A=()=>{if(u.isMounted){let{next:K,bu:L,u:$,parent:Y,vnode:W}=u,it=K,nt;ge(u,!1),K?(K.el=W.el,et(u,K,k)):K=W,L&&zs(L),(nt=K.props&&K.props.onVnodeBeforeUpdate)&&$t(nt,Y,K,W),ge(u,!0);const ot=cn(u),St=u.subTree;u.subTree=ot,y(St,ot,b(St.el),Pe(St),u,w,M),K.el=ot.el,it===null&&Oo(u,ot.el),$&&Pt($,w),(nt=K.props&&K.props.onVnodeUpdated)&&Pt(()=>$t(nt,Y,K,W),w)}else{let K;const{el:L,props:$}=d,{bm:Y,m:W,parent:it}=u,nt=hn(d);if(ge(u,!1),Y&&zs(Y),!nt&&(K=$&&$.onVnodeBeforeMount)&&$t(K,it,d),ge(u,!0),L&&$e){const ot=()=>{u.subTree=cn(u),$e(L,u.subTree,u,w,null)};nt?d.type.__asyncLoader().then(()=>!u.isUnmounted&&ot()):ot()}else{const ot=u.subTree=cn(u);y(null,ot,v,x,u,w,M),d.el=ot.el}if(W&&Pt(W,w),!nt&&(K=$&&$.onVnodeMounted)){const ot=d;Pt(()=>$t(K,it,ot),w)}d.shapeFlag&256&&u.a&&Pt(u.a,w),u.isMounted=!0,d=v=x=null}},I=u.effect=new Zs(A,()=>ei(u.update),u.scope),P=u.update=I.run.bind(I);P.id=u.uid,ge(u,!0),P()},et=(u,d,v)=>{d.component=u;const x=u.vnode.props;u.vnode=d,u.next=null,Go(u,d.props,x,v),sl(u,d.children,v),Oe(),An(void 0,u.update),he()},It=(u,d,v,x,w,M,k,A,I=!1)=>{const P=u&&u.children,K=u?u.shapeFlag:0,L=d.children,{patchFlag:$,shapeFlag:Y}=d;if($>0){if($&128){ie(P,L,v,x,w,M,k,A,I);return}else if($&256){_e(P,L,v,x,w,M,k,A,I);return}}Y&8?(K&16&&Lt(P,w,M),L!==P&&m(v,L)):K&16?Y&16?ie(P,L,v,x,w,M,k,A,I):Lt(P,w,M,!0):(K&8&&m(v,""),Y&16&&X(L,v,x,w,M,k,A,I))},_e=(u,d,v,x,w,M,k,A,I)=>{u=u||Te,d=d||Te;const P=u.length,K=d.length,L=Math.min(P,K);let $;for($=0;$<L;$++){const Y=d[$]=I?te(d[$]):Kt(d[$]);y(u[$],Y,v,null,w,M,k,A,I)}P>K?Lt(u,w,M,!0,!1,L):X(d,v,x,w,M,k,A,I,L)},ie=(u,d,v,x,w,M,k,A,I)=>{let P=0;const K=d.length;let L=u.length-1,$=K-1;for(;P<=L&&P<=$;){const Y=u[P],W=d[P]=I?te(d[P]):Kt(d[P]);if(ve(Y,W))y(Y,W,v,null,w,M,k,A,I);else break;P++}for(;P<=L&&P<=$;){const Y=u[L],W=d[$]=I?te(d[$]):Kt(d[$]);if(ve(Y,W))y(Y,W,v,null,w,M,k,A,I);else break;L--,$--}if(P>L){if(P<=$){const Y=$+1,W=Y<K?d[Y].el:x;for(;P<=$;)y(null,d[P]=I?te(d[P]):Kt(d[P]),v,W,w,M,k,A,I),P++}}else if(P>$)for(;P<=L;)Bt(u[P],w,M,!0),P++;else{const Y=P,W=P,it=new Map;for(P=W;P<=$;P++){const c=d[P]=I?te(d[P]):Kt(d[P]);c.key!=null&&it.set(c.key,P)}let nt,ot=0;const St=$-W+1;let Jt=!1,ns=0;const oe=new Array(St);for(P=0;P<St;P++)oe[P]=0;for(P=Y;P<=L;P++){const c=u[P];if(ot>=St){Bt(c,w,M,!0);continue}let h;if(c.key!=null)h=it.get(c.key);else for(nt=W;nt<=$;nt++)if(oe[nt-W]===0&&ve(c,d[nt])){h=nt;break}h===void 0?Bt(c,w,M,!0):(oe[h-W]=P+1,h>=ns?ns=h:Jt=!0,y(c,d[h],v,null,w,M,k,A,I),ot++)}const o=Jt?ll(oe):Te;for(nt=o.length-1,P=St-1;P>=0;P--){const c=W+P,h=d[c],g=c+1<K?d[c+1].el:x;oe[P]===0?y(null,h,v,g,w,M,k,A,I):Jt&&(nt<0||P!==o[nt]?Yt(h,v,g,2):nt--)}}},Yt=(u,d,v,x,w=null)=>{const{el:M,type:k,transition:A,children:I,shapeFlag:P}=u;if(P&6){Yt(u.component.subTree,d,v,x);return}if(P&128){u.suspense.move(d,v,x);return}if(P&64){k.move(u,d,v,Vt);return}if(k===Rt){n(M,d,v);for(let L=0;L<I.length;L++)Yt(I[L],d,v,x);n(u.anchor,d,v);return}if(k===Ps){S(u,d,v);return}if(x!==2&&P&1&&A)if(x===0)A.beforeEnter(M),n(M,d,v),Pt(()=>A.enter(M),w);else{const{leave:L,delayLeave:$,afterLeave:Y}=A,W=()=>n(M,d,v),it=()=>{L(M,()=>{W(),Y&&Y()})};$?$(M,W,it):it()}else n(M,d,v)},Bt=(u,d,v,x=!1,w=!1)=>{const{type:M,props:k,ref:A,children:I,dynamicChildren:P,shapeFlag:K,patchFlag:L,dirs:$}=u;if(A!=null&&yn(A,null,v,u,!0),K&256){d.ctx.deactivate(u);return}const Y=K&1&&$,W=!hn(u);let it;if(W&&(it=k&&k.onVnodeBeforeUnmount)&&$t(it,d,u),K&6)Ce(u.component,v,x);else{if(K&128){u.suspense.unmount(v,x);return}Y&&pe(u,null,d,"beforeUnmount"),K&64?u.type.remove(u,d,v,w,Vt,x):P&&(M!==Rt||L>0&&L&64)?Lt(P,d,v,!1,!0):(M===Rt&&L&(128|256)||!w&&K&16)&&Lt(I,d,v),x&&xe(u)}(W&&(it=k&&k.onVnodeUnmounted)||Y)&&Pt(()=>{it&&$t(it,d,u),Y&&pe(u,null,d,"unmounted")},v)},xe=u=>{const{type:d,el:v,anchor:x,transition:w}=u;if(d===Rt){Ds(v,x);return}if(d===Ps){E(u);return}const M=()=>{r(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(u.shapeFlag&1&&w&&!w.persisted){const{leave:k,delayLeave:A}=w,I=()=>k(v,M);A?A(u.el,M,I):I()}else M()},Ds=(u,d)=>{let v;for(;u!==d;)v=C(u),r(u),u=v;r(d)},Ce=(u,d,v)=>{const{bum:x,scope:w,update:M,subTree:k,um:A}=u;x&&zs(x),w.stop(),M&&(M.active=!1,Bt(k,u,d,v)),A&&Pt(A,d),Pt(()=>{u.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Lt=(u,d,v,x=!1,w=!1,M=0)=>{for(let k=M;k<u.length;k++)Bt(u[k],d,v,x,w)},Pe=u=>u.shapeFlag&6?Pe(u.component.subTree):u.shapeFlag&128?u.suspense.next():C(u.anchor||u.el),Be=(u,d,v)=>{u==null?d._vnode&&Bt(d._vnode,null,null,!0):y(d._vnode||null,u,d,null,null,null,v),ri(),d._vnode=u},Vt={p:y,um:Bt,m:Yt,r:xe,mt:Mt,mc:X,pc:It,pbc:st,n:Pe,o:t};let Ke,$e;return e&&([Ke,$e]=e(Vt)),{render:Be,hydrate:Ke,createApp:rl(Be,Ke)}}function ge({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function bn(t,e,s=!1){const n=t.children,r=e.children;if(V(n)&&V(r))for(let i=0;i<n.length;i++){const l=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=te(r[i]),a.el=l.el),s||bn(l,a))}}function ll(t){const e=t.slice(),s=[0];let n,r,i,l,a;const f=t.length;for(n=0;n<f;n++){const p=t[n];if(p!==0){if(r=s[s.length-1],t[r]<p){e[n]=r,s.push(n);continue}for(i=0,l=s.length-1;i<l;)a=i+l>>1,t[s[a]]<p?i=a+1:l=a;p<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,l=s[i-1];i-- >0;)s[i]=l,l=e[l];return s}const cl=t=>t.__isTeleport,Ve=t=>t&&(t.disabled||t.disabled===""),$r=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,wn=(t,e)=>{const s=t&&t.to;return vt(s)?e?e(s):null:s},al={__isTeleport:!0,process(t,e,s,n,r,i,l,a,f,p){const{mc:m,pc:b,pbc:C,o:{insert:O,querySelector:U,createText:J,createComment:y}}=p,R=Ve(e.props);let{shapeFlag:F,children:_,dynamicChildren:S}=e;if(t==null){const E=e.el=J(""),B=e.anchor=J("");O(E,s,n),O(B,s,n);const q=e.target=wn(e.props,U),z=e.targetAnchor=J("");q&&(O(z,q),l=l||$r(q));const X=(rt,st)=>{F&16&&m(_,rt,st,r,i,l,a,f)};R?X(s,B):q&&X(q,z)}else{e.el=t.el;const E=e.anchor=t.anchor,B=e.target=t.target,q=e.targetAnchor=t.targetAnchor,z=Ve(t.props),X=z?s:B,rt=z?E:q;if(l=l||$r(B),S?(C(t.dynamicChildren,S,X,r,i,l,a),bn(t,e,!0)):f||b(t,e,X,rt,r,i,l,a,!1),R)z||Cs(e,s,E,p,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const st=e.target=wn(e.props,U);st&&Cs(e,st,null,p,0)}else z&&Cs(e,B,q,p,1)}},remove(t,e,s,n,{um:r,o:{remove:i}},l){const{shapeFlag:a,children:f,anchor:p,targetAnchor:m,target:b,props:C}=t;if(b&&i(m),(l||!Ve(C))&&(i(p),a&16))for(let O=0;O<f.length;O++){const U=f[O];r(U,e,s,!0,!!U.dynamicChildren)}},move:Cs,hydrate:ul};function Cs(t,e,s,{o:{insert:n},m:r},i=2){i===0&&n(t.targetAnchor,e,s);const{el:l,anchor:a,shapeFlag:f,children:p,props:m}=t,b=i===2;if(b&&n(l,e,s),(!b||Ve(m))&&f&16)for(let C=0;C<p.length;C++)r(p[C],e,s,2);b&&n(a,e,s)}function ul(t,e,s,n,r,i,{o:{nextSibling:l,parentNode:a,querySelector:f}},p){const m=e.target=wn(e.props,f);if(m){const b=m._lpa||m.firstChild;e.shapeFlag&16&&(Ve(e.props)?(e.anchor=p(l(t),e,a(t),s,n,r,i),e.targetAnchor=b):(e.anchor=l(t),e.targetAnchor=p(b,e,m,s,n,r,i)),m._lpa=e.targetAnchor&&l(e.targetAnchor))}return e.anchor&&l(e.anchor)}const wc=al,fl=Symbol(),Rt=Symbol(void 0),_n=Symbol(void 0),Nt=Symbol(void 0),Ps=Symbol(void 0),Je=[];let me=null;function Hr(t=!1){Je.push(me=t?null:[])}function hl(){Je.pop(),me=Je[Je.length-1]||null}let Ss=1;function qr(t){Ss+=t}function Ur(t){return t.dynamicChildren=Ss>0?me||Te:null,hl(),Ss>0&&me&&me.push(t),t}function _c(t,e,s,n,r,i){return Ur(Yr(t,e,s,n,r,i,!0))}function Wr(t,e,s,n,r){return Ur(xt(t,e,s,n,r,!0))}function Ts(t){return t?t.__v_isVNode===!0:!1}function ve(t,e){return t.type===e.type&&t.key===e.key}const Es="__vInternal",zr=({key:t})=>t!=null?t:null,As=({ref:t,ref_key:e,ref_for:s})=>t!=null?vt(t)||dt(t)||Z(t)?{i:kt,r:t,k:e,f:!!s}:t:null;function Yr(t,e=null,s=null,n=0,r=null,i=t===Rt?0:1,l=!1,a=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&zr(e),ref:e&&As(e),scopeId:vs,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(xn(f,s),i&128&&t.normalize(f)):s&&(f.shapeFlag|=vt(s)?8:16),Ss>0&&!l&&me&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&me.push(f),f}const xt=dl;function dl(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===fl)&&(t=Nt),Ts(t)){const a=Fe(t,e,!0);return s&&xn(a,s),a}if(Pl(t)&&(t=t.__vccOpts),e){e=pl(e);let{class:a,style:f}=e;a&&!vt(a)&&(e.class=Ks(a)),ht(f)&&(fr(f)&&!V(f)&&(f=bt({},f)),e.style=Bs(f))}const l=vt(t)?1:ko(t)?128:cl(t)?64:ht(t)?4:Z(t)?2:0;return Yr(t,e,s,n,r,l,i,!0)}function pl(t){return t?fr(t)||Es in t?bt({},t):t:null}function Fe(t,e,s=!1){const{props:n,ref:r,patchFlag:i,children:l}=t,a=e?ml(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&zr(a),ref:e&&e.ref?s&&r?V(r)?r.concat(As(e)):[r,As(e)]:As(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fe(t.ssContent),ssFallback:t.ssFallback&&Fe(t.ssFallback),el:t.el,anchor:t.anchor}}function gl(t=" ",e=0){return xt(_n,null,t,e)}function xc(t,e){const s=xt(Ps,null,t);return s.staticCount=e,s}function Cc(t="",e=!1){return e?(Hr(),Wr(Nt,null,t)):xt(Nt,null,t)}function Kt(t){return t==null||typeof t=="boolean"?xt(Nt):V(t)?xt(Rt,null,t.slice()):typeof t=="object"?te(t):xt(_n,null,String(t))}function te(t){return t.el===null||t.memo?t:Fe(t)}function xn(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(V(e))s=16;else if(typeof e=="object")if(n&(1|64)){const r=e.default;r&&(r._c&&(r._d=!1),xn(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!(Es in e)?e._ctx=kt:r===3&&kt&&(kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:kt},s=32):(e=String(e),n&64?(s=16,e=[gl(e)]):s=8);t.children=e,t.shapeFlag|=s}function ml(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Ks([e.class,n.class]));else if(r==="style")e.style=Bs([e.style,n.style]);else if(rs(r)){const i=e[r],l=n[r];i!==l&&!(V(i)&&i.includes(l))&&(e[r]=i?[].concat(i,l):l)}else r!==""&&(e[r]=n[r])}return e}function $t(t,e,s,n=null){jt(t,e,7,[s,n])}function Pc(t,e,s,n){let r;const i=s&&s[n];if(V(t)||vt(t)){r=new Array(t.length);for(let l=0,a=t.length;l<a;l++)r[l]=e(t[l],l,void 0,i&&i[l])}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i&&i[l])}else if(ht(t))if(t[Symbol.iterator])r=Array.from(t,(l,a)=>e(l,a,void 0,i&&i[a]));else{const l=Object.keys(t);r=new Array(l.length);for(let a=0,f=l.length;a<f;a++){const p=l[a];r[a]=e(t[p],p,a,i&&i[a])}}else r=[];return s&&(s[n]=r),r}function Sc(t,e,s={},n,r){if(kt.isCE)return xt("slot",e==="default"?null:{name:e},n&&n());let i=t[e];i&&i._c&&(i._d=!1),Hr();const l=i&&Vr(i(s)),a=Wr(Rt,{key:s.key||`_${e}`},l||(n?n():[]),l&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Vr(t){return t.some(e=>Ts(e)?!(e.type===Nt||e.type===Rt&&!Vr(e.children)):!0)?t:null}const Cn=t=>t?Jr(t)?Pn(t)||t.proxy:Cn(t.parent):null,Ms=bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Cn(t.parent),$root:t=>Cn(t.root),$emit:t=>t.emit,$options:t=>Mr(t),$forceUpdate:t=>()=>ei(t.update),$nextTick:t=>Tl.bind(t.proxy),$watch:t=>Ol.bind(t)}),vl={get({_:t},e){const{ctx:s,setupState:n,data:r,props:i,accessCache:l,type:a,appContext:f}=t;let p;if(e[0]!=="$"){const O=l[e];if(O!==void 0)switch(O){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(n!==lt&&G(n,e))return l[e]=1,n[e];if(r!==lt&&G(r,e))return l[e]=2,r[e];if((p=t.propsOptions[0])&&G(p,e))return l[e]=3,i[e];if(s!==lt&&G(s,e))return l[e]=4,s[e];pn&&(l[e]=0)}}const m=Ms[e];let b,C;if(m)return e==="$attrs"&&Et(t,"get",e),m(t);if((b=a.__cssModules)&&(b=b[e]))return b;if(s!==lt&&G(s,e))return l[e]=4,s[e];if(C=f.config.globalProperties,G(C,e))return C[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;if(r!==lt&&G(r,e))r[e]=s;else if(n!==lt&&G(n,e))n[e]=s;else if(G(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},l){let a;return!!s[l]||t!==lt&&G(t,l)||e!==lt&&G(e,l)||(a=i[0])&&G(a,l)||G(n,l)||G(Ms,l)||G(r.config.globalProperties,l)}},yl=Kr();let bl=0;function wl(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||yl,i={uid:bl++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new zn(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kr(n,r),emitsOptions:yr(n,r),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:n.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=To.bind(null,i),t.ce&&t.ce(i),i}let wt=null;const Is=()=>wt||kt,Re=t=>{wt=t,t.scope.on()},ye=()=>{wt&&wt.scope.off(),wt=null};function Jr(t){return t.vnode.shapeFlag&4}let Os=!1;function _l(t,e=!1){Os=e;const{props:s,children:n}=t.vnode,r=Jr(t);Qo(t,s,r,e),el(t,n);const i=r?xl(t,e):void 0;return Os=!1,i}function xl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=ke(new Proxy(t.ctx,vl));const{setup:n}=s;if(n){const r=t.setupContext=n.length>1?Gr(t):null;Re(t),Oe();const i=ee(n,t,0,[t.props,r]);if(he(),ye(),Kn(i)){if(i.then(ye,ye),e)return i.then(l=>{Xr(t,l,e)}).catch(l=>{ks(l,t,0)});t.asyncDep=i}else Xr(t,i,e)}else Qr(t,e)}function Xr(t,e,s){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ht(e)&&(t.setupState=mr(e)),Qr(t,s)}let Zr;function Qr(t,e,s){const n=t.type;if(!t.render){if(!e&&Zr&&!n.render){const r=n.template;if(r){const{isCustomElement:i,compilerOptions:l}=t.appContext.config,{delimiters:a,compilerOptions:f}=n,p=bt(bt({isCustomElement:i,delimiters:a},l),f);n.render=Zr(r,p)}}t.render=n.render||Dt}Re(t),Oe(),Yo(t),he(),ye()}function Cl(t){return new Proxy(t.attrs,{get(e,s){return Et(t,"get","$attrs"),e[s]}})}function Gr(t){const e=n=>{t.exposed=n||{}};let s;return{get attrs(){return s||(s=Cl(t))},slots:t.slots,emit:t.emit,expose:e}}function Pn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(mr(ke(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ms)return Ms[s](t)}}))}function Pl(t){return Z(t)&&"__vccOpts"in t}function ee(t,e,s,n){let r;try{r=n?t(...n):t()}catch(i){ks(i,e,s)}return r}function jt(t,e,s,n){if(Z(t)){const i=ee(t,e,s,n);return i&&Kn(i)&&i.catch(l=>{ks(l,e,s)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(jt(t[i],e,s,n));return r}function ks(t,e,s,n=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const l=e.proxy,a=s;for(;i;){const p=i.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](t,l,a)===!1)return}i=i.parent}const f=e.appContext.config.errorHandler;if(f){ee(f,null,10,[t,l,a]);return}}Sl(t,s,r,n)}function Sl(t,e,s,n=!0){console.error(t)}let Fs=!1,Sn=!1;const At=[];let Wt=0;const Xe=[];let Ze=null,je=0;const Qe=[];let se=null,Le=0;const ti=Promise.resolve();let Tn=null,En=null;function Tl(t){const e=Tn||ti;return t?e.then(this?t.bind(this):t):e}function El(t){let e=Wt+1,s=At.length;for(;e<s;){const n=e+s>>>1;Ge(At[n])<t?e=n+1:s=n}return e}function ei(t){(!At.length||!At.includes(t,Fs&&t.allowRecurse?Wt+1:Wt))&&t!==En&&(t.id==null?At.push(t):At.splice(El(t.id),0,t),si())}function si(){!Fs&&!Sn&&(Sn=!0,Tn=ti.then(ii))}function Al(t){const e=At.indexOf(t);e>Wt&&At.splice(e,1)}function ni(t,e,s,n){V(t)?s.push(...t):(!e||!e.includes(t,t.allowRecurse?n+1:n))&&s.push(t),si()}function Ml(t){ni(t,Ze,Xe,je)}function Il(t){ni(t,se,Qe,Le)}function An(t,e=null){if(Xe.length){for(En=e,Ze=[...new Set(Xe)],Xe.length=0,je=0;je<Ze.length;je++)Ze[je]();Ze=null,je=0,En=null,An(t,e)}}function ri(t){if(Qe.length){const e=[...new Set(Qe)];if(Qe.length=0,se){se.push(...e);return}for(se=e,se.sort((s,n)=>Ge(s)-Ge(n)),Le=0;Le<se.length;Le++)se[Le]();se=null,Le=0}}const Ge=t=>t.id==null?1/0:t.id;function ii(t){Sn=!1,Fs=!0,An(t),At.sort((s,n)=>Ge(s)-Ge(n));const e=Dt;try{for(Wt=0;Wt<At.length;Wt++){const s=At[Wt];s&&s.active!==!1&&ee(s,null,14)}}finally{Wt=0,At.length=0,ri(),Fs=!1,Tn=null,(At.length||Xe.length||Qe.length)&&ii(t)}}const oi={};function Rs(t,e,s){return li(t,e,s)}function li(t,e,{immediate:s,deep:n,flush:r,onTrack:i,onTrigger:l}=lt){const a=wt;let f,p=!1,m=!1;if(dt(t)?(f=()=>t.value,p=!!t._shallow):Gt(t)?(f=()=>t,n=!0):V(t)?(m=!0,p=t.some(Gt),f=()=>t.map(R=>{if(dt(R))return R.value;if(Gt(R))return be(R);if(Z(R))return ee(R,a,2)})):Z(t)?e?f=()=>ee(t,a,2):f=()=>{if(!(a&&a.isUnmounted))return b&&b(),jt(t,a,3,[C])}:f=Dt,e&&n){const R=f;f=()=>be(R())}let b,C=R=>{b=y.onStop=()=>{ee(R,a,4)}};if(Os)return C=Dt,e?s&&jt(e,a,3,[f(),m?[]:void 0,C]):f(),Dt;let O=m?[]:oi;const U=()=>{if(!!y.active)if(e){const R=y.run();(n||p||(m?R.some((F,_)=>Ue(F,O[_])):Ue(R,O)))&&(b&&b(),jt(e,a,3,[R,O===oi?void 0:O,C]),O=R)}else y.run()};U.allowRecurse=!!e;let J;r==="sync"?J=U:r==="post"?J=()=>Pt(U,a&&a.suspense):J=()=>{!a||a.isMounted?Ml(U):U()};const y=new Zs(f,J);return e?s?U():O=y.run():r==="post"?Pt(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&Hs(a.scope.effects,y)}}function Ol(t,e,s){const n=this.proxy,r=vt(t)?t.includes(".")?ci(n,t):()=>n[t]:t.bind(n,n);let i;Z(e)?i=e:(i=e.handler,s=e);const l=wt;Re(this);const a=li(r,i.bind(n),s);return l?Re(l):ye(),a}function ci(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}function be(t,e){if(!ht(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),dt(t))be(t.value,e);else if(V(t))for(let s=0;s<t.length;s++)be(t[s],e);else if(Bn(t)||Ee(t))t.forEach(s=>{be(s,e)});else if(Hn(t))for(const s in t)be(t[s],e);return t}function Tc(){return kl().slots}function kl(){const t=Is();return t.setupContext||(t.setupContext=Gr(t))}function Fl(t,e,s){const n=arguments.length;return n===2?ht(e)&&!V(e)?Ts(e)?xt(t,null,[e]):xt(t,e):xt(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Ts(s)&&(s=[s]),xt(t,e,s))}const Rl="3.2.26",jl="http://www.w3.org/2000/svg",De=typeof document!="undefined"?document:null,ai=new Map,Ll={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e?De.createElementNS(jl,t):De.createElement(t,s?{is:s}:void 0);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>De.createTextNode(t),createComment:t=>De.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>De.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,s,n){const r=s?s.previousSibling:e.lastChild;let i=ai.get(t);if(!i){const l=De.createElement("template");if(l.innerHTML=n?`<svg>${t}</svg>`:t,i=l.content,n){const a=i.firstChild;for(;a.firstChild;)i.appendChild(a.firstChild);i.removeChild(a)}ai.set(t,i)}return e.insertBefore(i.cloneNode(!0),s),[r?r.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function Dl(t,e,s){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function Nl(t,e,s){const n=t.style,r=vt(s);if(s&&!r){for(const i in s)Mn(n,i,s[i]);if(e&&!vt(e))for(const i in e)s[i]==null&&Mn(n,i,"")}else{const i=n.display;r?e!==s&&(n.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=i)}}const ui=/\s*!important$/;function Mn(t,e,s){if(V(s))s.forEach(n=>Mn(t,e,n));else if(e.startsWith("--"))t.setProperty(e,s);else{const n=Bl(t,e);ui.test(s)?t.setProperty(Me(n),s.replace(ui,""),"important"):t[n]=s}}const fi=["Webkit","Moz","ms"],In={};function Bl(t,e){const s=In[e];if(s)return s;let n=Ae(e);if(n!=="filter"&&n in t)return In[e]=n;n=qn(n);for(let r=0;r<fi.length;r++){const i=fi[r]+n;if(i in t)return In[e]=i}return e}const hi="http://www.w3.org/1999/xlink";function Kl(t,e,s,n,r){if(n&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(hi,e.slice(6,e.length)):t.setAttributeNS(hi,e,s);else{const i=Fi(e);s==null||i&&!Dn(s)?t.removeAttribute(e):t.setAttribute(e,i?"":s)}}function $l(t,e,s,n,r,i,l){if(e==="innerHTML"||e==="textContent"){n&&l(n,r,i),t[e]=s==null?"":s;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const a=s==null?"":s;(t.value!==a||t.tagName==="OPTION")&&(t.value=a),s==null&&t.removeAttribute(e);return}if(s===""||s==null){const a=typeof t[e];if(a==="boolean"){t[e]=Dn(s);return}else if(s==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=s}catch{}}let js=Date.now,di=!1;if(typeof window!="undefined"){js()>document.createEvent("Event").timeStamp&&(js=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);di=!!(t&&Number(t[1])<=53)}let On=0;const Hl=Promise.resolve(),ql=()=>{On=0},Ul=()=>On||(Hl.then(ql),On=js());function Wl(t,e,s,n){t.addEventListener(e,s,n)}function zl(t,e,s,n){t.removeEventListener(e,s,n)}function Yl(t,e,s,n,r=null){const i=t._vei||(t._vei={}),l=i[e];if(n&&l)l.value=n;else{const[a,f]=Vl(e);if(n){const p=i[e]=Jl(n,r);Wl(t,a,p,f)}else l&&(zl(t,a,l,f),i[e]=void 0)}}const pi=/(?:Once|Passive|Capture)$/;function Vl(t){let e;if(pi.test(t)){e={};let s;for(;s=t.match(pi);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[Me(t.slice(2)),e]}function Jl(t,e){const s=n=>{const r=n.timeStamp||js();(di||r>=s.attached-1)&&jt(Xl(n,s.value),e,5,[n])};return s.value=t,s.attached=Ul(),s}function Xl(t,e){if(V(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n(r))}else return e}const gi=/^on[a-z]/,Zl=(t,e,s,n,r=!1,i,l,a,f)=>{e==="class"?Dl(t,n,r):e==="style"?Nl(t,s,n):rs(e)?$s(e)||Yl(t,e,s,n,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ql(t,e,n,r))?$l(t,e,n,i,l,a,f):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Kl(t,e,n,r))};function Ql(t,e,s,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&gi.test(e)&&Z(s)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||gi.test(e)&&vt(s)?!1:e in t}const ne="transition",ts="animation",mi=(t,{slots:e})=>Fl(wr,Gl(t),e);mi.displayName="Transition";const vi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};mi.props=bt({},wr.props,vi);const we=(t,e=[])=>{V(t)?t.forEach(s=>s(...e)):t&&t(...e)},yi=t=>t?V(t)?t.some(e=>e.length>1):t.length>1:!1;function Gl(t){const e={};for(const D in t)D in vi||(e[D]=t[D]);if(t.css===!1)return e;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:f=i,appearActiveClass:p=l,appearToClass:m=a,leaveFromClass:b=`${s}-leave-from`,leaveActiveClass:C=`${s}-leave-active`,leaveToClass:O=`${s}-leave-to`}=t,U=tc(r),J=U&&U[0],y=U&&U[1],{onBeforeEnter:R,onEnter:F,onEnterCancelled:_,onLeave:S,onLeaveCancelled:E,onBeforeAppear:B=R,onAppear:q=F,onAppearCancelled:z=_}=e,X=(D,ct,at)=>{Ne(D,ct?m:a),Ne(D,ct?p:l),at&&at()},rt=(D,ct)=>{Ne(D,O),Ne(D,C),ct&&ct()},st=D=>(ct,at)=>{const Mt=D?q:F,pt=()=>X(ct,D,at);we(Mt,[ct,pt]),bi(()=>{Ne(ct,D?f:i),re(ct,D?m:a),yi(Mt)||wi(ct,n,J,pt)})};return bt(e,{onBeforeEnter(D){we(R,[D]),re(D,i),re(D,l)},onBeforeAppear(D){we(B,[D]),re(D,f),re(D,p)},onEnter:st(!1),onAppear:st(!0),onLeave(D,ct){const at=()=>rt(D,ct);re(D,b),nc(),re(D,C),bi(()=>{Ne(D,b),re(D,O),yi(S)||wi(D,n,y,at)}),we(S,[D,at])},onEnterCancelled(D){X(D,!1),we(_,[D])},onAppearCancelled(D){X(D,!0),we(z,[D])},onLeaveCancelled(D){rt(D),we(E,[D])}})}function tc(t){if(t==null)return null;if(ht(t))return[kn(t.enter),kn(t.leave)];{const e=kn(t);return[e,e]}}function kn(t){return Un(t)}function re(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(e)}function Ne(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:s}=t;s&&(s.delete(e),s.size||(t._vtc=void 0))}function bi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ec=0;function wi(t,e,s,n){const r=t._endId=++ec,i=()=>{r===t._endId&&n()};if(s)return setTimeout(i,s);const{type:l,timeout:a,propCount:f}=sc(t,e);if(!l)return n();const p=l+"end";let m=0;const b=()=>{t.removeEventListener(p,C),i()},C=O=>{O.target===t&&++m>=f&&b()};setTimeout(()=>{m<f&&b()},a+1),t.addEventListener(p,C)}function sc(t,e){const s=window.getComputedStyle(t),n=U=>(s[U]||"").split(", "),r=n(ne+"Delay"),i=n(ne+"Duration"),l=_i(r,i),a=n(ts+"Delay"),f=n(ts+"Duration"),p=_i(a,f);let m=null,b=0,C=0;e===ne?l>0&&(m=ne,b=l,C=i.length):e===ts?p>0&&(m=ts,b=p,C=f.length):(b=Math.max(l,p),m=b>0?l>p?ne:ts:null,C=m?m===ne?i.length:f.length:0);const O=m===ne&&/\b(transform|all)(,|$)/.test(s[ne+"Property"]);return{type:m,timeout:b,propCount:C,hasTransform:O}}function _i(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>xi(s)+xi(t[n])))}function xi(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function nc(){return document.body.offsetHeight}const rc=["ctrl","shift","alt","meta"],ic={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>rc.some(s=>t[`${s}Key`]&&!e.includes(s))},Ec=(t,e)=>(s,...n)=>{for(let r=0;r<e.length;r++){const i=ic[e[r]];if(i&&i(s,e))return}return t(s,...n)},Ac={beforeMount(t,{value:e},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):es(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),es(t,!0),n.enter(t)):n.leave(t,()=>{es(t,!1)}):es(t,e))},beforeUnmount(t,{value:e}){es(t,e)}};function es(t,e){t.style.display=e?t._vod:"none"}const oc=bt({patchProp:Zl},Ll);let Ci;function lc(){return Ci||(Ci=il(oc))}const Mc=(...t)=>{const e=lc().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=cc(n);if(!r)return;const i=e._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const l=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},e};function cc(t){return vt(t)?document.querySelector(t):t}var Pi={exports:{}},Si={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(window,function(){return function(s){var n={};function r(i){if(n[i])return n[i].exports;var l=n[i]={i,l:!1,exports:{}};return s[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=s,r.c=n,r.d=function(i,l,a){r.o(i,l)||Object.defineProperty(i,l,{enumerable:!0,get:a})},r.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,l){if(1&l&&(i=r(i)),8&l||4&l&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&l&&typeof i!="string")for(var f in i)r.d(a,f,function(p){return i[p]}.bind(null,f));return a},r.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(l,"a",l),l},r.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},r.p="",r(r.s=0)}([function(s,n,r){s.exports=r(1)},function(s,n,r){r.r(n);var i={};r.r(i),r.d(i,"translatePoint",function(){return a}),r.d(i,"refineFloat",function(){return f});var l={};function a(F,_){var S=F.getScreenCTM();if(!S)throw new Error("Should has screen CTM.");var E=F.createSVGPoint();return E.x=_.x,E.y=_.y,E.matrixTransform(S.inverse())}function f(F){return F+8-8}function p(){for(var F=0,_=1;_<arguments.length;_+=1){var S=_-1<0||arguments.length<=_-1?void 0:arguments[_-1],E=_<0||arguments.length<=_?void 0:arguments[_];F+=Math.sqrt(Math.pow(S.x-E.x,2)+Math.pow(S.y-E.y,2))}return F}function m(F,_){var S=F.w/2;if(!_)return{left:{x:F.x,y:F.y+S},right:{x:F.x,y:F.y-S}};var E=Math.atan((F.y-_.y)/(F.x-_.x)),B=f(Math.sin(E)*S),q=f(Math.cos(E)*S);return{left:{x:F.x-B,y:F.y+q},right:{x:F.x+B,y:F.y-q}}}function b(){for(var F=["M"],_=[],S=0;S<arguments.length;S+=1){var E=m(S<0||arguments.length<=S?void 0:arguments[S],(S-1<0||arguments.length<=S-1?void 0:arguments[S-1])||(S+1<0||arguments.length<=S+1?void 0:arguments[S+1])),B=E.left,q=E.right,z=_.slice(S)[0];z&&p(z,B)>p(z,q)?_.splice(S,0,B,q):_.splice(S,0,q,B)}for(var X=0,rt=_;X<rt.length;X++){var st=rt[X];F.push("".concat(st.x,",").concat(st.y))}return{d:F.join(" ")}}function C(F){return function(_){if(Array.isArray(_)){for(var S=0,E=new Array(_.length);S<_.length;S++)E[S]=_[S];return E}}(F)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(F,_){var S=Object.keys(F);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(F);_&&(E=E.filter(function(B){return Object.getOwnPropertyDescriptor(F,B).enumerable})),S.push.apply(S,E)}return S}function U(F){for(var _=1;_<arguments.length;_++){var S=arguments[_]!=null?arguments[_]:{};_%2?O(S,!0).forEach(function(E){J(F,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(S)):O(S).forEach(function(E){Object.defineProperty(F,E,Object.getOwnPropertyDescriptor(S,E))})}return F}function J(F,_,S){return _ in F?Object.defineProperty(F,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):F[_]=S,F}function y(){var F,_=[];if(arguments.length===0)return[];_.push(U({},arguments.length<=0?void 0:arguments[0]));for(var S=0;S<arguments.length-1;S++){var E=S<0||arguments.length<=S?void 0:arguments[S],B=S+1<0||arguments.length<=S+1?void 0:arguments[S+1];_.push({x:.75*E.x+.25*B.x,y:.75*E.y+.25*B.y,w:.75*E.w+.25*B.w},{x:.25*E.x+.75*B.x,y:.25*E.y+.75*B.y,w:.25*E.w+.75*B.w})}return arguments.length>2&&_.push(U({},(F=arguments.length-1)<0||arguments.length<=F?void 0:arguments[F])),_}function R(F){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,S=F,E=0;E<_;E+=1)S=y.apply(void 0,C(S));return S}r.r(l),r.d(l,"length",function(){return p}),r.d(n,"computeSidePoints",function(){return m}),r.d(n,"compute",function(){return b}),r.d(n,"util",function(){return i}),r.d(n,"vector2",function(){return l}),r.d(n,"smoothOnce",function(){return y}),r.d(n,"smooth",function(){return R})}])})})(Si);(function(t,e){var s=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(o,c,h)=>c in o?n(o,c,{enumerable:!0,configurable:!0,writable:!0,value:h}):o[c]=h,b=(o,c)=>{for(var h in c||(c={}))f.call(c,h)&&m(o,h,c[h]);if(l)for(var h of l(c))p.call(c,h)&&m(o,h,c[h]);return o},C=o=>n(o,"__esModule",{value:!0}),O=(o,c)=>{C(o);for(var h in c)n(o,h,{get:c[h],enumerable:!0})},U=(o,c,h)=>{if(c&&typeof c=="object"||typeof c=="function")for(let g of i(c))!f.call(o,g)&&g!=="default"&&n(o,g,{get:()=>c[g],enumerable:!(h=r(c,g))||h.enumerable});return o},J=o=>U(C(n(o!=null?s(a(o)):{},"default",o&&o.__esModule&&"default"in o?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o),y=(o,c,h)=>(m(o,typeof c!="symbol"?c+"":c,h),h);O(e,{Coordinate:()=>_,PaintCanvas:()=>ot,Point:()=>R,utils:()=>oe});var R=class{constructor(o=0,c=0){y(this,"x"),y(this,"y"),this.x=o,this.y=c}equals(o){return this.x===o.x&&this.y===o.y}move(o){return new R(this.x+o.x,this.y+o.y)}sub(o){return new R(this.x-o.x,this.y-o.y)}get angle(){return Math.atan2(this.y,this.x)/Math.PI*180}get length(){return Math.sqrt(this.x**2+this.y**2)}rotate(o){let c=o/180*Math.PI,h=Math.cos(c),g=Math.sin(c),T=this.x*h-this.y*g,N=this.x*g+this.y*h;return new R(T,N)}scale(o){return new R(this.x*o,this.y*o)}get invert(){return this.scale(-1)}},F=o=>new R(o.x,o.y),_=class{constructor(o){y(this,"scroll"),y(this,"scale"),y(this,"angle"),y(this,"flipY"),y(this,"_matrix");var c,h,g,T;this.scroll=(c=o==null?void 0:o.scroll)!=null?c:new R,this.scale=(h=o==null?void 0:o.scale)!=null?h:1,this.angle=(g=o==null?void 0:o.angle)!=null?g:0,this.flipY=(T=o==null?void 0:o.flipY)!=null?T:!1,this._matrix=new DOMMatrix().translateSelf(this.scroll.x,this.scroll.y).scaleSelf(this.scale,this.scale*(this.flipY?-1:1)).rotateSelf(this.angle)}toData(){return{scroll:this.scroll,scale:this.scale,angle:this.angle,flipY:this.flipY}}clone(o){let c=this.toData();return new _(b(b({},c),o))}get invert(){return new _({scroll:this.scroll.scale(-1),scale:1/this.scale,angle:-this.angle})}get matrix(){return this._matrix.translate(0)}get matrixScrollAfter(){return new DOMMatrix().scaleSelf(this.scale,this.scale*(this.flipY?-1:1)).rotateSelf(this.angle).translateSelf(this.scroll.x,this.scroll.y)}},S=class{constructor(o,c){y(this,"el"),y(this,"ctx"),y(this,"width"),y(this,"height"),y(this,"_coord");let h=document.createElement("canvas"),g=h.getContext("2d");if(!g)throw new Error("Failed to get 2d context for canvas");this.width=o,this.height=c,h.width=o,h.height=c,g.lineCap="round",this.el=h,this.ctx=g,this._coord=new _}get centor(){return new R(this.width/2,this.height/2)}set coord(o){let c=this.centor;this._coord=o,this.ctx.resetTransform(),this.ctx.translate(c.x,c.y),this.ctx.translate(o.scroll.x,o.scroll.y),this.ctx.rotate(-o.angle/180*Math.PI),this.ctx.scale(1/o.scale,1/o.scale)}get coord(){return this._coord}output(o,c){let h=this.centor;o.save();let g=this.coord;o.resetTransform(),o.translate(h.x,h.y),o.scale(g.scale,g.scale),o.rotate(g.angle/180*Math.PI),o.translate(-g.scroll.x,-g.scroll.y),o.translate(-h.x,-h.y),this.transferImageTo(o,c),o.restore()}copy(o,c){o.save(),o.resetTransform(),this.transferImageTo(o,c),o.restore()}transferImageTo(o,c){var h,g;o.globalAlpha=(h=c==null?void 0:c.alpha)!=null?h:1,o.globalCompositeOperation=(g=c==null?void 0:c.composition)!=null?g:"source-over",(c==null?void 0:c.background)&&(o.fillStyle=c.background,o.fillRect(0,0,this.width,this.height)),o.drawImage(this.el,0,0)}},E=class{constructor(){y(this,"listeners",[])}fire(o){this.listeners.forEach(c=>c(o))}listen(o){this.listeners.includes(o)||this.listeners.push(o)}clear(){this.listeners.length=0}},B=o=>{let c=o>=0?o%360:360+o%360;return c<=180?c:-360+c},q=o=>o/180*Math.PI,z=o=>{o.ctx.save(),o.ctx.resetTransform(),o.ctx.clearRect(0,0,o.width,o.height),o.ctx.restore()},X=(o,c)=>{o.ctx.save(),o.ctx.resetTransform(),o.ctx.fillStyle=c,o.ctx.fillRect(0,0,o.width,o.height),o.ctx.restore()},rt=(o,c,h,g,T="#91bccc")=>{let N=T,j=`${T}88`,H=new R(o.width/2,o.height/2).move(g.scroll),Q=Math.sqrt(o.width**2+o.height**2);o.ctx.save(),o.ctx.resetTransform(),o.ctx.translate(H.x,H.y),o.ctx.rotate(q(g.angle)),o.ctx.lineWidth=1,o.ctx.rotate(q(-90+360/c/2));for(let ft=0;ft<c;ft++){let yt=h&&ft%2!=0;o.ctx.strokeStyle=yt?j:N,o.ctx.setLineDash(yt?[4,4]:[]),o.ctx.beginPath(),o.ctx.moveTo(0,0),o.ctx.lineTo(0,Q),o.ctx.stroke(),o.ctx.closePath(),o.ctx.rotate(360/c/180*Math.PI)}o.ctx.restore()},st=class{constructor(o=10){y(this,"maxItems"),y(this,"items",[]),y(this,"onOverflow",new E),this.maxItems=o}get length(){return this.items.length}clear(){this.items.length=0}push(o){if(this.items.push(o),this.items.length<=this.maxItems)return;let c=this.items.shift();c&&this.onOverflow.fire(c)}pop(){return this.items.pop()}peek(o=0){return this.items[this.items.length-1+o]}getItems(){return[...this.items]}listenOverflow(...o){this.onOverflow.listen(...o)}},D=J(Si.exports),ct=o=>Math.max(.1,1-Math.pow(1-o,2)),at=o=>{let[c,...h]=o,g=`M${c.x}, ${c.y} L`+h.map(T=>isNaN(T.x+T.y)?"":`${T.x}, ${T.y}`).join(" ")+"";return new Path2D(g)},Mt=o=>{if(o.length<=2)return[o];for(let c=2;c<o.length;c++){let h=o[c-2],g=o[c-1],T=o[c-0],N=g.point.sub(h.point).angle,j=T.point.sub(g.point).angle,H=Math.abs(N-j);if(Math.abs(H-180)<30)return[o.slice(0,c),...Mt(o.slice(c-1))]}return[o]},pt=(o,c)=>{let h=o.map(N=>({x:N.point.x,y:N.point.y,w:Math.max(1,ct(N.pressure)*c)})),g=(0,D.smooth)(h,3),T=[];for(let N=0;N<g.length;N+=1){let{left:j,right:H}=(0,D.computeSidePoints)(g[N],g[N-1]||g[N+1]),Q=T.slice(N)[0],ft=!1;if(Q){let yt=D.vector2.length(Q,j),Tt=D.vector2.length(Q,H);ft=yt-Tt>0}Q&&ft?T.splice(N,0,j,H):T.splice(N,0,H,j)}return at(T)},ut=(o,c,h)=>{let g=c.flatMap(Mt).map(T=>pt(T,o.lineWidth));h.forEach(T=>{g.forEach(N=>{let j=new Path2D;j.addPath(N,T),o.fill(j)})})},et=class{constructor(){y(this,"_coord",new _),y(this,"children",[])}get coord(){return this._coord}set coord(o){this._coord=this._coord.clone(o)}get childCount(){return this.children.length}get state(){return{coord:this.coord,children:this.children.map(o=>o.state)}}set state(o){for(this.coord=o.coord,this.children.length>o.children.length&&(this.children.length=o.children.length);this.children.length<o.children.length;)this.addChildPen();o.children.forEach((c,h)=>{this.children[h].state=c})}get leafs(){return this.childCount?this.children.flatMap(o=>o.leafs):[this]}childAt(o){return this.children[o]}matrices(o){let c=o.multiply(this.coord.matrix);return this.childCount?this.children.flatMap(h=>h.matrices(c)):[c]}matricesBasedFirstPen(o){let c=this.matrices(o),h=c[0].inverse();return c.map(g=>g.multiply(h))}addChildPen(o){let c=new et;return o&&(c.coord=o),this.children.push(c),c}clearChildren(){this.children.length=0}drawStrokes(o,c){let h=this.matricesBasedFirstPen(new DOMMatrix);ut(o.ctx,c,h)}drawLines(o,c,h=.5){if(c.length<2)return;let g=o.ctx,T=c.map(j=>({point:j,pressure:h})),N=this.matricesBasedFirstPen(new DOMMatrix);ut(g,[T],N)}dryRun(o){let c=this.matrices(new DOMMatrix),h=c[0].inverse();return c.map(g=>o.map(T=>{let N=h.transformPoint(T.point);return{point:F(g.transformPoint(N)),pressure:T.pressure}}))}},It=o=>{let c=o.findIndex((j,H)=>H>0&&j.pressure===0);if(c===-1)return[o];let h=o.slice(0,c),g=o.slice(c),T=!(h.length===1&&h[0].pressure===0),N=!(g.length===1&&g[0].pressure===0);return[...T?[h]:[],...N?It(g):[]]},_e=(o,c)=>{o.ctx.fillStyle=c.style.color,o.ctx.lineWidth=c.style.penSize;let h=new et;h.state=c.penState,h.drawStrokes(o,It(c.inputs))},ie=o=>{z(o)},Yt=(o,c,h)=>{h.forEach(g=>{g.tool==="pen"&&(z(c),_e(c,g),c.copy(o.ctx,{alpha:g.style.alpha,composition:g.style.composition})),g.tool==="clearAll"&&ie(o)}),z(c)},Bt=o=>o.flatMap(c=>{if(!c.length)return c;let h=c[0],g=c[c.length-1];return[{point:h.point,pressure:0},...c,{point:g.point,pressure:0}]}),xe=class{constructor(o,c,h,g="pen"){y(this,"inputs",[]),y(this,"penState"),y(this,"style"),y(this,"canvasCoord"),y(this,"tool"),this.canvasCoord=o,this.penState=c,this.style=h,this.tool=g}addPoint(o,c){this.inputs.push({point:o,pressure:c})}clearPoints(o=!1,c=!1){let h=o?this.inputs.shift():void 0,g=c?this.inputs.pop():void 0;this.inputs.length=0,h&&this.inputs.push(h),g&&this.inputs.push(g)}get flatten(){let o=new et;o.state=this.penState;let c=o.dryRun(this.inputs),h=F(this.canvasCoord.matrixScrollAfter.transformPoint(o.coord.scroll)).invert,g=Bt(c).map(N=>({point:N.point.move(h),pressure:N.pressure}));o.clearChildren(),o.coord=new _;let T=new xe(this.canvasCoord,o.state,this.style,this.tool);return T.inputs.push(...g),T}},Ds=110,Ce=10,Lt=class{constructor(o,c){y(this,"canvasWidth"),y(this,"canvasHeight"),y(this,"history",new st(1/0)),y(this,"snapshots",new st(Ds/Ce)),y(this,"currentStroke"),y(this,"lastSnapshotIndex",0),y(this,"oldestSnapshotIndex",0),this.canvasWidth=o,this.canvasHeight=c,this.snapshots.listenOverflow(()=>{this.oldestSnapshotIndex+=Ce,console.log(`oldestSnapshotIndex: ${this.oldestSnapshotIndex}`)})}get strokes(){return this.history.peek()}get snapshot(){return this.snapshots.peek()}get prevSnapshot(){return this.snapshots.peek(-1)}get lastHistories(){return this.history.getItems().slice(this.lastSnapshotIndex)}addSnapshot(){let o=new S(this.canvasWidth,this.canvasHeight);this.snapshots.push(o);let c=this.prevSnapshot;c&&o.ctx.drawImage(c.el,0,0);let h=document.querySelector("#debug .history .snaps");if(h){let g=120/Math.max(o.el.width,o.el.height);o.el.style.width=`${o.el.width*g}px`,o.el.style.height=`${o.el.height*g}px`,h.appendChild(o.el),o.el.scrollIntoView()}this.lastSnapshotIndex=this.history.length-1}start(o,c,h,g){let T=new xe(o,c,h,g);return this.currentStroke=T,T}commit(o){if(!!this.currentStroke){if(this.history.push(this.currentStroke),this.history.length-this.lastSnapshotIndex-1===Ce){if(this.addSnapshot(),!this.snapshot){console.error("failed to add snapshot");return}o.copy(this.snapshot.ctx,{alpha:this.currentStroke.style.alpha}),console.log("new snapshot",this.snapshots.length)}this.currentStroke=void 0}}rollback(){!this.currentStroke||(console.log("stroke rollbacked"),this.currentStroke=void 0)}get current(){return this.currentStroke}get undoable(){return this.history.length>this.oldestSnapshotIndex}undo(o,c){var h;if(!this.undoable)return console.log("no more history"),!1;o.ctx.save();let g=this.snapshot;if(g?(o.ctx.resetTransform(),o.ctx.drawImage(g.el,0,0)):console.log("no prev"),this.history.pop(),Yt(o,c,this.lastHistories),!this.lastHistories.length&&this.snapshots.length>=1){let T=this.snapshots.pop();T&&((h=T.el.parentNode)==null||h.removeChild(T.el)),this.lastSnapshotIndex-=Ce,console.log("back prev snap",this.snapshots.length,this.snapshots)}return o.ctx.restore(),!0}},Pe=o=>{if(!o.length)return 0;let c=Math.floor(o.length*.9);return o[c].pressure},Be=class{constructor(o){y(this,"color"),y(this,"penSize"),y(this,"alpha"),y(this,"composition");var c,h,g,T;this.color=(c=o==null?void 0:o.color)!=null?c:"#000000",this.penSize=(h=o==null?void 0:o.penSize)!=null?h:10,this.alpha=(g=o==null?void 0:o.alpha)!=null?g:1,this.composition=(T=o==null?void 0:o.composition)!=null?T:""}toData(){return{color:this.color,penSize:this.penSize,alpha:this.alpha,composition:this.composition}}clone(o){return new Be(b(b({},this.toData()),o))}},Vt=o=>{var c;return(c={draw:"crosshair",scroll:"move","scroll:anchor":"move",zoomup:"zoom-in",zoomdown:"zoom-out",rotate:"grab","rotate:anchor":"grab","draw:line":"crosshair","draw:stamp":"crosshair"}[o])!=null?c:"default"},Ke=(o,c)=>{let h=o.getBoundingClientRect();return new R(h.left,h.top).move(c!=null?c:new R(h.width/2,h.height/2))},$e=(o,c,h)=>{let g=c.sub(o).angle;return h.sub(o).angle-g},u=(o,c,h)=>({distance:h.sub(c),angle:$e(o,c,h)}),d=(o,c,h,g,T,N=1,j=60)=>{let H={startPoint:new R,lastRawPoint:new R,isWatchMove:!1,lastMs:Date.now()},Q=()=>Ke(o,T==null?void 0:T()),ft=gt=>{!gt.isPrimary||(H.startPoint=H.lastRawPoint=new R(gt.clientX,gt.clientY),H.isWatchMove=c(gt))},yt=gt=>{if(!gt.isPrimary||!H.isWatchMove)return;let Ht=new R(gt.clientX,gt.clientY),Se=Ht.sub(H.lastRawPoint).length,le=Date.now(),ce=1e3/(le-H.lastMs);Se<N||ce>j||Se/N*(j/ce)<3||(h(gt,u(Q(),H.startPoint,Ht)),H.lastRawPoint=Ht,H.lastMs=le)},Tt=gt=>{if(!gt.isPrimary||!H.isWatchMove)return;let Ht=new R(gt.clientX,gt.clientY);g(gt,u(Q(),H.startPoint,Ht)),H.isWatchMove=!1};return o.addEventListener("pointerdown",ft),o.addEventListener("pointermove",yt),o.addEventListener("pointerup",Tt),()=>{o.removeEventListener("pointerdown",ft),o.removeEventListener("pointermove",yt),o.removeEventListener("pointerup",Tt)}},v=200,x=300,w=10,M=o=>{let[c,h]=o,g=new R((c.x+h.x)/2,(c.y+h.y)/2),T=c.sub(g).angle,N=h.sub(c).length;return{center:g,angle:T,dist:N}},k=o=>{let[c,h]=o;return{scroll:h.center.sub(c.center),angle:B(h.angle-c.angle),scale:h.dist/c.dist,center:h.center}},A=o=>{let c=[];for(let h=0;h<o.length;h++)c.push(o[h]);return c},I=(o,c,h=1)=>{let g=[],T,N=0,j=!1,H=0,Q=0,ft=()=>{N=Date.now(),j=!1,H=0,Q=0},yt=()=>Date.now()-N<=v,Tt=()=>{if(!(g.length<2))return[g[0].pagePoint,g[1].pagePoint]},gt=Ot=>{let Ct=A(Ot).map(mt=>mt.identifier);g=g.filter(mt=>!Ct.includes(mt.identifier))},Ht=Ot=>{gt(Ot);let Ct=A(Ot).map(mt=>({identifier:mt.identifier,pagePoint:new R(mt.clientX,mt.clientY)}));g=[...g,...Ct]},Se=Ot=>{let Ct=A(Ot),mt=!1;return Ct.forEach(Xt=>{let He=g.find(Oi=>Oi.identifier===Xt.identifier);if(!He)return;let qe=new R(Xt.clientX,Xt.clientY);He.pagePoint.sub(qe).length<=h||(He.pagePoint=qe,mt=!0)}),mt},le=Ot=>{var Ct;let mt=g.length;Ht(Ot.changedTouches),mt===0&&ft(),mt<=1&&g.length>=2&&yt()&&(j=!0,T=Tt(),(Ct=c.onStart)==null||Ct.call(c)),H=Math.max(H,g.length)},ce=Ot=>{var Ct,mt,Xt;gt(Ot.changedTouches),g.length<=1&&j&&(j=!1,T=void 0,(Ct=c.onEnd)==null||Ct.call(c),Date.now()-N<x&&Q<=w&&(H===2&&((mt=c.onTwoFingerTap)==null||mt.call(c)),H===3&&((Xt=c.onThreeFingerTap)==null||Xt.call(c))))},Ln=Ot=>{var Ct;if(!j||!Se(Ot.changedTouches))return;let mt=Tt();if(T&&mt){let[Xt,He]=[M(T),M(mt)],qe=k([Xt,He]);Q=Math.max(Q,qe.scroll.length),(Ct=c.onTransform)==null||Ct.call(c,qe,H)}};return o.addEventListener("touchstart",le),o.addEventListener("touchend",ce),o.addEventListener("touchcancel",ce),o.addEventListener("touchmove",Ln),()=>{o.removeEventListener("touchstart",le),o.removeEventListener("touchend",ce),o.removeEventListener("touchcancel",ce),o.removeEventListener("touchmove",Ln)}},P=.2,K=4,L=[0,P,.33,.5,.67,.75,1,1.5,2,2.5,3,3.5,K,1/0],$=(o,c)=>{var h;let g=c?L:[...L].reverse(),T=g.findIndex(j=>c?j>o:j<o),N=(h=g[T])!=null?h:0;return Math.max(P,Math.min(K,N))},Y=(o,c)=>{if(o.length!==c.length)return!1;for(let h=0;h<o.length;h++)if(o[h]!==c[h])return!1;return!0},W=2,it=3.5,nt={normal:"",eraser:"destination-out"},ot=class{constructor(o,c,h){y(this,"width"),y(this,"height"),y(this,"canvas"),y(this,"strokeCanvas"),y(this,"view"),y(this,"eventStatus",{isUseStrokeCanvas:!1,activeEvent:void 0,startCoord:new _,startAnchor:[new _,new _],startPoint:new R,lastPoint:new R,isCapturing:!1,isInMultiTouch:!1}),y(this,"history"),y(this,"requestChangeZoom",new E),y(this,"requestScrollTo",new E),y(this,"requestRotateTo",new E),y(this,"requestUndo",new E),y(this,"requestAnchorTransform",new E),y(this,"requestAnchorReset",new E),y(this,"pen",new et),y(this,"style",new Be),y(this,"stamp"),y(this,"_tool","draw"),y(this,"_backgroundColor","#ffffff"),y(this,"_anchor",new _),y(this,"_anchorChild",new _),y(this,"_penCount",[1,0]),y(this,"_isKaleido",[!1,!1]),y(this,"view2canvasPos",(j,H)=>{let Q=H==="start"?this.eventStatus.startCoord:this.coord;return j.scale(1/Q.scale).rotate(-Q.angle).move(Q.scroll)}),y(this,"canvas2viewPos",(j,H)=>{let Q=H==="start"?this.eventStatus.startCoord:this.coord;return j.move(Q.scroll.invert).rotate(Q.angle).scale(Q.scale)}),y(this,"canvas2displayPos",(j,H)=>this.canvas2viewPos(j,H).move(new R(this.width,this.height)).scale(1/W));var g,T;this.width=c,this.height=h,this.canvas=new S(this.width*W,this.height*W),this.strokeCanvas=new S(this.width*W,this.height*W),this.view=new S(this.width*W,this.height*W),this.history=new Lt(this.width*W,this.height*W),this.view.el.style.width=`${c}px`,this.view.el.style.height=`${h}px`,o.appendChild(this.view.el);let N=document.getElementById("debug");if(N){let j=200/Math.max(c,h);this.canvas.el.style.width=`${c*j}px`,this.canvas.el.style.height=`${h*j}px`,this.strokeCanvas.el.style.width=`${c*j}px`,this.strokeCanvas.el.style.height=`${h*j}px`,(g=N.querySelector(".canvas"))==null||g.appendChild(this.canvas.el),(T=N.querySelector(".stroke"))==null||T.appendChild(this.strokeCanvas.el)}I(this.view.el,{onStart:()=>{this.endStroke(!1),this.eventStatus.isInMultiTouch=!0},onTransform:(j,H)=>H>=3?this.onTouchTramsformAnchor(j):this.onTouchTramsformCanvas(j),onEnd:()=>{this.eventStatus.isInMultiTouch=!1},onTwoFingerTap:()=>this.requestUndo.fire(),onThreeFingerTap:()=>this.requestAnchorReset.fire()},it),d(this.view.el,j=>!this.eventStatus.isInMultiTouch&&this.onDown(j),(j,H)=>!this.eventStatus.isInMultiTouch&&this.onDrag(j,H),(j,H)=>!this.eventStatus.isInMultiTouch&&this.onUp(j,H),()=>this.tool==="scroll:anchor"||this.tool==="rotate:anchor"?this.canvas2displayPos(this.activeAnchor.scroll,"start"):void 0,it),this.childAnchor=new _({scroll:new R(300,0),angle:0}),this.tool="draw",this.clear(!1)}get coord(){return this.canvas.coord}set coord(o){this.canvas.coord=o.clone({}),this.rePaint()}get tool(){return this._tool}set tool(o){this._tool=o,this.view.el.style.cursor=Vt(o)}get isKaleido(){return[...this._isKaleido]}set isKaleido(o){Y(this.isKaleido,o)||(this._isKaleido=[...o],this.rebuildPen(),this.rePaint())}get penCount(){return this._penCount}set penCount(o){Y(this.penCount,o)||(this._penCount=[...o],this.rebuildPen(),this.rePaint())}get hasSubPen(){return this.penCount[1]>=1}set penWidth(o){this.style=this.style.clone({penSize:o})}set penColor(o){this.style=this.style.clone({color:o})}set penAlpha(o){this.style=this.style.clone({alpha:o})}get penKind(){return this.style.composition===""?"normal":"eraser"}set penKind(o){this.style=this.style.clone({composition:nt[o]})}get hasStamp(){return!!this.stamp}get backgroundColor(){return this._backgroundColor}set backgroundColor(o){this._backgroundColor!==o&&(this._backgroundColor=o,this.rePaint())}get anchor(){return this._anchor}set anchor(o){this._anchor=o,this.rebuildPen(),this.rePaint()}get childAnchor(){return this._anchorChild}set childAnchor(o){this._anchorChild=o,this.rebuildPen(),this.rePaint()}get activeAnchor(){return this.hasSubPen?this.childAnchor:this.anchor}set activeAnchor(o){this[this.hasSubPen?"childAnchor":"anchor"]=o}get relativeChildAnchor(){return new _({scroll:this.childAnchor.scroll.sub(this.anchor.scroll).rotate(-this.anchor.angle),angle:this.childAnchor.angle})}rebuildPen(){let o=this.pen,[c,h]=this.isKaleido,[g,T]=[this.penCount[0]*(c?2:1),this.penCount[1]*(h?2:1)],N=this.relativeChildAnchor;o.clearChildren(),o.coord=this._anchor;for(let j=0;j<g;j++){let H=this._isKaleido[0]&&j%2!=0,Q=o.addChildPen(new _({angle:j/g*360,flipY:H}));for(let ft=0;ft<T;ft++){let yt=this._isKaleido[1]&&ft%2!=0;Q.addChildPen(new _({scroll:N.scroll,angle:N.angle})).addChildPen(new _({angle:ft/T*360,flipY:yt}))}}}listenRequestZoom(...o){this.requestChangeZoom.listen(...o)}listenRequestScrollTo(...o){this.requestScrollTo.listen(...o)}listenRequestRotateTo(...o){this.requestRotateTo.listen(...o)}listenRequestUndo(...o){this.requestUndo.listen(...o)}listenRequestAnchorTransform(...o){this.requestAnchorTransform.listen(...o)}listenRequestAnchorReset(...o){this.requestAnchorReset.listen(...o)}clear(o=!0){o&&(this.history.start(this.coord,this.pen.state,this.style,"clearAll"),this.history.commit(this.canvas)),z(this.canvas),this.rePaint()}undo(){!this.history.undoable||(this.clear(!1),this.history.undo(this.canvas,this.strokeCanvas),this.rePaint())}async toImgBlob(){return new Promise((o,c)=>{this.canvas.el.toBlob(h=>h?o(h):c())})}event2viewPoint(o){return new R((o.offsetX-this.width/2)*W,(o.offsetY-this.height/2)*W)}onDown(o){let c=this.tool;if(this.eventStatus.activeEvent=c,this.eventStatus.startCoord=this.coord,this.eventStatus.startAnchor=[this.anchor,this.childAnchor],this.eventStatus.lastPoint=this.eventStatus.startPoint=this.event2viewPoint(o),this.eventStatus.isCapturing=o.metaKey,c==="zoomup"||c==="zoomdown"){let h=this.coord.scale;return c==="zoomup"&&this.requestChangeZoom.fire($(h,!0)),c==="zoomdown"&&this.requestChangeZoom.fire($(h,!1)),!1}return(c==="draw"||c==="draw:line"||c==="draw:stamp")&&this.startStroke(this.eventStatus.startPoint),!0}onDrag(o,c){let h=this.eventStatus.activeEvent,g={point:this.event2viewPoint(o),pressure:o.pressure};if((h==="draw"||h==="draw:line")&&(this.continueStroke(g.point,g.pressure||.5),this.eventStatus.lastPoint=g.point),h==="draw:stamp"&&this.stamp){let T=g.point.sub(this.eventStatus.startPoint),N=T.length/100;this.putStroke(this.stamp,this.eventStatus.startPoint,N,T.angle,!0)}h==="scroll"&&this.onScroll(c,"canvas"),h==="scroll:anchor"&&this.onScroll(c,"anchor"),h==="rotate"&&this.onRotate(c,"canvas"),h==="rotate:anchor"&&this.onRotate(c,"anchor"),o.preventDefault()}onUp(o,c){var h;let g=this.eventStatus.activeEvent,T=this.event2viewPoint(o),N=g==="draw"||g==="draw:line"||g==="draw:stamp";if(g==="draw"&&this.continueStroke(T,o.pressure||0),g==="draw:line"){z(this.strokeCanvas);let j=this.history.current,H=this.history.current?Pe(this.history.current.inputs):.5;if(this.continueStroke(T,H),j){j.inputs.length=1,j.inputs[0].pressure=H;let Q={point:T,pressure:H};j.inputs.push(Q,Q)}}if(g==="draw:stamp"&&this.stamp){z(this.strokeCanvas);let j=T.sub(this.eventStatus.startPoint),H=j.length/100;this.putStroke(this.stamp,this.eventStatus.startPoint,H,j.angle,!1)}if((g==="draw"||g==="draw:line")&&this.eventStatus.isCapturing){this.stamp=(h=this.history.current)==null?void 0:h.flatten,this.endStroke(!1),this.rePaint();return}g==="scroll"&&this.onScroll(c,"canvas"),g==="scroll:anchor"&&this.onScroll(c,"anchor"),g==="rotate"&&this.onRotate(c,"canvas"),g==="rotate:anchor"&&this.onRotate(c,"anchor"),this.endStroke(N)}startStroke(o){var c;let h=this.view2canvasPos(o,"start");this.eventStatus.isUseStrokeCanvas=!0,this.strokeCanvas.coord=new _,this.strokeCanvas.ctx.lineWidth=this.style.penSize;let g=()=>this.eventStatus.isCapturing?"#0044aa":this.penKind==="eraser"?this.backgroundColor:this.style.color;this.strokeCanvas.ctx.fillStyle=g(),this.history.start(this.coord,this.pen.state,this.style),(c=this.history.current)==null||c.addPoint(h,0)}continueStroke(o,c=.5){let h=this.eventStatus.activeEvent,g=this.view2canvasPos(o,"start"),T=this.history.current;if(T){if(T.addPoint(g,c),z(this.strokeCanvas),h==="draw:line"){let N={point:T.inputs[0].point,pressure:c},j=T.inputs[T.inputs.length-1],H=[N,j,j];this.pen.drawStrokes(this.strokeCanvas,[H])}else this.pen.drawStrokes(this.strokeCanvas,[T.inputs]);this.rePaint()}}endStroke(o){o?(this.history.commit(this.canvas),this.strokeCanvas.copy(this.canvas.ctx,{alpha:this.style.alpha,composition:this.style.composition}),z(this.strokeCanvas)):(this.history.rollback(),z(this.strokeCanvas)),this.eventStatus.isUseStrokeCanvas=!1,this.eventStatus.activeEvent=void 0,this.rePaint()}onScroll(o,c){let h=this.hasSubPen?1:0,g={canvas:this.eventStatus.startCoord,anchor:this.eventStatus.startAnchor[h]}[c].scroll.move(o.distance.scale(-1/this.coord.scale*W).rotate(-this.coord.angle).scale(c==="anchor"?-1:1));this.requestScrollTo.fire({point:g,target:c})}onRotate(o,c){let h=this.hasSubPen?1:0,g={canvas:this.eventStatus.startCoord,anchor:this.eventStatus.startAnchor[h]}[c].angle+o.angle;this.requestRotateTo.fire({angle:B(g),target:c})}onTouchTramsformCanvas(o){let c=this.eventStatus.startCoord,{center:h,scroll:g,scale:T,angle:N}=o,j=le=>le.rotate(-c.angle).scale(1/c.scale),H=new R((h.x-this.width/2)*W,(h.y-this.height/2)*W),Q=this.view2canvasPos(H,"start"),ft=new R(0,0),yt=this.view2canvasPos(ft,"start"),Tt=Q.sub(yt),gt=Tt.rotate(-N).scale(1/T).sub(Tt),Ht=g.scale(W),Se=j(Ht);this.requestRotateTo.fire({angle:c.angle+N,target:"canvas"}),this.requestChangeZoom.fire(c.scale*T),this.requestScrollTo.fire({point:c.scroll.sub(gt).sub(Se),target:"canvas"})}onTouchTramsformAnchor(o){let c=this.eventStatus.startAnchor[this.hasSubPen?1:0],h=o.angle+c.angle,g=o.scroll.scale(1/this.eventStatus.startCoord.scale*W).rotate(-this.eventStatus.startCoord.angle).move(c.scroll);this.requestAnchorTransform.fire(c.clone({scroll:g,angle:h}))}putStroke(o,c,h,g,T){let N=new et;N.state=this.pen.state;let j=this.style.clone({color:this.penKind==="eraser"?this.backgroundColor:this.style.color}),H=c,Q=new xe(this.coord,N.state,T?j:this.style,o.tool),ft=o.inputs.map(Tt=>({point:Tt.point.scale(h).rotate(g).move(H),pressure:Tt.pressure}));Q.inputs.push(...ft),_e(this.strokeCanvas,Q),this.rePaint();let yt=this.history.current;!T&&yt&&(yt.clearPoints(),yt.inputs.push(...Q.inputs))}rePaint(){X(this.view,"#cccccc"),this.canvas.output(this.view.ctx,{background:this.backgroundColor}),this.eventStatus.isUseStrokeCanvas&&(this.strokeCanvas.ctx.save(),this.strokeCanvas.coord=this.canvas.coord,this.strokeCanvas.output(this.view.ctx,{alpha:this.style.alpha}),this.strokeCanvas.ctx.restore());let[o,c]=this.penCount,[h,g]=[o>=2,c>=2];h&&rt(this.view,o*(this.isKaleido[0]?2:1),this.isKaleido[0],new _({scroll:this.coord.scroll.invert.move(this.anchor.scroll).scale(this.canvas.coord.scale).rotate(this.coord.angle),angle:this.coord.angle+this.anchor.angle}),g?"#cccccc":void 0),g&&rt(this.view,c*(this.isKaleido[1]?2:1),this.isKaleido[1],new _({scroll:this.coord.scroll.invert.move(this.childAnchor.scroll).scale(this.canvas.coord.scale).rotate(this.coord.angle),angle:this.coord.angle+this.anchor.angle+this.childAnchor.angle}),"#eeaabb")}},St=class{constructor(o){y(this,"target"),y(this,"_keys",{}),y(this,"_removeEvents"),y(this,"onChange",new E),this.target=o!=null?o:document.body;let c=g=>{let T=g.key;this._keys[T]=!0,this.onChange.fire({key:T,isDown:!0})},h=g=>{let T=g.key;delete this._keys[T],this.onChange.fire({key:T,isDown:!1})};this.target.addEventListener("keydown",c),this.target.addEventListener("keyup",h),this._removeEvents=()=>{this.target.removeEventListener("keydown",c),this.target.removeEventListener("keyup",h)}}listen(...o){this.onChange.listen(...o)}destroy(){this._removeEvents(),this.onChange.clear()}key(o){return!!this._keys[o]}get keys(){return Object.keys(this._keys)}},Jt=o=>{let c=o.includes(" "),h=o.includes("Alt"),g=o.includes("Meta"),T=o.includes("Shift");return c&&g&&h?"zoomdown":c&&g?"zoomup":c&&h&&T?"rotate:anchor":c&&h?"rotate":c&&T?"scroll:anchor":c?"scroll":T?"draw:line":h?"draw:stamp":"draw"},ns=class{constructor(){y(this,"keyWatcher"),y(this,"tool"),y(this,"onChange",new E),this.keyWatcher=new St,this.keyWatcher.listen(()=>{let o=Jt(this.keyWatcher.keys);this.tool!==o&&(this.tool=o,this.onChange.fire(o))})}listenChange(...o){this.onChange.listen(...o)}},oe={ToolKeyWatcher:ns}})(Pi,Pi.exports);var ac=!1;/*!
  * pinia v2.0.6
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */let Ti;const Ls=t=>Ti=t,Ei=Symbol();function Fn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ss;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ss||(ss={}));function Ic(){const t=Yn(!0),e=t.run(()=>pr({}));let s=[],n=[];const r=ke({install(i){Ls(r),r._a=i,i.provide(Ei,r),i.config.globalProperties.$pinia=r,n.forEach(l=>s.push(l)),n=[]},use(i){return!this._a&&!ac?n.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}function Ai(t,e,s){t.push(e);const n=()=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)};return!s&&Is()&&dn(n),n}function Mi(t,...e){t.forEach(s=>{s(...e)})}function Rn(t,e){for(const s in e){const n=e[s],r=t[s];Fn(r)&&Fn(n)&&!dt(n)&&!Gt(n)?t[s]=Rn(r,n):t[s]=n}return t}const uc=Symbol();function fc(t){return!Fn(t)||!t.hasOwnProperty(uc)}const{assign:zt}=Object;function hc(t){return!!(dt(t)&&t.effect)}function dc(t,e,s,n){const{state:r,actions:i,getters:l}=e,a=s.state.value[t];let f;function p(){a||(s.state.value[t]=r?r():{});const m=xo(s.state.value[t]);return zt(m,i,Object.keys(l||{}).reduce((b,C)=>(b[C]=ke(vr(()=>{Ls(s);const O=s._s.get(t);return l[C].call(O,O)})),b),{}))}return f=Ii(t,p,e,s),f.$reset=function(){const b=r?r():{};this.$patch(C=>{zt(C,b)})},f}const jn=()=>{};function Ii(t,e,s={},n,r){let i;const l=s.state,a=zt({actions:{}},s),f={deep:!0};let p,m=ke([]),b=ke([]),C;const O=n.state.value[t];!l&&!O&&(n.state.value[t]={}),pr({});function U(E){let B;p=!1,typeof E=="function"?(E(n.state.value[t]),B={type:ss.patchFunction,storeId:t,events:C}):(Rn(n.state.value[t],E),B={type:ss.patchObject,payload:E,storeId:t,events:C}),p=!0,Mi(m,B,n.state.value[t])}const J=jn;function y(){i.stop(),m=[],b=[],n._s.delete(t)}function R(E,B){return function(){Ls(n);const q=Array.from(arguments);let z=jn,X=jn;function rt(at){z=at}function st(at){X=at}Mi(b,{args:q,name:E,store:_,after:rt,onError:st});let D;try{D=B.apply(this&&this.$id===t?this:_,q)}catch(at){if(X(at)!==!1)throw at}if(D instanceof Promise)return D.then(at=>{const Mt=z(at);return Mt===void 0?at:Mt}).catch(at=>{if(X(at)!==!1)return Promise.reject(at)});const ct=z(D);return ct===void 0?D:ct}}const F={_p:n,$id:t,$onAction:Ai.bind(null,b),$patch:U,$reset:J,$subscribe(E,B={}){const q=Ai(m,E,B.detached),z=i.run(()=>Rs(()=>n.state.value[t],rt=>{p&&E({storeId:t,type:ss.direct,events:C},rt)},zt({},f,B)));return()=>{z(),q()}},$dispose:y},_=ms(zt({},F));n._s.set(t,_);const S=n._e.run(()=>(i=Yn(),i.run(()=>e())));for(const E in S){const B=S[E];if(dt(B)&&!hc(B)||Gt(B))l||(O&&fc(B)&&(dt(B)?B.value=O[E]:Rn(B,O[E])),n.state.value[t][E]=B);else if(typeof B=="function"){const q=R(E,B);S[E]=q,a.actions[E]=B}}return zt(_,S),zt(tt(_),S),Object.defineProperty(_,"$state",{get:()=>n.state.value[t],set:E=>{U(B=>{zt(B,E)})}}),n._p.forEach(E=>{zt(_,i.run(()=>E({store:_,app:n._a,pinia:n,options:a})))}),O&&l&&s.hydrate&&s.hydrate(_.$state,O),p=!0,_}function Oc(t,e,s){let n,r;const i=typeof e=="function";typeof t=="string"?(n=t,r=i?s:e):(r=t,n=t.id);function l(a,f){const p=Is();return a=a||p&&bs(Ei),a&&Ls(a),a=Ti,a._s.has(n)||(i?Ii(n,e,r,a):dc(n,r,a)),a._s.get(n)}return l.$id=n,l}export{mc as A,vc as B,gl as C,Tc as D,wc as E,Rt as F,gc as G,dn as H,Mc as I,Ic as J,mi as T,Pi as a,yc as b,Hr as c,Oc as d,_c as e,Cc as f,Yr as g,xc as h,vr as i,xt as j,Sc as k,Bs as l,Eo as m,Ks as n,Sr as o,dt as p,ms as q,pr as r,Ec as s,pc as t,wo as u,Pc as v,Rs as w,bc as x,Ac as y,Wr as z};
